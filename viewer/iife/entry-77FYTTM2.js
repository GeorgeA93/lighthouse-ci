(()=>{var z1=Object.create;var ee=Object.defineProperty,w1=Object.defineProperties,L1=Object.getOwnPropertyDescriptor,D1=Object.getOwnPropertyDescriptors,H1=Object.getOwnPropertyNames,Ge=Object.getOwnPropertySymbols,N1=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty,F1=Object.prototype.propertyIsEnumerable;var Ye=(e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))We.call(t,r)&&Ye(e,r,t[r]);if(Ge)for(var r of Ge(t))F1.call(t,r)&&Ye(e,r,t[r]);return e},H=(e,t)=>w1(e,D1(t)),X1=e=>ee(e,"__esModule",{value:!0});var B=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var j1=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of H1(t))!We.call(e,a)&&a!=="default"&&ee(e,a,{get:()=>t[a],enumerable:!(r=L1(t,a))||r.enumerable});return e},N=e=>j1(X1(ee(e!=null?z1(N1(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Z=(e,t,r)=>new Promise((a,s)=>{var o=c=>{try{f(r.next(c))}catch(u){s(u)}},i=c=>{try{f(r.throw(c))}catch(u){s(u)}},f=c=>c.done?a(c.value):Promise.resolve(c.value).then(o,i);f((r=r.apply(e,t)).next())});var it=B(($r,Y1)=>{Y1.exports="/iife/assets/loading-spinner.svg"});var lt=B((P4,U1)=>{U1.exports="/iife/assets/favicon.svg"});var ft=B((w4,q1)=>{q1.exports="/iife/assets/confetti.svg"});var ct=B((L4,K1)=>{K1.exports="/iife/assets/logo.svg"});var K=B((S4,bt)=>{"use strict";function He(e,t){if(Array.isArray(e)){if(!Array.isArray(t))return t;for(let r=0;r<Math.max(e.length,t.length);r++)e[r]=r<t.length?He(e[r],t[r]):e[r];return e}else if(typeof e=="object"&&e!==null){if(typeof t!="object"||t===null)return t;let r=e,a=t,s=new Set(Object.keys(r)),o=new Set(Object.keys(a));for(let i of new Set([...s,...o]))r[i]=i in a?He(r[i],a[i]):r[i];return e}else return t}function vt(e,t){let r=e.replace(/([a-z])([A-Z])/g,"$1-$2");return t&&t.alphanumericOnly&&(r=r.replace(/[^a-z0-9]+/gi,"-").replace(/-+/g,"-").replace(/(^-|-$)/g,"")),r.toLowerCase()}function Ct(e,t){let r=new Map;for(let a of e){let s=t(a),o=r.get(s)||[];o.push(a),r.set(s,o)}return r}function tr(e,t){let r,a=()=>{r&&clearTimeout(r),r=void 0},s=(...o)=>{r&&clearTimeout(r),r=setTimeout(()=>e(...o),t)};return s.cancel=a,s}bt.exports={merge:He,kebabCase:vt,debounce:tr,range(e,t,r=1){let a=[];for(let s=e;s<t;s+=r)a.push(s);return a},startCase(e){return vt(e).split("-").map(t=>`${t.slice(0,1).toUpperCase()}${t.slice(1)}`).join(" ")},padStart(e,t,r=" "){return e.length>=t?e:`${r.repeat(t)}${e}`.slice(-t)},padEnd(e,t,r=" "){return e.length>=t?e:`${e}${r.repeat(t)}`.slice(0,t)},isEqual(e,t,r=0){if(r>100||typeof e!=typeof t)return!1;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(typeof e!="object")return e===t;if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e))return Array.isArray(t)?e.every((i,f)=>this.isEqual(i,t[f]))&&e.length===t.length:!1;let a=Object.keys(e).sort(),s=Object.keys(t).sort();return a.every(i=>this.isEqual(e[i],t[i],r+1))&&this.isEqual(a,s)},cloneDeep(e){return JSON.parse(JSON.stringify(e))},uniqBy(e,t){let r=new Set,a=[];for(let s of e){let o=t(s);r.has(o)||(r.add(o),a.push(s))}return a},groupBy(e,t){return[...Ct(e,t).values()]},groupIntoMap:Ct,maxBy(e,t){let r,a=-1/0;for(let s of e){let o=t(s);o>a&&(r=s,a=o)}return r},minBy(e,t){return this.maxBy(e,r=>-t(r))},sortBy(e,t){return e.slice().sort((r,a)=>t(r)-t(a))},pick(e,t){let r={};for(let[a,s]of Object.entries(e)){let o=a;!t.includes(o)||(r[o]=s)}return r},omit(e,t,r={}){let a={};for(let[s,o]of Object.entries(e)){let i=s;t.includes(i)||r.dropUndefined&&o===void 0||(a[i]=o)}return a},shortId(e){return e.replace(/-/g,"").slice(0,12)},pluralize(e,t,r){return r=r||`${e}s`,t===1?e:r},uniqueId:(()=>{let e=1;return()=>e++})()}});var O=B((q4,Nt)=>{"use strict";var rr=K();function Ne(e,t="audit"){if(e===0)return"neutral";let r=e<0;return t==="score"&&(r=e>0),r?"improvement":"regression"}function nr(e){switch(e.type){case"error":return"regression";case"score":return Ne(Y(e).delta,"score");case"numericValue":case"itemCount":case"itemDelta":return Ne(Y(e).delta,"audit");case"itemAddition":return"regression";case"itemRemoval":return"improvement";default:return"neutral"}}function yt(e){if(!e.length)return"no change";if(e.some(r=>r.type==="itemAddition"))return"added";if(e.some(r=>r.type==="itemRemoval"))return"removed";let t=e.filter(r=>r.type==="itemDelta");return t.every(r=>r.compareValue>r.baseValue)?"worse":t.every(r=>r.compareValue<r.baseValue)?"better":t.length?"ambiguous":"no change"}function Fe(e,t,r){return e.filter(a=>{let s="compareItemIndex"in a?a.compareItemIndex:void 0,o="baseItemIndex"in a?a.baseItemIndex:void 0;return typeof s=="number"?s===t:typeof o=="number"?o===r:!1})}function Xe(e,t,r){return yt(Fe(e,t,r))}function Pt(e,t,r){let s=Fe(e,t,r).filter(gt);if(!!s.length)return Math.max(...s.map(o=>Y(o).delta))}function ar(e){return e.some(t=>t==="regression")?"regression":e.some(t=>t==="neutral")?"neutral":"improvement"}function gt(e){return["score","numericValue","itemCount","itemDelta"].includes(e.type)}function ht(e){return typeof e!="number"?"error":e>=.9?"pass":e>=.5?"average":"fail"}function sr(e,t){return typeof e!="number"?"error":e<=t[0]?"pass":e<=t[1]?"average":"fail"}function or(e){let t=gt(e)?Y(e).absoluteDelta:0;return e.type==="error"?1e12:e.type==="score"?1e10*t:e.type==="numericValue"?1e8*Math.max(t/1e3,1):e.type==="itemCount"?1e6*t:e.type==="itemAddition"||e.type==="itemRemoval"?1e5:e.type==="itemDelta"?Math.min(Math.max(t/100,1),1e5-1):0}function Y(e){let{baseValue:t,compareValue:r}=e,a=r-t,s=Math.abs(a);if(a===0)return{delta:a,absoluteDelta:s,percentDelta:0,percentAbsoluteDelta:0};let o=t?a/t:1,i=Math.abs(o);return{delta:a,absoluteDelta:s,percentDelta:o,percentAbsoluteDelta:i}}function E(e){let{auditId:t,type:r,baseValue:a,compareValue:s,baseItemIndex:o,compareItemIndex:i,itemKey:f}=e;if(r==="itemAddition"){if(typeof i!="number")throw new Error("compareItemIndex is not set");return{auditId:t,type:r,compareItemIndex:i}}if(r==="itemRemoval"){if(typeof o!="number")throw new Error("baseItemIndex is not set");return{auditId:t,type:r,baseItemIndex:o}}if(r==="displayValue")throw new Error("Do not use createAuditDiff for displayValue, just manually create");if(typeof s!="number"||typeof a!="number"||!Number.isFinite(a)||!Number.isFinite(s)||r==="error")return{auditId:t,type:"error",attemptedType:r,baseValue:a||NaN,compareValue:s||NaN};let c={auditId:t,type:"score",baseValue:a,compareValue:s};if(r==="itemDelta"){if(typeof f!="string")throw new Error("itemKey is not set");if(typeof o!="number"&&typeof i!="number")throw new Error("Either baseItemIndex or compareItemIndex must be set");return H(D({},c),{type:"itemDelta",baseItemIndex:o,compareItemIndex:i,itemKey:f})}return H(D({},c),{type:r})}function ir(e,t,r,a){let s=[];for(let o of Object.keys(t.item)){let i=t.item[o],f=r.item[o];typeof i!="number"||typeof f!="number"||!a.some(c=>c.key===o)||s.push(E({auditId:e,type:"itemDelta",itemKey:o,baseItemIndex:t.index,compareItemIndex:r.index,baseValue:i,compareValue:f}))}return s}function xt(e,t,r){let a=[];for(let s of e){if(s.type!=="itemAddition"&&s.type!=="itemRemoval")continue;let o=s.type==="itemAddition"?r[s.compareItemIndex]:t[s.baseItemIndex];for(let i of Object.keys(o)){let f=s.type==="itemAddition"?0:o[i],c=s.type==="itemAddition"?o[i]:0;if(typeof c!="number"||typeof f!="number")continue;let u=s.type==="itemAddition"?"compareItemIndex":"baseItemIndex",l=s.type==="itemAddition"?s.compareItemIndex:s.baseItemIndex;a.push(E({auditId:s.auditId,type:"itemDelta",itemKey:i,[u]:l,baseValue:f,compareValue:c}))}}return a}function zt(e){if(e.startsWith("http")&&e.includes("?"))try{let t=new URL(e);t.search="",e=t.href}catch(t){}return e.replace(/www-embed-player-[0-9a-z]+/i,"www-embed-player").replace(/player_ias-[0-9a-z]+/i,"player_ias").replace(/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/gi,"UUID").replace(/:[0-9]{3,5}\//,":PORT/").replace(/(\.|-)[0-9a-f]{6,8}\.(js|css|woff|html|png|jpeg|jpg|svg)/i,"$1HASH.$2")}function je(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))return e.map(t=>je(t));{let t=e,a=Object.keys(e).filter(o=>!o.startsWith("_")),s={};for(let o of a)s[o]=je(t[o]);return s}}function Te(e){if(typeof e.url=="string"&&e.url)return e.url;let t=e.source;return typeof t=="string"?t:t&&t.url?`${t.url}:${t.line}:${t.column}`:typeof e.label=="string"?e.label:typeof e.groupLabel=="string"?e.groupLabel:typeof e.name=="string"?e.name:typeof e.statistic=="string"?e.statistic:e.entity&&typeof e.entity.text=="string"?e.entity.text:JSON.stringify(je(e))}function wt(e,t){let r=rr.groupIntoMap([...e.map((s,o)=>({item:s,kind:"base",index:o})),...t.map((s,o)=>({item:s,kind:"compare",index:o}))],s=>zt(Te(s.item))),a=[];for(let s of r.values()){let o=s.filter(f=>f.kind==="base"),i=s.filter(f=>f.kind==="compare");if(o.length>1||i.length>1){for(let f of s)a.push({[f.kind]:f});continue}a.push({base:o[0],compare:i[0]})}return a}function lr(e,t){let r=["added","worse","ambiguous","removed","better","no change"];return t.map(a=>H(D({},a),{diffs:Fe(e,a.compare&&a.compare.index,a.base&&a.base.index)})).sort((a,s)=>{let o=a.compare&&a.compare.index,i=a.base&&a.base.index,f=s.compare&&s.compare.index,c=s.base&&s.base.index,u=r.indexOf(Xe(e,o,i)),l=r.indexOf(Xe(e,f,c)),d=Te(a.compare&&a.compare.item||a.base&&a.base.item||{}),m=Te(s.compare&&s.compare.item||s.base&&s.base.item||{}),p=Pt(e,o,i),v=Pt(e,f,c);return u===l?typeof p=="number"&&typeof v=="number"?v-p:d.localeCompare(m):u-l})}function fr(e,t,r,a){let s=[];for(let{base:o,compare:i}of wt(t,r))if(o&&i)s.push(...ir(e,o,i,a));else if(i)s.push({type:"itemAddition",auditId:e,compareItemIndex:i.index});else if(o)s.push({type:"itemRemoval",auditId:e,baseItemIndex:o.index});else throw new Error("Impossible");return s}function Lt(e){return e.scoreDisplayMode==="notApplicable"?1:e.scoreDisplayMode==="informative"?0:e.score}function Ae(e){return typeof e.numericValue!="number"&&e.details&&typeof e.details.overallSavingsMs=="number"?e.details.overallSavingsMs:e.numericValue}function Dt(e){return e.scoreDisplayMode==="notApplicable"?0:Ae(e)}function Ht(e){return e.details?{items:e.details.items||[],headings:e.details.headings||[]}:{items:[],headings:[]}}function cr(e,t,r={}){let a=e.id||"",{percentAbsoluteDeltaThreshold:s=0}=r,o=[];(typeof e.score=="number"||typeof t.score=="number")&&o.push(E({auditId:a,type:"score",baseValue:Lt(e),compareValue:Lt(t)})),(typeof Ae(e)=="number"||typeof Ae(t)=="number")&&o.push(E({auditId:a,type:"numericValue",baseValue:Dt(e),compareValue:Dt(t)})),(typeof e.displayValue=="string"||typeof t.displayValue=="string")&&o.push({auditId:a,type:"displayValue",baseValue:e.displayValue||"",compareValue:t.displayValue||""});let i=!1,f=e.details||{},c=t.details||{};if(f.type!=="debugdata"&&f.items||c.type!=="debugdata"&&c.items){i=!0;let{items:d,headings:m}=Ht(e),{items:p,headings:v}=Ht(t),h=m.concat(v);o.push(E({auditId:a,type:"itemCount",baseValue:d.length,compareValue:p.length})),o.push(...fr(a,d,p,h)),r.synthesizeItemKeyDiffs&&o.push(...xt(o,d,p))}let u=o.filter(d=>d.type==="error"||d.type==="itemAddition"||d.type==="itemRemoval"?!0:d.type==="score"&&!r.forceAllScoreDiffs?ht(d.baseValue)!==ht(d.compareValue):d.type==="displayValue"?d.baseValue!==d.compareValue&&!r.skipDisplayValueDiffs:Y(d).percentAbsoluteDelta>s);if(u.length===1&&u[0].type==="displayValue")return[];let l=t.score===1&&e.score===1;return u.every(d=>d.type==="displayValue"||d.type==="numericValue")&&(l||i)?[]:u}Nt.exports={findAuditDiffs:cr,getDiffSeverity:or,getDeltaLabel:Ne,getDeltaStats:Y,getDiffLabel:nr,getRowLabel:yt,getRowLabelForIndex:Xe,getMostSevereDiffLabel:ar,getMetricScoreLevel:sr,zipBaseAndCompareItems:wt,synthesizeItemKeyDiffs:xt,sortZippedBaseAndCompareItems:lr,replaceNondeterministicStrings:zt}});var Tt=B((i3,jt)=>{"use strict";function ur(e){let t=[],r=e.split(/\[([^\]]+?)\]\((https?:\/\/.*?)\)/g);for(;r.length;){let[a,s,o]=r.splice(0,3);a&&t.push({isLink:!1,text:a}),s&&o&&t.push({isLink:!0,text:s,linkHref:o})}return t}jt.exports={splitMarkdownLink:ur}});var b,T1,te,Ie,ue,de,A1,X={},pe=[],O1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function k(e,t){for(var r in t)e[r]=t[r];return e}function Je(e){var t=e.parentNode;t&&t.removeChild(e)}function n(e,t,r){var a,s,o,i,f=arguments;if(t=k({},t),arguments.length>3)for(r=[r],a=3;a<arguments.length;a++)r.push(f[a]);if(r!=null&&(t.children=r),e!=null&&e.defaultProps!=null)for(s in e.defaultProps)t[s]===void 0&&(t[s]=e.defaultProps[s]);return i=t.key,(o=t.ref)!=null&&delete t.ref,i!=null&&delete t.key,me(e,t,i,o)}function me(e,t,r,a){var s={type:e,props:t,key:r,ref:a,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(s),s}function C(e){return e.children}function M1(e){if(e==null||typeof e=="boolean")return null;if(typeof e=="string"||typeof e=="number")return me(null,e,null,null);if(e.__e!=null||e.__c!=null){var t=me(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function j(e,t){this.props=e,this.context=t}function re(e,t){if(t==null)return e.__p?re(e.__p,e.__p.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?re(e):null}function Ue(e){var t,r;if((e=e.__p)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Ue(e)}}function ve(e){(!e.__d&&(e.__d=!0)&&te.push(e)===1||ue!==b.debounceRendering)&&(ue=b.debounceRendering,(b.debounceRendering||Ie)(Z1))}function Z1(){var e,t,r,a,s,o,i;for(te.sort(function(f,c){return c.__v.__b-f.__v.__b});e=te.pop();)e.__d&&(r=void 0,a=void 0,o=(s=(t=e).__v).__e,(i=t.__P)&&(r=[],a=Ce(i,s,k({},s),t.__n,i.ownerSVGElement!==void 0,null,r,o==null?re(s):o),Qe(r,s),a!=o&&Ue(s)))}function Se(e,t,r,a,s,o,i,f,c){var u,l,d,m,p,v,h,x=r&&r.__k||pe,g=x.length;if(f==X&&(f=o!=null?o[0]:g?re(r,0):null),u=0,t.__k=ne(t.__k,function(y){if(y!=null){if(y.__p=t,y.__b=t.__b+1,(d=x[u])===null||d&&y.key==d.key&&y.type===d.type)x[u]=void 0;else for(l=0;l<g;l++){if((d=x[l])&&y.key==d.key&&y.type===d.type){x[l]=void 0;break}d=null}if(m=Ce(e,y,d=d||X,a,s,o,i,f,c),(l=y.ref)&&d.ref!=l&&(h||(h=[])).push(l,y.__c||m,y),m!=null){if(v==null&&(v=m),y.l!=null)m=y.l,y.l=null;else if(o==d||m!=f||m.parentNode==null){e:if(f==null||f.parentNode!==e)e.appendChild(m);else{for(p=f,l=0;(p=p.nextSibling)&&l<g;l+=2)if(p==m)break e;e.insertBefore(m,f)}t.type=="option"&&(e.value="")}f=m.nextSibling,typeof t.type=="function"&&(t.l=m)}}return u++,y}),t.__e=v,o!=null&&typeof t.type!="function")for(u=o.length;u--;)o[u]!=null&&Je(o[u]);for(u=g;u--;)x[u]!=null&&V(x[u],x[u]);if(h)for(u=0;u<h.length;u++)_e(h[u],h[++u],h[++u])}function ne(e,t,r){if(r==null&&(r=[]),e==null||typeof e=="boolean")t&&r.push(t(null));else if(Array.isArray(e))for(var a=0;a<e.length;a++)ne(e[a],t,r);else r.push(t?t(M1(e)):e);return r}function k1(e,t,r,a,s){var o;for(o in r)o in t||Ke(e,o,null,r[o],a);for(o in t)s&&typeof t[o]!="function"||o==="value"||o==="checked"||r[o]===t[o]||Ke(e,o,t[o],r[o],a)}function qe(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=typeof r=="number"&&O1.test(t)===!1?r+"px":r==null?"":r}function Ke(e,t,r,a,s){var o,i,f,c,u;if(!((t=s?t==="className"?"class":t:t==="class"?"className":t)==="key"||t==="children"))if(t==="style")if(o=e.style,typeof r=="string")o.cssText=r;else{if(typeof a=="string"&&(o.cssText="",a=null),a)for(i in a)r&&i in r||qe(o,i,"");if(r)for(f in r)a&&r[f]===a[f]||qe(o,f,r[f])}else t[0]==="o"&&t[1]==="n"?(c=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),r?(a||e.addEventListener(t,Ee,c),(e.u||(e.u={}))[t]=r):e.removeEventListener(t,Ee,c)):t!=="list"&&t!=="tagName"&&t!=="form"&&!s&&t in e?e[t]=r==null?"":r:typeof r!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?r==null||r===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):r==null||r===!1?e.removeAttribute(t):e.setAttribute(t,r))}function Ee(e){return this.u[e.type](b.event?b.event(e):e)}function Ce(e,t,r,a,s,o,i,f,c){var u,l,d,m,p,v,h,x,g,y,z=t.type;if(t.constructor!==void 0)return null;(u=b.__b)&&u(t);try{e:if(typeof z=="function"){if(x=t.props,g=(u=z.contextType)&&a[u.__c],y=u?g?g.props.value:u.__p:a,r.__c?h=(l=t.__c=r.__c).__p=l.__E:("prototype"in z&&z.prototype.render?t.__c=l=new z(x,y):(t.__c=l=new j(x,y),l.constructor=z,l.render=B1),g&&g.sub(l),l.props=x,l.state||(l.state={}),l.context=y,l.__n=a,d=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),z.getDerivedStateFromProps!=null&&k(l.__s==l.state?l.__s=k({},l.__s):l.__s,z.getDerivedStateFromProps(x,l.__s)),d)z.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&i.push(l);else{if(z.getDerivedStateFromProps==null&&l.t==null&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(x,y),!l.t&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(x,l.__s,y)===!1){for(l.props=x,l.state=l.__s,l.__d=!1,l.__v=t,t.__e=r.__e,t.__k=r.__k,u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__p=t);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(x,l.__s,y)}m=l.props,p=l.state,l.context=y,l.props=x,l.state=l.__s,(u=b.__r)&&u(t),l.__d=!1,l.__v=t,l.__P=e,u=l.render(l.props,l.state,l.context),t.__k=ne(u!=null&&u.type==C&&u.key==null?u.props.children:u),l.getChildContext!=null&&(a=k(k({},a),l.getChildContext())),d||l.getSnapshotBeforeUpdate==null||(v=l.getSnapshotBeforeUpdate(m,p)),Se(e,t,r,a,s,o,i,f,c),l.base=t.__e,u=l.__h,l.__h=[],u.some(function(F){F.call(l)}),d||m==null||l.componentDidUpdate==null||l.componentDidUpdate(m,p,v),h&&(l.__E=l.__p=null),l.t=null}else t.__e=R1(r.__e,t,r,a,s,o,i,c);(u=b.diffed)&&u(t)}catch(F){b.__e(F,t,r)}return t.__e}function Qe(e,t){for(var r;r=e.pop();)try{r.componentDidMount()}catch(a){b.__e(a,r.__v)}b.__c&&b.__c(t)}function R1(e,t,r,a,s,o,i,f){var c,u,l,d,m,p=r.props,v=t.props;if(s=t.type==="svg"||s,e==null&&o!=null){for(c=0;c<o.length;c++)if((u=o[c])!=null&&(t.type===null?u.nodeType===3:u.localName===t.type)){e=u,o[c]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(v);e=s?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),o=null}if(t.type===null)o!=null&&(o[o.indexOf(e)]=null),p!==v&&(e.data=v);else if(t!==r){if(o!=null&&(o=pe.slice.call(e.childNodes)),l=(p=r.props||X).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,!f){if(p===X)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(d||l)&&(d&&l&&d.__html==l.__html||(e.innerHTML=d&&d.__html||""))}k1(e,v,p,s,f),t.__k=t.props.children,d||Se(e,t,r,a,t.type!=="foreignObject"&&s,o,i,X,f),f||("value"in v&&v.value!==void 0&&v.value!==e.value&&(e.value=v.value==null?"":v.value),"checked"in v&&v.checked!==void 0&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function _e(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(a){b.__e(a,r)}}function V(e,t,r){var a,s,o;if(b.unmount&&b.unmount(e),(a=e.ref)&&_e(a,null,t),r||typeof e.type=="function"||(r=(s=e.__e)!=null),e.__e=e.l=null,(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(i){b.__e(i,t)}a.base=a.__P=null}if(a=e.__k)for(o=0;o<a.length;o++)a[o]&&V(a[o],t,r);s!=null&&Je(s)}function B1(e,t,r){return this.constructor(e,r)}function G(e,t,r){var a,s,o;b.__p&&b.__p(e,t),s=(a=r===de)?null:r&&r.__k||t.__k,e=n(C,null,[e]),o=[],Ce(t,a?t.__k=e:(r||t).__k=e,s||X,X,t.ownerSVGElement!==void 0,r&&!a?[r]:s?null:pe.slice.call(t.childNodes),o,r||X,a),Qe(o,e)}function $e(e,t){G(e,t,de)}b={},T1=function(e){return e!=null&&e.constructor===void 0},j.prototype.setState=function(e,t){var r=this.__s!==this.state&&this.__s||(this.__s=k({},this.state));(typeof e!="function"||(e=e(r,this.props)))&&k(r,e),e!=null&&this.__v&&(this.t=!1,t&&this.__h.push(t),ve(this))},j.prototype.forceUpdate=function(e){this.__v&&(this.t=!0,e&&this.__h.push(e),ve(this))},j.prototype.render=C,te=[],Ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ue=b.debounceRendering,b.__e=function(e,t,r){for(var a;t=t.__p;)if((a=t.__c)&&!a.__p)try{if(a.constructor&&a.constructor.getDerivedStateFromError!=null)a.setState(a.constructor.getDerivedStateFromError(e));else{if(a.componentDidCatch==null)continue;a.componentDidCatch(e)}return ve(a.__E=a)}catch(s){e=s}throw e},de=X,A1=0;var ae,T,be=[],et=b.__r;b.__r=function(e){et&&et(e),ae=0,(T=e.__c).__H&&(T.__H.t=xe(T.__H.t))};var tt=b.diffed;b.diffed=function(e){tt&&tt(e);var t=e.__c;if(t){var r=t.__H;r&&(r.u=(r.u.some(function(a){a.ref&&(a.ref.current=a.createHandle())}),[]),r.i=xe(r.i))}};var rt=b.unmount;function ye(e){b.__h&&b.__h(T);var t=T.__H||(T.__H={o:[],t:[],i:[],u:[]});return e>=t.o.length&&t.o.push({}),t.o[e]}function w(e){return nt(ot,e)}function nt(e,t,r){var a=ye(ae++);return a.__c||(a.__c=T,a.v=[r?r(t):ot(void 0,t),function(s){var o=e(a.v[0],s);a.v[0]!==o&&(a.v[0]=o,a.__c.setState({}))}]),a.v}function L(e,t){var r=ye(ae++);st(r.m,t)&&(r.v=e,r.m=t,T.__H.t.push(r),at(T))}function A(e){return Pe(function(){return{current:e}},[])}function Pe(e,t){var r=ye(ae++);return st(r.m,t)?(r.m=t,r.p=e,r.v=e()):r.v}function ge(e,t){return Pe(function(){return e},t)}b.unmount=function(e){rt&&rt(e);var t=e.__c;if(t){var r=t.__H;r&&r.o.forEach(function(a){return a.l&&a.l()})}};var at=function(){};function V1(){be.some(function(e){e.s=!1,e.__P&&(e.__H.t=xe(e.__H.t))}),be=[]}typeof window!="undefined"&&(he=b.requestAnimationFrame,at=function(e){(!e.s&&(e.s=!0)&&be.push(e)===1||he!==b.requestAnimationFrame)&&(he=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){var r=function(){clearTimeout(a),cancelAnimationFrame(s),setTimeout(t)},a=setTimeout(r,100),s=requestAnimationFrame(r)})(V1))});var he;function xe(e){return e.forEach(G1),e.forEach(W1),[]}function G1(e){e.l&&e.l()}function W1(e){var t=e.v();typeof t=="function"&&(e.l=t)}function st(e,t){return!e||t.some(function(r,a){return r!==e[a]})}function ot(e,t){return typeof t=="function"?t(e):t}function ze(e){var t,r,a="";if(e)if(typeof e=="object")if(e.push)for(t=0;t<e.length;t++)e[t]&&(r=ze(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(r=ze(t))&&(a&&(a+=" "),a+=r);else typeof e!="boolean"&&!e.call&&(a&&(a+=" "),a+=e);return a}function P(){for(var e=0,t,r="";e<arguments.length;)(t=ze(arguments[e++]))&&(r&&(r+=" "),r+=t);return r}var I1=it(),J1=()=>n("img",{src:I1,alt:"Loading spinner"}),we=e=>n("div",{className:P("loading-spinner",{"loading-spinner--container":!e.solo})},n(J1,null));var R=e=>{let{children:t}=e;return n("div",{className:P("paper",e.className)},t)};function se(e){let t="https://googlechrome.github.io";window.addEventListener("message",function o(i){i.origin===t&&s&&i.data.opened&&(s.postMessage({lhresults:e},t),window.removeEventListener("message",o))});let r=e.fetchTime,a=`${e.lighthouseVersion}-${e.requestedUrl}-${r}`,s=window.open(`${t}/lighthouse/viewer`,a)}var oe=e=>{let{children:t,lhr:r}=e,[a,s]=w(!1);return n("span",{className:P("lhr-viewer-link",e.className,{"lhr-viewer-link--loading":a}),onClick:o=>Z(void 0,null,function*(){if(o.preventDefault(),o.stopImmediatePropagation(),a)return;if(typeof r=="object")return se(r);s(!0);let i=yield r();s(!1),se(i)})},t)};var S1=lt(),Le=e=>{let{lhr:t,label:r="Open Report"}=e;return n(oe,{lhr:t},n("div",{className:"lhr-viewer-button",role:"button"},n("img",{src:S1})," ",n("span",null,r)))};var ut=ft(),ie=ct();function De(e){if(e.includes("<script>window.__LIGHTHOUSE_JSON__ = ")){let t=e.match(/window\.__LIGHTHOUSE_JSON__ = (.*?});<\/script>/);t&&(e=t[1])}if(e.trim().charAt(0)==="{")try{let t=JSON.parse(e);return t.lighthouseVersion?t:new Error("JSON did not contain a lighthouseVersion")}catch(t){return new Error(`File was not valid JSON (${t.message})`)}return new Error("File was not a valid report")}function dt(e,t){let r=new URL(e.finalUrl),a=new URL(t.finalUrl);return r.hostname!==a.hostname?"hostname":r.pathname!==a.pathname?"pathname":r.search!==a.search?"path":r.pathname.length<5?"timestamp-hostname":"timestamp-pathname"}var E1=e=>{let{filename:t,lhr:r}=e.report,a=new URL(r.finalUrl),s=new Date(r.fetchTime).toLocaleString(),o={filename:t,hostname:a.hostname,pathname:a.pathname,path:`${a.pathname}${a.search}`,"timestamp-hostname":`${s} (${a.hostname})`,"timestamp-pathname":`${s} (${a.pathname})`},i=`${a.href} at ${s}`;return n("span",{title:i},o[e.displayType])};function pt(e,t){let r=t[0].name,a=new FileReader;a.readAsText(t[0],"utf-8"),a.addEventListener("load",()=>{if(typeof a.result!="string"){e.addToast({message:"File was not readable as text!",level:"error"});return}let s=De(a.result);if(s instanceof Error){e.addToast({message:`Invalid file: ${s.message}`,level:"error"});return}e.setReport({filename:r,data:a.result,lhr:s})}),a.addEventListener("error",()=>{e.addToast({message:"File was not readable!",level:"error"})})}function Q1(e,t,r,a){a.target instanceof HTMLElement&&(a.stopPropagation(),a.preventDefault(),r(!0),t.current=a.target)}function _1(e,t,r,a){a.target===t.current&&(a.stopPropagation(),a.preventDefault(),r(!1),t.current=void 0)}function $1(e,t,r,a){!t.current||(a.stopPropagation(),a.preventDefault())}function er(e,t,r,a){!t.current||a instanceof DragEvent&&(!a.dataTransfer||(a.stopPropagation(),a.preventDefault(),r(!1),t.current=void 0,pt(e,a.dataTransfer.files)))}var W=e=>{let[t,r]=w(!1),a=A(void 0),s=c=>Q1(e,a,r,c),o=c=>_1(e,a,r,c),i=c=>$1(e,a,r,c),f=c=>er(e,a,r,c);return L(()=>{if(e.dragTarget==="document")return document.addEventListener("dragenter",s),document.addEventListener("dragleave",o),document.addEventListener("dragover",i),document.addEventListener("drop",f),()=>{document.removeEventListener("dragenter",s),document.removeEventListener("dragleave",o),document.removeEventListener("dragover",i),document.removeEventListener("drop",f)}},[e.dragTarget,e.addToast,e.setReport,a.current]),n("div",{className:P(`report-upload-box report-upload-box--${e.variant}`,{"report-upload-box--drop":t,"report-upload-box--document-target":e.dragTarget==="document"}),onDragEnter:s,onDragLeave:o,onDragOver:i,onDrop:f},n("div",{className:"report-upload-box__drop-outline"},"Drop your report to upload"),n("span",{className:"report-upload-box__label"},e.variant==="base"?"Base":"Compare"),n("div",{className:"report-upload-box__file"},e.report?n(E1,{report:e.report,displayType:e.displayType}):n(C,null)),n("div",{className:"report-upload-box__lhr-link"},e.report&&e.showOpenLhrLink?n(Le,{lhr:e.report.lhr,label:"View Report"}):null),n("div",{className:"report-upload-box__spacer"}),n("label",{className:"report-upload-box__upload"},"Upload",n("input",{type:"file",style:{display:"none"},onChange:c=>{let u=c.target;if(!(u instanceof HTMLInputElement))return;let l=u.files;!l||l.length!==1||pt(e,l)}})))};var mt=e=>n("div",{className:"landing"},n("div",{className:"landing__background"},n("img",{src:ut,alt:"Lighthouse CI Background Image"})),n(R,{className:"landing__paper"},n("a",{className:"landing__info-icon",href:"https://github.com/GoogleChrome/lighthouse-ci",target:"_blank",rel:"noopener noreferrer"},n("i",{className:"material-icons"},"info")),n("img",{className:"landing__logo",src:ie,alt:"Lighthouse Logo"}),n("h1",null,"Lighthouse CI Diff"),n("span",null,"Drag or upload two Lighthouse reports to start comparing!"),n("div",{className:"landing__upload"},n(W,{variant:"base",report:e.baseReport,setReport:e.setBaseReport,addToast:e.addToast,displayType:"filename",dragTarget:e.baseReport?"self":"document"}),n(W,{variant:"compare",report:e.compareReport,setReport:e.setCompareReport,addToast:e.addToast,displayType:"filename",dragTarget:e.baseReport?"document":"self"}))));var p1=N(K()),ce=N(O());var Ft=e=>{let{options:t,value:r,setValue:a,className:s,title:o,label:i}=e,f=t.some(c=>c.value===r)?t:[...t,{value:r,label:r}];return n("div",{className:P("dropdown",s),style:{position:"relative"},"data-tooltip":o},n("label",null,i?n("span",{className:"dropdown__label"},i):n(C,null),n("select",{onChange:c=>{c.target instanceof HTMLSelectElement&&a(c.target.value)}},f.map(c=>n("option",{key:c.value,value:c.value,selected:c.value===r},c.label)))),n("div",{className:"dropdown__chevron"},n("i",{className:"material-icons"},"arrow_drop_down")))};function Xt(e){let t=A(void 0);return L(()=>{t.current=e},[e]),t.current}var M=e=>{let t=e.score;return t>=.9?n("i",{className:"lh-score-pass"}):t>=.5?n("i",{className:"lh-score-average"}):n("i",{className:"lh-score-fail"},n("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg"},n("polygon",{points:"10,110 60,10 110,110"})))},I=e=>(e.audit.score||0)>=.9?n("span",{className:"lh-score-word"},"Pass"):n("span",{className:"lh-score-word"},"Fail");var At=N(Tt());var Ot=e=>{let t=(0,At.splitMarkdownLink)(e.text);return n(C,null,t.map((r,a)=>{if(!r.isLink)return n("span",{key:a},r.text);let s=new URL(r.linkHref);return["https://developers.google.com","https://web.dev"].includes(s.origin)&&(s.searchParams.set("utm_source","lighthouse"),s.searchParams.set("utm_medium","ci")),n("a",{key:a,href:s.href,target:"_blank",rel:"noopener noreferrer"},r.text)}))};var Q=()=>n("span",{style:{display:"inline-block",width:4,height:1}});var _=N(O());var Mt=e=>{let t=e.type,{compareValue:r,baseValue:a,diff:s}=e,o=r===void 0?a:r;typeof o=="object"&&o.type&&(t=o.type);let i=s?(0,_.getDiffLabel)(s):"neutral",f=Number.isFinite(a)?a:0,c=Number.isFinite(r)?r:0,u=`Base Value: ${Math.round(f).toLocaleString()}`,l=`Compare Value: ${Math.round(c).toLocaleString()}`,d=`${u}, ${l}`,m=s&&(0,_.getDeltaStats)(s).percentAbsoluteDelta!==1?` (${((0,_.getDeltaStats)(s).percentAbsoluteDelta*100).toLocaleString(void 0,{maximumFractionDigits:0})}%)`:"";switch(t){case"bytes":{let p=Math.abs((c-f)/1024);return n("pre",{className:`simple-details--${i}`,"data-tooltip":d},c>=f?"+":"-",p.toLocaleString(void 0,{maximumFractionDigits:Math.abs(p)<1?1:0}),n(Q,null),"KB",m)}case"ms":case"timespanMs":{let p=Math.abs(Math.round(c-f));return n("pre",{className:`simple-details--${i}`,"data-tooltip":d},c>=f?"+":"-",p.toLocaleString(),n(Q,null),"ms",m)}case"thumbnail":return n("img",{style:{width:48,height:48,objectFit:"cover"},src:o,onError:p=>{let v=p.srcElement;v instanceof HTMLImageElement&&(v.onerror=null,v.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")}});case"url":{let p=o,v="";try{let h=new URL(o);p=h.pathname,v=h.hostname}catch(h){}return n("span",{title:o},p,v?n("span",{className:"simple-details__url-hostname"},"(",v,")"):"")}case"link":return o.url?n("a",{target:"_blank",rel:"noopener noreferrer",href:o.url},o.text):n("span",null,o.text);case"code":return n("pre",null,o);case"numeric":return n("pre",{className:`simple-details--${i}`},c>=f?"+":"-",Math.abs(c-f).toLocaleString(),m);case"text":return n("span",null,o);case"node":return n("pre",null,o.snippet);case"source-location":{if(!o.url)return n("pre",null,JSON.stringify(o));let{url:p,line:v,column:h}=o;return n("pre",null,p,":",v,":",h)}case"debugdata":return n(C,null);default:{let p=JSON.stringify(e);return n("pre",{"data-tooltip":p},p.slice(0,20))}}};var J=N(O());function dr(e){switch(e){case"bytes":case"ms":case"timespanMs":case"numeric":return!0;default:return!1}}var Zt=e=>{let{audit:t,baseAudit:r,diffs:a}=e.pair;if(!t.details)return n(C,null);let{headings:s,items:o}=t.details;if(!s||!o)return n(C,null);let i=r&&r.details&&r.details.headings||[],f=r&&r.details&&r.details.items||[],c=(0,J.zipBaseAndCompareItems)(f,o),u=(0,J.sortZippedBaseAndCompareItems)(a,c),l=s.length?s:i,d=l.findIndex(m=>dr(m.valueType||m.itemType||"unknown"))-1;return d<0&&(d=l.length-1),n("div",{className:"table-details"},n("table",null,n("thead",null,n("tr",null,l.map((m,p)=>{let v=m.valueType||m.itemType||"unknown";return n(C,{key:p},n("th",{className:`table-column--${v}`},m.label||m.text),d===p?n("th",null):null)}))),n("tbody",null,u.map(({base:m,compare:p,diffs:v})=>{if(!(p||m))return null;let x=`${m&&m.index}-${p&&p.index}`,g=(0,J.getRowLabelForIndex)(a,p&&p.index,m&&m.index);return n("tr",{key:x},l.map((y,z)=>{let F=y.valueType||y.itemType||"unknown",S=v.find(Ve=>Ve.type==="itemDelta"&&Ve.itemKey===y.key),q=y.key&&p&&p.item[y.key],Be=y.key&&m&&m.item[y.key];return n(C,{key:z},n("td",{className:`table-column--${F}`},q||Be?n(Mt,{type:F,compareValue:q,baseValue:Be,diff:S}):n(C,null)),d===z?n("td",{className:"table-column--row-label"},g==="added"||g==="removed"?g:""):null)}))}))))};var kt=N(O());var Rt={"first-contentful-paint":[0,1e4],"first-meaningful-paint":[0,1e4],"largest-contentful-paint":[0,15e3],"speed-index":[0,15e3],"first-cpu-idle":[0,15e3],interactive:[0,2e4],"estimated-input-latency":[0,1500],"max-potential-fid":[0,1500],"total-blocking-time":[0,1500],"cumulative-layout-shift":[0,1],__default__:[0,30*1e3]},Bt=(e,t)=>{let r=e&&e.id||"";return(Rt[r]||Rt.__default__)[t==="lower"?0:1]},Vt=(e,t)=>{let r=t==="up"?Math.ceil:Math.floor;return e<10?r(e):e<100?r(e/10)*10:e<1e3?r(e/100)*100:e<1e4?r(e/1e3)*1e3:r(e/2500)*2500},pr=(e,t)=>{if(e&&e.id==="cumulative-layout-shift")return"none";if(t==="metrics"||t==="load-opportunities")return"ms";if(!e)return"none";if(e.details&&e.details.overallSavingsMs)return"ms";let r=e.displayValue||"";return/[0-9,.]+\s(ms|s)$/.test(r)?"ms":/[0-9,.]+\s(KB|MB)$/.test(r)?"bytes":"none"},U=(e,t)=>{let{asDelta:r=!1,withSuffix:a=!1,unit:s="none"}=t,o=Math.round(e),i=0,f="";s==="ms"&&(f="ms",Math.abs(o)>=1e3&&!t.preventSecondsConversion&&(o/=1e3,i=1,f="s")),s==="bytes"&&(f="KB",o/=1024,Math.abs(o)>=500&&(o/=1024,i=1,f="MB")),s==="none"&&(Math.abs(o)<10&&(o=e,i=1),Math.abs(o)>=50&&(o/=1e3,i=1,f="K"));let c=o.toLocaleString(void 0,{minimumFractionDigits:i,maximumFractionDigits:i}),u=r&&o>=0?"+":"",l=u+c+(a?f:"");return{element:n("span",null,u,c,a?n(C,null,n(Q,null),f):""),string:l,length:l.length}},le=e=>{let{diff:t,audit:r,groupId:a}=e,s=pr(r,a),o=t.compareValue,i=t.baseValue;if(typeof i!="number"||typeof o!="number")return n("span",null,"No diff available");let f=o-i,c=Math.min(o,i),u=Math.max(o,i),l=e.showAsBigPicture?Bt(r,"lower"):Vt(c*.8,"down"),d=e.showAsBigPicture?Bt(r,"upper"):Vt(u*1.2,"up"),m=d-l,p=Math.min(Math.max(c,l),d),v=Math.min(Math.max(u,l),d),h=100*(p-l)/m,x=100-100*(v-l)/m,g=(0,kt.getDeltaLabel)(f,"audit"),y=c===o,z=`${U(i,{unit:s,withSuffix:!0}).string} to ${U(o,{withSuffix:!0,unit:s}).string}`;if(e.showAsNarrow)return n("div",{className:P("audit-numeric-diff",`text--${g}`),"data-tooltip":z},U(f,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:s}).element);let{element:F,length:S}=U(f,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:s}),q=S*10*100/300;return n(C,null,n("div",{className:"audit-numeric-diff"},n("div",{className:"audit-numeric-diff__left-label"},U(l,{unit:s}).element),n("div",{className:"audit-numeric-diff__bar"},n("div",{className:P("audit-numeric-diff__box",{"audit-numeric-diff__box--improvement":g==="improvement","audit-numeric-diff__box--regression":g==="regression"}),style:{left:`${h}%`,right:`${x}%`},"data-tooltip":z},n("div",{className:"audit-numeric-diff__now",style:{left:y?"0%":"100%"}}),n("div",{className:P("audit-numeric-diff__delta-label",{"audit-numeric-diff__delta-label--narrow-left":g==="improvement"&&h<q,"audit-numeric-diff__delta-label--narrow-right":g==="regression"&&x<q}),style:{[y?"right":"left"]:"100%"}},F))),n("div",{className:"audit-numeric-diff__right-label"},U(d,{unit:s}).element)))};var Gt=N(K());var $=N(O());var mr={"font-display":"font_download","uses-rel-preconnect":"language","user-timings":"timer","bootup-time":"speed","mainthread-work-breakdown":"speed","third-party-summary":"language",deprecations:"error","errors-in-console":"error","font-sizes":"format_size"},Wt=e=>{let t=e.audit.id||"",r=e.groupId||"",a="";return r.includes("opportunities")&&(a="web_asset"),r.includes("a11y")&&(a="code"),t.includes("image")&&(a="photo"),a=mr[t]||a||"list_alt",n("i",{className:"material-icons"},a)},vr=e=>n(C,null,n(I,{audit:e.baseAudit}),n("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,$.getDiffLabel)(e.diff)}`},"arrow_forward"),n(I,{audit:e.audit})),Cr=e=>n(C,null,n("span",null,e.diff.baseValue),n("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,$.getDiffLabel)(e.diff)}`},"arrow_forward"),n("span",null,e.diff.compareValue));function br(e){switch(e){case"added":case"worse":case"ambiguous":return"regression";case"removed":case"better":return"improvement";case"no change":return"neutral"}}function yr(e){return Gt.uniqBy(e.map(t=>({base:"baseItemIndex"in t?t.baseItemIndex:void 0,compare:"compareItemIndex"in t?t.compareItemIndex:void 0})).filter(t=>typeof t.base=="number"||typeof t.compare=="number"),t=>`${t.base}-${t.compare}`)}var Oe=e=>{let{diffs:t,baseAudit:r,groupId:a}=e,s=r.details&&r.details.items||[],i=yr(t).map(l=>(0,$.getRowLabelForIndex)(t,l.compare,l.base)).map(br),f=i.filter(l=>l==="regression").length,c=i.filter(l=>l==="improvement").length,u=n(C,null,n("div",{className:"audit-group__diff-badge-group"},n(Wt,{audit:e.audit,groupId:a}),n("div",{className:"audit-group__diff-badges"},n("span",{className:"audit-group__diff-badge"},s.length))),n("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${c>f?"improvement":"regression"}`},"arrow_forward"));return n(C,null,e.showAsNarrow?n(C,null):u,n("div",{className:P("audit-group__diff-badge-group")},n(Wt,{audit:e.audit,groupId:a}),n("div",{className:P("audit-group__diff-badges",{"audit-group__diff-badge-group--multiple":Boolean(f&&c)})},f?n("span",{className:"audit-group__diff-badge audit-group__diff-badge--regression"},f):null,c?n("span",{className:"audit-group__diff-badge audit-group__diff-badge--improvement"},c):null)))},Pr=()=>n("div",{className:"audit-group__error-message","data-tooltip":"Audit did not run in the base report"},n("i",{className:"material-icons"},"error_outline")," Audit Missing"),gr=e=>{let t="An unknown error occurred while trying to compare the audit results.";return e.audit.scoreDisplayMode==="error"?t=`Audit in compare report errored: ${e.audit.errorMessage}`:e.baseAudit.scoreDisplayMode==="error"&&(t=`Audit in base report errored: ${e.baseAudit.errorMessage}`),n("div",{className:"audit-group__error-message","data-tooltip":t},n("i",{className:"material-icons"},"error_outline")," Audit Error")},Yt=e=>{let{audit:t,baseAudit:r,diffs:a,group:s}=e.pair,o=n("span",null,"No diff available");if(!r)return n(Pr,null);if(a.find(d=>d.type==="error"))return n(gr,{audit:t,baseAudit:r});let f=a.find(d=>d.type==="numericValue");if(f&&f.type==="numericValue")return n(le,{diff:f,audit:t,groupId:s.id,showAsBigPicture:e.showAsBigPicture,showAsNarrow:e.showAsNarrow});if(a.some(d=>d.type==="itemAddition"||d.type==="itemRemoval"||d.type==="itemDelta"))return n(Oe,{diffs:a,audit:t,baseAudit:r,groupId:s.id,showAsNarrow:e.showAsNarrow});let u=a.find(d=>d.type==="score");if(u)return n(vr,{diff:u,audit:t,baseAudit:r});let l=a.find(d=>d.type==="displayValue");return!l||l.type!=="displayValue"?o:n(Cr,{diff:l,audit:t,baseAudit:r})};var It=N(O());var hr=e=>{let{audit:t,baseAudit:r}=e.pair;return r?n("div",{className:"audit-detail-pane__audit-details--binary"},n(I,{audit:r}),n("i",{className:`material-icons audit-group__diff-arrow audit-group__diff-arrow--${(0,It.getDiffLabel)(e.diff)}`},"arrow_forward"),n(I,{audit:t})):null},xr=e=>{let t=e.pair.audit.scoreDisplayMode==="error"?e.pair.audit:e.pair.baseAudit;return t?n(C,null,n("div",{className:"audit-detail-pane__audit-details-summary"},"Error occurred in the"," ",t===e.pair.baseAudit?"base report:":"compare report:"),n("pre",null,t.errorMessage||"Unknown error")):null},zr=e=>{let{pair:t}=e,r=t.audit.details||{type:"unknown"},a=t.baseAudit&&t.baseAudit.details||{type:"unknown"},s=Boolean((r.items||[]).length||(a.items||[]).length),o,i,f;if(t.audit.errorMessage||t.baseAudit&&t.baseAudit.errorMessage)return n(xr,{pair:t});(r.type==="table"||r.type==="opportunity")&&s&&(i=n(Zt,{pair:t}),t.baseAudit&&(o=n(Oe,H(D({},t),{baseAudit:t.baseAudit,groupId:t.group.id}))));let c=t.diffs.find(l=>l.type==="numericValue");if(c&&c.type==="numericValue"&&(f=n(le,{diff:c,audit:t.audit})),i||c)return n(C,null,n("div",{className:"audit-detail-pane__audit-details-summary"},f||o),i);let u=t.diffs.find(l=>l.type==="score");return u&&u.type==="score"?n(hr,{diff:u,pair:e.pair}):n("pre",null,JSON.stringify(e.pair,null,2))},Jt=e=>{let{audit:t}=e.pair;return n("div",{id:`audit-detail-pane-audit--${t.id}`,className:P("audit-detail-pane__audit")},n("div",{className:"audit-detail-pane__score"},n(M,{score:t.score||0})),n("div",{className:"audit-detail-pane__audit-title"},t.title),n("div",{className:"audit-detail-pane__audit-description"},n(Ot,{text:t.description||""})),n("div",{className:"audit-detail-pane__audit-details"},n(zr,{pair:e.pair})))};var Ut=e=>{let t=A(void 0),r=Xt(e.selectedAuditId);return L(()=>{let a=e.selectedAuditId,s=t.current;if(!s||!a||a===r)return;let o=s.querySelector(`#audit-detail-pane-audit--${a}`);!o||!(o instanceof HTMLElement)||s.scrollTo(0,o.offsetTop)},[e.selectedAuditId,r]),n("div",{className:"audit-detail-pane",ref:a=>t.current=a},n("div",{className:"audit-detail-pane__close",onClick:()=>e.setSelectedAuditId(null)},n("i",{className:"material-icons"},"close")),e.pairs.map(a=>{let{audit:s}=a;if(!!s.id)return n(Jt,{key:s.id,pair:a})}))};var St=N(O());var qt=e=>{let t=Math.round(e.score*100),r=e.diff?e.diff.baseValue:e.score,a=Math.round(r*100),s=e.diff?(0,St.getDiffLabel)(e.diff):"neutral",i=`${Math.max(0,e.score*352-2)} 352`,f=Math.abs(a-t),c=Math.max(0,f/100*352-2),u=`${c} 352`,l=`rotate(${Math.min(t,a)/100*360}deg)`,d=`rotate(${e.score*360}deg)`;return n("div",{className:P("gauge",`gauge--${s}`)},n("div",{className:"gauge-arc"},n("svg",{viewBox:"0 0 120 120"},n("circle",{className:"gauge-arc__arc",transform:"rotate(-90 60 60)",r:"56",cx:"60",cy:"60",style:{strokeDasharray:i}})),n("div",{className:"gauge-arc__delta-wrapper",style:{transform:l,display:c<1?"none":"block"}},n("svg",{viewBox:"0 0 120 120"},n("circle",{className:"gauge-arc__arc",transform:"rotate(-90 60 60)",r:"56",cx:"60",cy:"60",style:{strokeDasharray:u}}))),n("div",{className:"gauge-arc__indicator-wrapper",style:{transform:d}},n("div",{className:"gauge-arc__indicator"}))),n("span",null,t))};var Kt=N(K());var Et=e=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${e.deltaType}`},n("g",{"fill-rule":"nonzero",fill:"none"},n("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),n("path",{d:"M12 4.3l6.3 2.8v4.2c0 3.88-2.69 7.52-6.3 8.4-3.61-.88-6.3-4.51-6.3-8.4V7.1L12 4.3zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.3 12.82c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z",fill:"#FFF"}))),Qt=e=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${e.deltaType}`},n("g",{"fill-rule":"nonzero",fill:"none"},n("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),n("path",{d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z",fill:"#FFF"}))),_t=e=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:`pwa-icon pwa-icon--${e.deltaType}`},n("g",{fill:"none","fill-rule":"evenodd"},n("rect",{class:"pwa-icon__background",width:"24",height:"24",rx:"12"}),n("path",{d:"M5 5h14v14H5z"}),n("path",{fill:"#FFF",d:"M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z"})));function fe(e,t,r){return e[r]===t[r]?"neutral":t[r]?"improvement":"regression"}function Me(e){let t=e.categories.pwa,r=Kt.groupIntoMap(t.auditRefs,s=>s.group),a=(s=[])=>s.map(o=>e.audits[o.id]).every(o=>o&&o.score===1);return{optimized:a(r.get("pwa-optimized")||[]),installable:a(r.get("pwa-installable")||[]),fastAndReliable:a(r.get("pwa-fast-reliable")||[])}}var $t=e=>{let{status:t}=e,r=t.optimized&&t.installable&&t.fastAndReliable;return n("div",{className:P("pwa-gauge",{"pwa-gauge--all":r,"pwa-gauge--pwa-optimized":!r&&t.optimized,"pwa-gauge--pwa-installable":!r&&t.installable,"pwa-gauge--pwa-fast-reliable":!r&&t.fastAndReliable})},n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"},n("defs",null,n("linearGradient",{id:"pwa-gauge__check-circle__gradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%"},n("stop",{"stop-color":"#00C852",offset:"0%"}),n("stop",{"stop-color":"#009688",offset:"100%"})),n("linearGradient",{id:"pwa-gauge__installable__shadow-gradient",x1:"76.056%",x2:"24.111%",y1:"82.995%",y2:"24.735%"},n("stop",{"stop-color":"#A5D6A7",offset:"0%"}),n("stop",{"stop-color":"#80CBC4",offset:"100%"})),n("linearGradient",{id:"pwa-gauge__fast-reliable__shadow-gradient",x1:"76.056%",y1:"82.995%",x2:"25.678%",y2:"26.493%"},n("stop",{"stop-color":"#64B5F6",offset:"0%"}),n("stop",{"stop-color":"#2979FF",offset:"100%"})),n("g",{id:"pwa-gauge__fast-reliable-badge"},n("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),n("path",{fill:"#304FFE",d:"M10 3.58l5.25 2.34v3.5c0 3.23-2.24 6.26-5.25 7-3.01-.74-5.25-3.77-5.25-7v-3.5L10 3.58zm-.47 10.74l2.76-4.83.03-.07c.04-.08 0-.24-.22-.24h-1.64l.47-3.26h-.47l-2.7 4.77c-.02.01.05-.1-.04.05-.09.16-.1.31.18.31h1.63l-.47 3.27h.47z"})),n("g",{id:"pwa-gauge__installable-badge"},n("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),n("path",{fill:"#009688",d:"M10 4.167A5.835 5.835 0 0 0 4.167 10 5.835 5.835 0 0 0 10 15.833 5.835 5.835 0 0 0 15.833 10 5.835 5.835 0 0 0 10 4.167zm2.917 6.416h-2.334v2.334H9.417v-2.334H7.083V9.417h2.334V7.083h1.166v2.334h2.334v1.166z"}))),n("g",{stroke:"none","fill-rule":"nonzero"},n("circle",{class:"pwa-gauge__disc",cx:"30",cy:"30",r:"30"}),n("g",{class:"pwa-gauge__logo"},n("path",{class:"pwa-gauge__logo--secondary-color",d:"M35.66 19.39l.7-1.75h2L37.4 15 38.6 12l3.4 9h-2.51l-.58-1.61z"}),n("path",{class:"pwa-gauge__logo--primary-color",d:"M33.52 21l3.65-9h-2.42l-2.5 5.82L30.5 12h-1.86l-1.9 5.82-1.35-2.65-1.21 3.72L25.4 21h2.38l1.72-5.2 1.64 5.2z"}),n("path",{class:"pwa-gauge__logo--secondary-color","fill-rule":"nonzero",d:"M20.3 17.91h1.48c.45 0 .85-.05 1.2-.15l.39-1.18 1.07-3.3a2.64 2.64 0 0 0-.28-.37c-.55-.6-1.36-.91-2.42-.91H18v9h2.3V17.9zm1.96-3.84c.22.22.33.5.33.87 0 .36-.1.65-.29.87-.2.23-.59.35-1.15.35h-.86v-2.41h.87c.52 0 .89.1 1.1.32z"})),n("rect",{class:"pwa-gauge__component pwa-gauge__na-line",fill:"#FFFFFF",x:"20",y:"32",width:"20",height:"4",rx:"2"}),n("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-badge",transform:"translate(20, 29)"},n("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M33.63 19.49A30 30 0 0 1 16.2 30.36L3 17.14 17.14 3l16.49 16.49z"}),n("use",{href:"#pwa-gauge__fast-reliable-badge"})),n("g",{class:"pwa-gauge__component pwa-gauge__installable-badge",transform:"translate(20, 29)"},n("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M33.629 19.487c-4.272 5.453-10.391 9.39-17.415 10.869L3 17.142 17.142 3 33.63 19.487z"}),n("use",{href:"#pwa-gauge__installable-badge"})),n("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-installable-badges"},n("g",{transform:"translate(8, 29)"},n("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M16.321 30.463L3 17.143 17.142 3l22.365 22.365A29.864 29.864 0 0 1 22 31c-1.942 0-3.84-.184-5.679-.537z"}),n("use",{href:"#pwa-gauge__fast-reliable-badge"})),n("g",{transform:"translate(32, 29)"},n("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M25.982 11.84a30.107 30.107 0 0 1-13.08 15.203L3 17.143 17.142 3l8.84 8.84z"}),n("use",{href:"#pwa-gauge__installable-badge"}))),n("g",{class:"pwa-gauge__component pwa-gauge__check-circle",transform:"translate(18, 28)"},n("circle",{fill:"#FFFFFF",cx:"12",cy:"12",r:"12"}),n("path",{fill:"url(#pwa-gauge__check-circle__gradient)",d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))))};var e1=N(O());var t1=e=>{let t=Math.round((e.diff.compareValue-e.diff.baseValue)*100);return n("div",{className:P("score-delta-badge",`score-delta-badge--${(0,e1.getDiffLabel)(e.diff)}`,e.className)},t<0?t:`+${t}`)};var wr=e=>{let{lhr:t,baseLhr:r,categoryId:a}=e,s=t.categories[a],o=r&&r.categories[a],i=o&&{auditId:"",type:"score",baseValue:o.score,compareValue:s.score};return n("div",{key:a,className:P("lhr-comparison-scores-item")},n(qt,{score:s.score,diff:i}),n("div",{className:"lhr-comparison-scores-item__label"},s.title),i?n(t1,{diff:i,className:"lhr-comparison-scores-item__delta"}):null)},Lr=e=>{let{lhr:t,baseLhr:r,categoryId:a}=e,s=Me(t),o,i="neutral";if(r){let f=Me(r),c={fastAndReliable:fe(f,s,"fastAndReliable"),installable:fe(f,s,"installable"),optimized:fe(f,s,"optimized")},u=Object.values(c).every(d=>d==="neutral"),l=n(C,null,c.fastAndReliable==="neutral"?n(C,null):n(Et,{deltaType:c.fastAndReliable}),c.installable==="neutral"?n(C,null):n(Qt,{deltaType:c.installable}),c.optimized==="neutral"?n(C,null):n(_t,{deltaType:c.optimized}));o=n("div",{className:P("lhr-comparison-scores-item__delta")},u?"-":l)}return n("div",{key:a,className:P("lhr-comparison-scores-item","lhr-comparison-scores-item--pwa",`lhr-comparison-scores-item--${i}`)},n($t,{status:s}),n("div",{className:"lhr-comparison-scores-item__label"},"PWA"),o)},r1=e=>{let{lhr:t,baseLhr:r}=e;if(!t)return null;let a=Object.keys(t.categories),s=r?Object.keys(r.categories):a,o=a.filter(i=>s.includes(i));return n("div",{className:"lhr-comparison-scores"},o.sort((i,f)=>{let c=i==="pwa"?1/0:o.indexOf(i),u=f==="pwa"?1/0:o.indexOf(f);return c-u}).map(i=>i==="pwa"?n(Lr,{lhr:t,baseLhr:r,categoryId:i}):n(wr,{lhr:t,baseLhr:r,categoryId:i})))};var Dr=e=>n("div",{className:"audit-group__big-picture-tabs"},n("span",{className:P("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":e.showAsBigPicture}),onClick:()=>e.setShowAsBigPicture(!0)},"Overview"),n("span",{className:P("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":!e.showAsBigPicture}),onClick:()=>e.setShowAsBigPicture(!1)},"Magnified")),Hr=e=>n(C,null,e.pairs.map(t=>{let{audit:r}=t;return e.group.id!=="metrics"&&(t=H(D({},t),{diffs:t.diffs.filter(a=>a.type!=="numericValue")})),n("div",{key:r.id,className:P("audit-group__audit"),onClick:()=>e.setSelectedAuditId(r.id||null)},n("div",{className:"audit-group__audit-score"},n(M,{score:r.score||0})),n("div",{className:"audit-group__audit-title"},r.title),n("div",{className:"audit-group__audit-diff"},n(Yt,{pair:t,showAsBigPicture:e.showAsBigPicture,showAsNarrow:e.showAsNarrow})))})),Nr=e=>{let t=e.baseLhr;return!t||!e.expanded?n(C,null):n(C,null,e.pairs.map(r=>{let{audit:a}=r;return n("div",{key:a.id,className:P("audit-group__audit","audit-group__audit--unchanged"),onClick:s=>{s.preventDefault(),s.stopPropagation(),se(t)}},n("div",{className:"audit-group__audit-score"},n(M,{score:a.score||0})),n("div",{className:"audit-group__audit-title"},a.title),n("div",{className:"audit-group__audit-diff"},"Open Report"))}))},n1=e=>{let{group:t}=e,[r,a]=w(t.id==="metrics"),[s,o]=w(!1);return n(R,{className:P("audit-group",{"audit-group--expanded":s,"audit-group--unchanged":e.showAsUnchanged})},n("div",{className:"audit-group__header",onClick:()=>o(!s)},n("div",{className:"audit-group__title"},t.title," ",e.showAsUnchanged?`(${e.pairs.length})`:""),n("div",{className:"audit-group__expand-toggle"},n("i",{className:"material-icons"},"chevron_right")),t.id==="metrics"&&!e.showAsNarrow?n(Dr,H(D({},e),{showAsBigPicture:r,setShowAsBigPicture:a})):n(C,null)),n("div",{className:"audit-group__audits"},e.showAsUnchanged?n(Nr,H(D({},e),{expanded:s})):n(Hr,H(D({},e),{showAsBigPicture:r}))))};var a1=()=>n("div",{className:"lhr-comparison-legend"},n(M,{score:0}),n("span",{className:"lhr-comparison-legend__label"},"0-49"),n(M,{score:.5}),n("span",{className:"lhr-comparison-legend__label"},"50-89"),n(M,{score:1}),n("span",{className:"lhr-comparison-legend__label"},"90-100"),n("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--regression"}),n("span",{className:"lhr-comparison-legend__label"},"Regression"),n("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--improvement"}),n("span",{className:"lhr-comparison-legend__label"},"Improvement"));function jr(e){var t=e.parentNode;t&&t.removeChild(e)}var Tr=b.__e;function s1(){this.t=[]}b.__e=function(e,t,r){if(e.then&&r){for(var a,s=t;s=s.__p;)if((a=s.__c)&&a.u)return r&&(t.__e=r.__e,t.__k=r.__k),void a.u(e)}Tr(e,t,r)},(s1.prototype=new j).u=function(e){var t=this;t.t.push(e);var r=function(){t.t[t.t.indexOf(e)]=t.t[t.t.length-1],t.t.pop(),t.t.length==0&&(V(t.props.fallback),t.__v.__e=null,t.__v.__k=t.state.i,t.setState({i:null}))};t.state.i==null&&(t.setState({i:t.__v.__k}),function a(s){for(var o=0;o<s.length;o++){var i=s[o];i!=null&&(typeof i.type!="function"&&i.__e?jr(i.__e):i.__k&&a(i.__k))}}(t.__v.__k),t.__v.__k=[]),e.then(r,r)},s1.prototype.render=function(e,t){return t.i?e.fallback:e.children};var Ar=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;var o1=b.event;b.event=function(e){return o1&&(e=o1(e)),e.persist=function(){},e.nativeEvent=e};var Ze=function(){};function Or(e){var t=this,r=e.container,a=n(Ze,{context:t.context},e.vnode);return t.l&&t.l!==r&&(t.s.parentNode&&t.l.removeChild(t.s),V(t.v),t.p=!1),e.vnode?t.p?(r.__k=t.__k,G(a,r),t.__k=r.__k):(t.s=document.createTextNode(""),$e("",r),r.appendChild(t.s),t.p=!0,t.l=r,G(a,r,t.s),t.__k=this.s.__k):t.p&&(t.s.parentNode&&t.l.removeChild(t.s),V(t.v)),t.v=a,t.componentWillUnmount=function(){t.s.parentNode&&t.l.removeChild(t.s),V(t.v)},null}function i1(e,t){return n(Or,{vnode:e,container:t})}Ze.prototype.getChildContext=function(){return this.props.context},Ze.prototype.render=function(e){return e.children};function l1(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var a in t)if(a!=="__source"&&e[a]!==t[a])return!0;return!1}var K2=function(e){function t(r){e.call(this,r),this.isPureReactComponent=!0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.shouldComponentUpdate=function(r,a){return l1(this.props,r)||l1(this.state,a)},t}(j);function ke(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(r){this["UNSAFE_"+t]=r}})}j.prototype.isReactComponent={};var f1=b.vnode;b.vnode=function(e){e.$$typeof=Ar,function(r){var a=e.type,s=e.props;if(s&&typeof a=="string"){var o={};for(var i in s)/^on(Ani|Tra)/.test(i)&&(s[i.toLowerCase()]=s[i],delete s[i]),o[i.toLowerCase()]=i;if(o.ondoubleclick&&(s.ondblclick=s[o.ondoubleclick],delete s[o.ondoubleclick]),o.onbeforeinput&&(s.onbeforeinput=s[o.onbeforeinput],delete s[o.onbeforeinput]),o.onchange&&(a==="textarea"||a.toLowerCase()==="input"&&!/^fil|che|ra/i.test(s.type))){var f=o.oninput||"oninput";s[f]||(s[f]=s[o.onchange],delete s[o.onchange])}}}();var t=e.type;t&&t.o&&e.ref&&(e.props.ref=e.ref,e.ref=null),typeof t=="function"&&!t.m&&t.prototype&&(ke(t.prototype,"componentWillMount"),ke(t.prototype,"componentWillReceiveProps"),ke(t.prototype,"componentWillUpdate"),t.m=!0),f1&&f1(e)};var c1=e=>{let t=A(document.getElementById("preact-modal-root")||document.createElement("div"));return L(()=>(t.current.id="preact-modal-root",document.body.appendChild(t.current),()=>document.body.removeChild(t.current)),[]),i1(n("div",{className:"modal-backdrop"},n("div",{className:P("modal",e.className),style:{position:"relative"}},e.children,n("div",{className:"modal__close",onClick:e.onClose},n("i",{className:"material-icons"},"close")))),t.current)};function u1(e){return typeof e=="string"?e:typeof e=="number"?e.toString():typeof e=="undefined"?"Unset":typeof e=="boolean"?e?"Enabled":"Disabled":Array.isArray(e)?e.join(", "):"Unknown"}function d1(e,t){if(!t)return[];let r=[],{benchmarkIndex:a}=e.environment,{benchmarkIndex:s}=t.environment,o=Math.abs(a-s)/Math.min(a,s);o>1.5&&r.push({label:"CPU/Memory Power",base:t.environment.benchmarkIndex.toString(),compare:e.environment.benchmarkIndex.toString(),severity:o>2?"error":"warn"});let i=e.configSettings,f=t.configSettings,c=i.throttling||{},u=i.throttling||{},l=[["Lighthouse Version",t.lighthouseVersion,e.lighthouseVersion],["Storage Reset",f.disableStorageReset,i.disableStorageReset],["Emulated Form Factor",f.emulatedFormFactor,i.emulatedFormFactor],["Throttling Method",f.throttlingMethod,i.throttlingMethod],["CPU Throttling",u.cpuSlowdownMultiplier,c.cpuSlowdownMultiplier],["Network RTT",u.rttMs,c.rttMs],["Network Throughput",u.throughputKbps,c.throughputKbps],["Network RTT",u.requestLatencyMs,c.requestLatencyMs],["Network Throughput (Up)",u.uploadThroughputKbps,c.uploadThroughputKbps],["Network Throughput (Down)",u.downloadThroughputKbps,c.downloadThroughputKbps]];for(let[d,m,p]of l){let v=u1(m),h=u1(p);v!==h&&r.push({label:d,base:v,compare:h,severity:"error"})}return r}var Re=e=>{let{diffs:t}=e;return n("div",{className:P("lhr-comparison-runtime-diff",`lhr-comparison-runtime-diff--${e.variant}`)},n("div",{className:"lhr-comparison__warning"},n("i",{className:"material-icons"},"info"),n("div",null,"Changes of runtime settings or the environment can substantially affect your Lighthouse scores and might be the reason for the differences here.")),n("div",{className:"lhr-comparison-runtime-diff__diffs"},"The following runtime differences were detected:",n("table",null,n("thead",null,n("tr",null,n("th",null),n("th",null,"Base"),n("th",null,"Compare"))),n("tbody",null,t.map(r=>n("tr",{key:r.label},n("td",null,r.label),n("td",null,r.base),n("td",null,r.compare)))))))};function Mr(e){let t=a=>new Promise(s=>setTimeout(s,a)),r=a=>Z(this,null,function*(){let s=0;for(;!document.querySelector(a)&&s<10;)yield t(500),s++});L(()=>{window.location.hash.length<=1||Promise.resolve().then(()=>Z(this,null,function*(){yield r(".lhr-comparison__audit-groups"),e(window.location.hash.slice(1))}))},[])}function Zr(e,t,r){let a=[];for(let[s,o]of Object.entries(e.categories)){let i={title:o.title,description:o.description},f=p1.default.groupBy(o.auditRefs,l=>l.group),c=`unchanged:${s}`,u={id:c,group:{id:c,title:`Unchanged Audits - ${o.title}`},pairs:[],showAsUnchanged:!0};for(let l of f){let d=l[0].group||"",m=e.categoryGroups&&e.categoryGroups[d];if(!m){if(f.length!==1)continue;d=`category:${s}`,m=i}let p=H(D({},m),{id:d}),v=l.map(g=>{let y=H(D({},e.audits[g.id]),{id:g.id}),z=t&&t.audits[y.id||""],F=z?(0,ce.findAuditDiffs)(z,y,H(D({},r),{synthesizeItemKeyDiffs:!0})):[],S=Math.max(...F.map(ce.getDiffSeverity),0);return{audit:y,baseAudit:z,diffs:F,maxSeverity:S,group:p}}).sort((g,y)=>(g.audit.score||0)-(y.audit.score||0)),h=v.filter(g=>!g.baseAudit||g.diffs.length),x=v.filter(g=>g.baseAudit&&!g.diffs.length);h.length&&a.push({id:d,group:p,pairs:h,showAsUnchanged:!1}),x.length&&u.pairs.push(...x)}u.pairs.length&&a.push(u)}return a}var kr=e=>n("div",{className:"lhr-comparison__scores-and-dropdowns"},n("div",{className:"container"},n("div",{className:"lhr-comparison__dropdowns"},e.hookElements.dropdowns,n(Ft,{label:"Threshold",value:e.percentAbsoluteDeltaThreshold.toString(),setValue:t=>{e.setPercentAbsoluteDeltaThreshold(Number(t))},options:[{value:"0",label:"0%"},{value:"0.05",label:"5%"},{value:"0.1",label:"10%"},{value:"0.15",label:"15%"},{value:"0.25",label:"25%"}]})),e.selectedAuditId?n(C,null):n(r1,D({},e)))),Rr=e=>n("div",{className:"lhr-comparison__audit-groups"},e.auditGroups.map(t=>{if(!!t)return n(n1,{key:t.id,showAsNarrow:e.showAsNarrow,showAsUnchanged:t.showAsUnchanged,pairs:t.pairs,group:t.group,baseLhr:e.baseLhr,selectedAuditId:e.selectedAuditId,setSelectedAuditId:e.setSelectedAuditId})})),m1=e=>{let{lhr:t,baseLhr:r}=e,a="none",[s,o]=w(.05),[i,f]=w(null),[c,u]=w(a);Mr(f),L(()=>{window.__LHR__=t,window.__BASE_LHR__=r},[t,r]);let l=d1(t,r),d=l.some(p=>p.severity==="error"),m=Zr(t,r,{percentAbsoluteDeltaThreshold:s});return n(C,null,c==="none"&&d?n(c1,{onClose:()=>u("acknowledged")},n(Re,{diffs:l,variant:"full"})):null,i?n(Ut,{selectedAuditId:i,setSelectedAuditId:f,pairs:m.filter(p=>!p.showAsUnchanged).map(p=>p.pairs).reduce((p,v)=>p.concat(v)),baseLhr:r}):n(C,null),n("div",{className:P("lhr-comparison",e.className,{"lhr-comparison--with-audit-selection":!!i})},n(kr,{lhr:t,baseLhr:r,selectedAuditId:i,hookElements:e.hookElements,percentAbsoluteDeltaThreshold:s,setPercentAbsoluteDeltaThreshold:o}),n("div",{className:"container"},e.hookElements.warnings,c!=="closed"&&l.length?n(R,{className:"position-relative"},n(Re,{diffs:l,variant:"mini"}),n("div",{className:"lhr-comparison-runtime-diff__close",onClick:()=>u("closed")},n("i",{className:"material-icons"},"close"))):null,m.length&&r?n(C,null,i?null:n("div",{className:"lhr-comparison__legend-container"},n(a1,null)),n(Rr,{showAsNarrow:!!i,auditGroups:m,baseLhr:r,selectedAuditId:i,setSelectedAuditId:f})):e.hookElements.warnings?null:n(R,{className:"lhr-comparison__warning"},n("i",{className:"material-icons"},"sentiment_satisfied_alt"),n("div",null,"Woah, no differences found! Switch base builds to explore other differences, or"," ",n(oe,{className:"lhr-comparison__warning__lhr-link",lhr:e.lhr},"jump straight to the Lighthouse report."))))))};var v1=e=>{let t=dt(e.baseReport.lhr,e.compareReport.lhr);return n("div",{className:"comparison"},n("div",{className:"comparison-header"},n("div",{className:"comparison-header__switcher",onClick:()=>{e.setBaseReport(e.compareReport),e.setCompareReport(e.baseReport)}},n("i",{className:"material-icons"},"swap_horiz")),n("div",{className:"comparison-header__logo"},n("img",{src:ie,alt:"Lighthouse Logo",onClick:()=>{e.setBaseReport(void 0),e.setCompareReport(void 0)}})),n("div",{className:"comparison-header__upload"},n(W,{variant:"base",dragTarget:"self",report:e.baseReport,setReport:e.setBaseReport,addToast:e.addToast,displayType:t,showOpenLhrLink:!0}),n(W,{variant:"compare",dragTarget:"self",report:e.compareReport,setReport:e.setCompareReport,addToast:e.addToast,displayType:t,showOpenLhrLink:!0})),n("a",{className:"comparison-header__info",href:"https://github.com/GoogleChrome/lighthouse-ci"},n("i",{className:"material-icons"},"info"))),n("div",{className:"comparison-body"},n(m1,{lhr:e.compareReport.lhr,baseLhr:e.baseReport.lhr,hookElements:{}})))};var C1=e=>{let t=e.setToasts,{message:r,level:a="info"}=e.toast;return L(()=>{let s=setTimeout(()=>t(o=>o.filter(i=>i!==e.toast)),5e3);return()=>clearInterval(s)},[]),n("div",{className:`toast toast--${a}`},r)};var b1=new URLSearchParams(location.search),y1=b1.get("baseReport"),P1=b1.get("compareReport");function g1(e,t){return Z(this,null,function*(){let r=new URL(e).pathname.split("/").slice(-1)[0]||"Unknown",s=yield(yield fetch(e)).text(),o=De(s);if(o instanceof Error)throw o;t({filename:r,data:s,lhr:o})})}function Br(e,t,r,a){return Z(this,null,function*(){if(window.location.hostname==="localhost"){let o=localStorage.getItem("lastBaseReport"),i=localStorage.getItem("lastCompareReport");o&&e(JSON.parse(o)),i&&t(JSON.parse(i))}let s=[y1&&g1(y1,e),P1&&g1(P1,t)].filter(o=>!!o);!s.length||(r(!0),yield Promise.all(s.map(o=>o.catch(i=>{console.error(i),a({message:`Failed loading report from URL: ${i.message}`,level:"error"})}))),r(!1))})}var h1=()=>{let e=void 0,[t,r]=w(!1),[a,s]=w(e),[o,i]=w(e),[f,c]=w([]),l=ge(d=>c(m=>[...m,d]),[c]);return L(()=>{Br(s,i,r,l)},[]),L(()=>{localStorage.setItem("lastBaseReport",JSON.stringify(a)),localStorage.setItem("lastCompareReport",JSON.stringify(o))},[a,o]),n("div",{className:"lhci-viewer"},t?n("div",{className:"loading-container"},n(we,null)):n(C,null),n("div",{className:"toast-container"},f.map(d=>n(C1,{key:d.message,toast:d,setToasts:c}))),a&&o?n(v1,{baseReport:a,setBaseReport:s,compareReport:o,setCompareReport:i,addToast:l}):n(mt,{baseReport:a,setBaseReport:s,compareReport:o,setCompareReport:i,addToast:l}))};var x1=document.getElementById("preact-root");if(!x1)throw new Error("Missing #preact-root");G(n(h1,null),x1);})();
/**
 * @license Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
/**
 * @license Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
//# sourceMappingURL=/iife///entry-77FYTTM2.js.map
