{
  "version": 3,
  "sources": ["../../../utils/src/lodash.js", "../../../utils/src/audit-diff-finder.js", "../../../utils/src/markdown.js", "../../../../node_modules/preact/src/constants.js", "../../../../node_modules/preact/src/options.js", "../../../../node_modules/preact/src/create-element.js", "../../../../node_modules/preact/src/component.js", "../../../../node_modules/preact/src/render.js", "../../../../node_modules/preact/src/create-context.js", "../../../../node_modules/preact/src/util.js", "../../../../node_modules/preact/src/diff/children.js", "../../../../node_modules/preact/src/diff/props.js", "../../../../node_modules/preact/src/diff/index.js", "../../../../node_modules/preact/src/clone-element.js", "../../../../node_modules/preact/hooks/src/index.js", "../../../../node_modules/clsx/dist/clsx.m.js", "../../../server/src/ui/components/loading-spinner.jsx", "../../../server/src/ui/components/paper.jsx", "../../../server/src/ui/components/lhr-viewer-link.jsx", "../../../server/src/ui/components/lhr-viewer-button.jsx", "../../src/ui/components/lhci-components.jsx", "../../src/ui/components/report-upload-box.jsx", "../../src/ui/routes/landing/landing.jsx", "../../../server/src/ui/routes/build-view/lhr-comparison.jsx", "../../../server/src/ui/components/dropdown.jsx", "../../../server/src/ui/hooks/use-previous-value.jsx", "../../../server/src/ui/components/score-icon.jsx", "../../../server/src/ui/components/markdown.jsx", "../../../server/src/ui/components/nbsp.jsx", "../../../server/src/ui/routes/build-view/audit-detail/simple-details.jsx", "../../../server/src/ui/routes/build-view/audit-detail/table-details.jsx", "../../../server/src/ui/routes/build-view/audit-list/numeric-diff.jsx", "../../../server/src/ui/routes/build-view/audit-list/audit-diff.jsx", "../../../server/src/ui/routes/build-view/audit-detail/audit-detail.jsx", "../../../server/src/ui/routes/build-view/audit-detail/audit-detail-pane.jsx", "../../../server/src/ui/components/gauge.jsx", "../../../server/src/ui/components/pwa-gauge.jsx", "../../../server/src/ui/components/score-delta-badge.jsx", "../../../server/src/ui/routes/build-view/lhr-comparison-scores.jsx", "../../../server/src/ui/routes/build-view/audit-list/audit-group.jsx", "../../../server/src/ui/routes/build-view/lhr-comparison-legend.jsx", "../../../../node_modules/preact/src/util.js", "../../../../node_modules/preact/compat/src/suspense.js", "../../../../node_modules/preact/compat/src/index.js", "../../../server/src/ui/components/modal.jsx", "../../../server/src/ui/routes/build-view/lhr-comparison-runtime-diff.jsx", "../../src/ui/routes/comparison/comparison.jsx", "../../src/ui/components/toast.jsx", "../../src/ui/app.jsx", "../../src/ui/entry.jsx"],
  "sourcesContent": ["/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/**\n * Recursively merges properties of v2 into v1. Mutates o1 in place, does not return a copy.\n *\n * @template T\n * @param {T} v1\n * @param {T} v2\n * @return {T}\n */\nfunction merge(v1, v2) {\n  if (Array.isArray(v1)) {\n    if (!Array.isArray(v2)) return v2;\n\n    for (let i = 0; i < Math.max(v1.length, v2.length); i++) {\n      v1[i] = i < v2.length ? merge(v1[i], v2[i]) : v1[i];\n    }\n\n    return v1;\n  } else if (typeof v1 === 'object' && v1 !== null) {\n    if (typeof v2 !== 'object' || v2 === null) return v2;\n    /** @type {Record<string, *>} */\n    const o1 = v1;\n    /** @type {Record<string, *>} */\n    const o2 = v2;\n\n    const o1Keys = new Set(Object.keys(o1));\n    const o2Keys = new Set(Object.keys(o2));\n    for (const key of new Set([...o1Keys, ...o2Keys])) {\n      o1[key] = key in o2 ? merge(o1[key], o2[key]) : o1[key];\n    }\n\n    return v1;\n  } else {\n    return v2;\n  }\n}\n\n/**\n * Converts a string from camelCase to kebab-case.\n * @param {string} s\n * @param {{alphanumericOnly?: boolean}} [opts]\n */\nfunction kebabCase(s, opts) {\n  let kebabed = s.replace(/([a-z])([A-Z])/g, '$1-$2');\n  if (opts && opts.alphanumericOnly) {\n    kebabed = kebabed\n      .replace(/[^a-z0-9]+/gi, '-')\n      .replace(/-+/g, '-')\n      .replace(/(^-|-$)/g, '');\n  }\n  return kebabed.toLowerCase();\n}\n\n/**\n * @template TKey\n * @template TValue\n * @param {Array<TValue>} items\n * @param {(item: TValue) => TKey} keyFn\n * @return {Map<TKey, Array<TValue>>}\n */\nfunction groupIntoMap(items, keyFn) {\n  /** @type {Map<TKey, Array<TValue>>} */\n  const groups = new Map();\n\n  for (const item of items) {\n    const key = keyFn(item);\n    const group = groups.get(key) || [];\n    group.push(item);\n    groups.set(key, group);\n  }\n\n  return groups;\n}\n\n/**\n * @template {any[]} T\n * @param {(...args: T) => void} fn\n * @param {number} time\n * @return {{(...args: T): void; cancel: () => void;}}\n */\nfunction debounce(fn, time) {\n  /** @type {NodeJS.Timeout|undefined} */\n  let timeout;\n  const cancel = () => {\n    if (timeout) clearTimeout(timeout);\n    timeout = undefined;\n  };\n\n  /** @param {T} args */\n  const debouncedFn = (...args) => {\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(() => fn(...args), time);\n  };\n\n  debouncedFn.cancel = cancel;\n  return debouncedFn;\n}\n\nmodule.exports = {\n  merge,\n  kebabCase,\n  debounce,\n  /**\n   * Generates an array of numbers from `from` (inclusive) to `to` (exclusive)\n   * @param {number} from\n   * @param {number} to\n   * @param {number} [by]\n   * @return {Array<number>}\n   */\n  range(from, to, by = 1) {\n    /** @type {Array<number>} */\n    const numbers = [];\n    for (let i = from; i < to; i += by) {\n      numbers.push(i);\n    }\n    return numbers;\n  },\n  /**\n   * Converts a string from kebab-case or camelCase to Start Case.\n   * @param {string} s\n   */\n  startCase(s) {\n    return kebabCase(s)\n      .split('-')\n      .map(word => `${word.slice(0, 1).toUpperCase()}${word.slice(1)}`)\n      .join(' ');\n  },\n  /**\n   * @param {string} s\n   * @param {number} length\n   * @param {string} [padding]\n   */\n  padStart(s, length, padding = ' ') {\n    if (s.length >= length) return s;\n    return `${padding.repeat(length)}${s}`.slice(-length);\n  },\n  /**\n   * @param {string} s\n   * @param {number} length\n   * @param {string} [padding]\n   */\n  padEnd(s, length, padding = ' ') {\n    if (s.length >= length) return s;\n    return `${s}${padding.repeat(length)}`.slice(0, length);\n  },\n  /**\n   * @param {any} o1\n   * @param {any} o2\n   * @param {number} [depth]\n   * @return {boolean}\n   */\n  isEqual(o1, o2, depth = 0) {\n    // Protect against infinite loops.\n    if (depth > 100) return false;\n\n    // If they don't share the same type they're not equal.\n    if (typeof o1 !== typeof o2) return false;\n    // If they're not objects, use referential equality with NaN handling.\n    if (Number.isNaN(o1) && Number.isNaN(o2)) return true;\n    if (typeof o1 !== 'object') return o1 === o2;\n    // Try quick referential equality before perfoming deep comparisons.\n    if (o1 === o2) return true;\n    // Check for null.\n    if (!o1 || !o2) return false;\n    // At this point we know they're both truthy objects.\n    // Perform deep inspection on the object's properties.\n\n    if (Array.isArray(o1)) {\n      if (!Array.isArray(o2)) return false;\n      return o1.every((v, i) => this.isEqual(v, o2[i])) && o1.length === o2.length;\n    }\n\n    const o1Keys = Object.keys(o1).sort();\n    const o2Keys = Object.keys(o2).sort();\n    const allChildrenEqual = o1Keys.every(k => this.isEqual(o1[k], o2[k], depth + 1));\n    return allChildrenEqual && this.isEqual(o1Keys, o2Keys);\n  },\n  /**\n   * Deep clones an object via JSON.parse/JSON.stringify.\n   * @template T\n   * @param {T} o\n   * @return {T}\n   */\n  cloneDeep(o) {\n    return JSON.parse(JSON.stringify(o));\n  },\n  /**\n   * Filters items by referential uniqueness of the value returned by keyFn.\n   * Unique items are guaranteed to be in the same order of the original array.\n   *\n   * @template TArr\n   * @template TKey\n   * @param {Array<TArr>} items\n   * @param {(item: TArr) => TKey} keyFn\n   * @return {Array<TArr>}\n   */\n  uniqBy(items, keyFn) {\n    /** @type {Set<TKey>} */\n    const seen = new Set();\n    /** @type {Array<TArr>} */\n    const out = [];\n\n    for (const item of items) {\n      const key = keyFn(item);\n      if (seen.has(key)) continue;\n      seen.add(key);\n      out.push(item);\n    }\n\n    return out;\n  },\n  /**\n   * @template T\n   * @param {Array<T>} items\n   * @param {(item: T) => any} keyFn\n   * @return {Array<Array<T>>}\n   */\n  groupBy(items, keyFn) {\n    return [...groupIntoMap(items, keyFn).values()];\n  },\n  groupIntoMap,\n  /**\n   * @template TArr\n   * @param {Array<TArr>} items\n   * @param {(o: TArr) => number} keyFn\n   */\n  maxBy(items, keyFn) {\n    let maxItem = undefined;\n    let maxValue = -Infinity;\n    for (const item of items) {\n      const value = keyFn(item);\n      if (value > maxValue) {\n        maxItem = item;\n        maxValue = value;\n      }\n    }\n\n    return maxItem;\n  },\n  /**\n   * @template TArr\n   * @param {Array<TArr>} items\n   * @param {(o: TArr) => number} keyFn\n   */\n  minBy(items, keyFn) {\n    return this.maxBy(items, o => -keyFn(o));\n  },\n  /**\n   * @template TArr\n   * @param {Array<TArr>} items\n   * @param {(o: TArr) => number} keyFn\n   */\n  sortBy(items, keyFn) {\n    return items.slice().sort((a, b) => keyFn(a) - keyFn(b));\n  },\n  /**\n   * @template T\n   * @param {T} object\n   * @param {Array<keyof T>} propertiesToPick\n   * @return {Partial<T>}\n   */\n  pick(object, propertiesToPick) {\n    /** @type {Partial<T>} */\n    const out = {};\n    for (const [key_, value] of Object.entries(object)) {\n      const key = /** @type {keyof T} */ (key_);\n      if (!propertiesToPick.includes(key)) continue;\n      out[key] = value;\n    }\n\n    return out;\n  },\n  /**\n   * @template T\n   * @param {T} object\n   * @param {Array<keyof T>} propertiesToDrop\n   * @param {{dropUndefined?: boolean}} [options]\n   * @return {Partial<T>}\n   */\n  omit(object, propertiesToDrop, options = {}) {\n    /** @type {Partial<T>} */\n    const out = {};\n    for (const [key_, value] of Object.entries(object)) {\n      const key = /** @type {keyof T} */ (key_);\n      if (propertiesToDrop.includes(key)) continue;\n      if (options.dropUndefined && value === undefined) continue;\n      out[key] = value;\n    }\n\n    return out;\n  },\n  /** @param {string} uuid */\n  shortId(uuid) {\n    return uuid.replace(/-/g, '').slice(0, 12);\n  },\n  /** @param {string} string @param {number} number @param {string} [pluralForm] */\n  pluralize(string, number, pluralForm) {\n    pluralForm = pluralForm || `${string}s`;\n    return number === 1 ? string : pluralForm;\n  },\n  uniqueId: (() => {\n    let id = 1;\n    return () => id++;\n  })(),\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst _ = require('./lodash.js');\n\n/** @typedef {'improvement'|'neutral'|'regression'} DiffLabel */\n/** @typedef {'better'|'worse'|'added'|'removed'|'ambiguous'|'no change'} RowLabel */\n/** @typedef {{item: Record<string, any>, kind?: string, index: number}} DetailItemEntry */\n\n/**\n * @param {number} delta\n * @param {'audit'|'score'} deltaType\n * @return {DiffLabel}\n */\nfunction getDeltaLabel(delta, deltaType = 'audit') {\n  if (delta === 0) return 'neutral';\n  let isImprovement = delta < 0;\n  if (deltaType === 'score') isImprovement = delta > 0;\n  return isImprovement ? 'improvement' : 'regression';\n}\n\n/**\n * @param {LHCI.AuditDiff} diff\n * @return {DiffLabel}\n */\nfunction getDiffLabel(diff) {\n  switch (diff.type) {\n    case 'error':\n      return 'regression';\n    case 'score':\n      return getDeltaLabel(getDeltaStats(diff).delta, 'score');\n    case 'numericValue':\n    case 'itemCount':\n    case 'itemDelta':\n      return getDeltaLabel(getDeltaStats(diff).delta, 'audit');\n    case 'itemAddition':\n      return 'regression';\n    case 'itemRemoval':\n      return 'improvement';\n    default:\n      return 'neutral';\n  }\n}\n\n/**\n * Given the array of diffs for a particular row, determine its label.\n *\n * @param {Array<LHCI.AuditDiff>} diffs\n * @return {RowLabel}\n */\nfunction getRowLabel(diffs) {\n  if (!diffs.length) return 'no change';\n\n  if (diffs.some(diff => diff.type === 'itemAddition')) return 'added';\n  if (diffs.some(diff => diff.type === 'itemRemoval')) return 'removed';\n\n  const itemDeltaDiffs = diffs.filter(\n    /** @return {diff is LHCI.NumericItemAuditDiff} */ diff => diff.type === 'itemDelta'\n  );\n\n  // All the diffs were worse, it's \"worse\".\n  if (itemDeltaDiffs.every(diff => diff.compareValue > diff.baseValue)) return 'worse';\n  // All the diffs were better, it's \"better\".\n  if (itemDeltaDiffs.every(diff => diff.compareValue < diff.baseValue)) return 'better';\n  // The item had diffs but some were better and some were worse, so we can't decide.\n  if (itemDeltaDiffs.length) return 'ambiguous';\n\n  return 'no change';\n}\n\n/**\n * @param {Array<LHCI.AuditDiff>} diffs\n * @param {number|undefined} compareItemIndex\n * @param {number|undefined} baseItemIndex\n * @return {Array<LHCI.AuditDiff>}\n */\nfunction getMatchingDiffsForIndex(diffs, compareItemIndex, baseItemIndex) {\n  return diffs.filter(diff => {\n    const compareIndex = 'compareItemIndex' in diff ? diff.compareItemIndex : undefined;\n    const baseIndex = 'baseItemIndex' in diff ? diff.baseItemIndex : undefined;\n    if (typeof compareIndex === 'number') return compareIndex === compareItemIndex;\n    if (typeof baseIndex === 'number') return baseIndex === baseItemIndex;\n    return false;\n  });\n}\n\n/**\n * Given the array of all diffs for an audit, determine the label for a row with particular item index.\n *\n * @param {Array<LHCI.AuditDiff>} diffs\n * @param {number|undefined} compareItemIndex\n * @param {number|undefined} baseItemIndex\n * @return {RowLabel}\n */\nfunction getRowLabelForIndex(diffs, compareItemIndex, baseItemIndex) {\n  return getRowLabel(getMatchingDiffsForIndex(diffs, compareItemIndex, baseItemIndex));\n}\n\n/**\n * Given the array of all diffs for an audit, determine the worst numeric delta for a particular row.\n * Used for sorting.\n *\n * @param {Array<LHCI.AuditDiff>} diffs\n * @param {number|undefined} compareItemIndex\n * @param {number|undefined} baseItemIndex\n * @return {number|undefined}\n */\nfunction getWorstNumericDeltaForIndex(diffs, compareItemIndex, baseItemIndex) {\n  const matchingDiffs = getMatchingDiffsForIndex(diffs, compareItemIndex, baseItemIndex);\n  const numericDiffs = matchingDiffs.filter(isNumericAuditDiff);\n  if (!numericDiffs.length) return undefined;\n  return Math.max(...numericDiffs.map(diff => getDeltaStats(diff).delta));\n}\n\n/** @param {Array<DiffLabel>} labels @return {DiffLabel} */\nfunction getMostSevereDiffLabel(labels) {\n  if (labels.some(l => l === 'regression')) return 'regression';\n  if (labels.some(l => l === 'neutral')) return 'neutral';\n  return 'improvement';\n}\n\n/**\n * @param {LHCI.AuditDiff} diff\n * @return {diff is LHCI.NumericAuditDiff|LHCI.NumericItemAuditDiff} */\nfunction isNumericAuditDiff(diff) {\n  return ['score', 'numericValue', 'itemCount', 'itemDelta'].includes(diff.type);\n}\n\n/** @param {number|null|undefined} score */\nfunction getScoreLevel(score) {\n  if (typeof score !== 'number') return 'error';\n  if (score >= 0.9) return 'pass';\n  if (score >= 0.5) return 'average';\n  return 'fail';\n}\n\n/** @param {number|null|undefined} value @param {[number, number]} cutoffs */\nfunction getMetricScoreLevel(value, cutoffs) {\n  if (typeof value !== 'number') return 'error';\n  if (value <= cutoffs[0]) return 'pass';\n  if (value <= cutoffs[1]) return 'average';\n  return 'fail';\n}\n\n/** @param {LHCI.AuditDiff} diff */\nfunction getDiffSeverity(diff) {\n  const delta = isNumericAuditDiff(diff) ? getDeltaStats(diff).absoluteDelta : 0;\n  if (diff.type === 'error') return 1e12;\n  if (diff.type === 'score') return 1e10 * delta;\n  if (diff.type === 'numericValue') return 1e8 * Math.max(delta / 1000, 1);\n  if (diff.type === 'itemCount') return 1e6 * delta;\n  if (diff.type === 'itemAddition') return 1e5;\n  if (diff.type === 'itemRemoval') return 1e5;\n  if (diff.type === 'itemDelta') return Math.min(Math.max(delta / 100, 1), 1e5 - 1);\n  return 0;\n}\n\n/**\n * @param {LHCI.NumericAuditDiff | LHCI.NumericItemAuditDiff} diff\n */\nfunction getDeltaStats(diff) {\n  const {baseValue, compareValue} = diff;\n  const delta = compareValue - baseValue;\n  const absoluteDelta = Math.abs(delta);\n  // Handle the 0 case to avoid messy NaN handling.\n  if (delta === 0) return {delta, absoluteDelta, percentDelta: 0, percentAbsoluteDelta: 0};\n\n  // Percent delta is `delta / baseValue` unless `baseValue == 0`.\n  // Then `percentDelta` is 100% by arbitrary convention (instead of Infinity/NaN).\n  const percentDelta = baseValue ? delta / baseValue : 1;\n  const percentAbsoluteDelta = Math.abs(percentDelta);\n\n  return {\n    delta,\n    absoluteDelta,\n    percentDelta,\n    percentAbsoluteDelta,\n  };\n}\n\n/**\n * @param {{auditId: string, type: LHCI.AuditDiffType, baseValue?: number|null, compareValue?: number|null, itemKey?: string, baseItemIndex?: number, compareItemIndex?: number}} diff\n * @return {LHCI.AuditDiff}\n */\nfunction createAuditDiff(diff) {\n  const {auditId, type, baseValue, compareValue, baseItemIndex, compareItemIndex, itemKey} = diff;\n  if (type === 'itemAddition') {\n    if (typeof compareItemIndex !== 'number') throw new Error('compareItemIndex is not set');\n    return {auditId, type, compareItemIndex};\n  }\n\n  if (type === 'itemRemoval') {\n    if (typeof baseItemIndex !== 'number') throw new Error('baseItemIndex is not set');\n    return {auditId, type, baseItemIndex};\n  }\n\n  if (type === 'displayValue') {\n    throw new Error('Do not use createAuditDiff for displayValue, just manually create');\n  }\n\n  if (\n    typeof compareValue !== 'number' ||\n    typeof baseValue !== 'number' ||\n    !Number.isFinite(baseValue) ||\n    !Number.isFinite(compareValue) ||\n    type === 'error'\n  ) {\n    return {\n      auditId,\n      type: 'error',\n      attemptedType: type,\n      baseValue: baseValue || NaN,\n      compareValue: compareValue || NaN,\n    };\n  }\n\n  /** @type {LHCI.NumericAuditDiff} */\n  const numericDiffResult = {\n    auditId,\n    type: 'score',\n    baseValue,\n    compareValue,\n  };\n\n  if (type === 'itemDelta') {\n    if (typeof itemKey !== 'string') throw new Error('itemKey is not set');\n    if (typeof baseItemIndex !== 'number' && typeof compareItemIndex !== 'number') {\n      throw new Error('Either baseItemIndex or compareItemIndex must be set');\n    }\n\n    return {\n      ...numericDiffResult,\n      type: 'itemDelta',\n      baseItemIndex,\n      compareItemIndex,\n      itemKey,\n    };\n  }\n\n  return {...numericDiffResult, type};\n}\n\n/**\n *\n * @param {string} auditId\n * @param {DetailItemEntry} baseEntry\n * @param {DetailItemEntry} compareEntry\n * @param {Array<{key: string | null}>} headings\n * @return {Array<LHCI.AuditDiff>}\n */\nfunction findAuditDetailItemKeyDiffs(auditId, baseEntry, compareEntry, headings) {\n  /** @type {Array<LHCI.AuditDiff>} */\n  const diffs = [];\n\n  for (const key of Object.keys(baseEntry.item)) {\n    const baseValue = baseEntry.item[key];\n    const compareValue = compareEntry.item[key];\n    // If these aren't numeric, comparable values, skip the key.\n    if (typeof baseValue !== 'number' || typeof compareValue !== 'number') continue;\n    // If these aren't shown in the table, skip the key.\n    if (!headings.some(heading => heading.key === key)) continue;\n\n    diffs.push(\n      createAuditDiff({\n        auditId,\n        type: 'itemDelta',\n        itemKey: key,\n        baseItemIndex: baseEntry.index,\n        compareItemIndex: compareEntry.index,\n        baseValue,\n        compareValue,\n      })\n    );\n  }\n\n  return diffs;\n}\n\n/**\n * This function creates NumericItemAuditDiffs from itemAddition/itemRemoved diffs. Normally, these\n * are superfluous data, but in some instances (table details views for example), it's desirable to\n * understand the diff state of each individual itemKey. The missing values are assumed to be 0\n * for the purposes of the diff.\n *\n * @param {Array<LHCI.AuditDiff>} diffs\n * @param {Array<Record<string, any>>} baseItems\n * @param {Array<Record<string, any>>} compareItems\n * @return {Array<LHCI.AuditDiff>}\n */\nfunction synthesizeItemKeyDiffs(diffs, baseItems, compareItems) {\n  /** @type {Array<LHCI.AuditDiff>} */\n  const itemKeyDiffs = [];\n\n  for (const diff of diffs) {\n    if (diff.type !== 'itemAddition' && diff.type !== 'itemRemoval') continue;\n\n    const item =\n      diff.type === 'itemAddition'\n        ? compareItems[diff.compareItemIndex]\n        : baseItems[diff.baseItemIndex];\n\n    for (const key of Object.keys(item)) {\n      const baseValue = diff.type === 'itemAddition' ? 0 : item[key];\n      const compareValue = diff.type === 'itemAddition' ? item[key] : 0;\n      if (typeof compareValue !== 'number' || typeof baseValue !== 'number') continue;\n\n      const itemIndexKeyName = diff.type === 'itemAddition' ? 'compareItemIndex' : 'baseItemIndex';\n      const itemIndexValue =\n        diff.type === 'itemAddition' ? diff.compareItemIndex : diff.baseItemIndex;\n      itemKeyDiffs.push(\n        createAuditDiff({\n          auditId: diff.auditId,\n          type: 'itemDelta',\n          itemKey: key,\n          [itemIndexKeyName]: itemIndexValue,\n          baseValue,\n          compareValue,\n        })\n      );\n    }\n  }\n\n  return itemKeyDiffs;\n}\n\n/** @param {string} s */\nfunction replaceNondeterministicStrings(s) {\n  if (s.startsWith('http') && s.includes('?')) {\n    try {\n      const url = new URL(s);\n      url.search = '';\n      s = url.href;\n    } catch (err) {}\n  }\n\n  return (\n    s\n      // YouTube Embeds\n      .replace(/www-embed-player-[0-9a-z]+/i, 'www-embed-player')\n      .replace(/player_ias-[0-9a-z]+/i, 'player_ias')\n      // UUIDs\n      .replace(/\\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\b/gi, 'UUID')\n      // localhost Ports\n      .replace(/:[0-9]{3,5}\\//, ':PORT/')\n      // Hash components embedded in filenames\n      .replace(/(\\.|-)[0-9a-f]{6,8}\\.(js|css|woff|html|png|jpeg|jpg|svg)/i, '$1HASH.$2')\n  );\n}\n\n/**\n * The items passed to this method can be dirtied by other libraries and contain circular structures.\n * Prune any private-looking properties that start with `_` throughout the entire object.\n *\n * @see https://github.com/GoogleChrome/lighthouse-ci/issues/666\n * @param {unknown} item\n * @return {unknown}\n */\nfunction deepPruneItemForKeySerialization(item) {\n  if (typeof item !== 'object') return item;\n  if (item === null) return item;\n\n  if (Array.isArray(item)) {\n    return item.map(entry => deepPruneItemForKeySerialization(entry));\n  } else {\n    const itemAsRecord = /** @type {Record<string, unknown>} */ (item);\n    const keys = Object.keys(item);\n    const keysToKeep = keys.filter(key => !key.startsWith('_'));\n    /** @type {Record<string, any>} */\n    const copy = {};\n    for (const key of keysToKeep) {\n      copy[key] = deepPruneItemForKeySerialization(itemAsRecord[key]);\n    }\n    return copy;\n  }\n}\n\n/** @param {Record<string, any>} item @return {string} */\nfunction getItemKey(item) {\n  // For most opportunities, diagnostics, etc where 1 row === 1 resource\n  if (typeof item.url === 'string' && item.url) return item.url;\n  // For sourcemapped opportunities that identify a source location\n  const source = item.source;\n  if (typeof source === 'string') return source;\n  if (source && source.url) return `${source.url}:${source.line}:${source.column}`;\n  // For the pre-grouped audits like resource-summary\n  if (typeof item.label === 'string') return item.label;\n  // For the pre-grouped audits like mainthread-work-breakdown\n  if (typeof item.groupLabel === 'string') return item.groupLabel;\n  // For user-timings\n  if (typeof item.name === 'string') return item.name;\n  // For dom-size\n  if (typeof item.statistic === 'string') return item.statistic;\n  // For third-party-summary\n  if (item.entity && typeof item.entity.text === 'string') return item.entity.text;\n\n  // For everything else, use the entire object, actually works OK on most nodes.\n  return JSON.stringify(deepPruneItemForKeySerialization(item));\n}\n\n/**\n * @param {Array<Record<string, any>>} baseItems\n * @param {Array<Record<string, any>>} compareItems\n * @return {Array<{base?: DetailItemEntry, compare?: DetailItemEntry}>}\n */\nfunction zipBaseAndCompareItems(baseItems, compareItems) {\n  const groupedByKey = _.groupIntoMap(\n    [\n      ...baseItems.map((item, i) => ({item, kind: 'base', index: i})),\n      ...compareItems.map((item, i) => ({item, kind: 'compare', index: i})),\n    ],\n    entry => replaceNondeterministicStrings(getItemKey(entry.item))\n  );\n\n  /** @type {Array<{base?: DetailItemEntry, compare?: DetailItemEntry}>} */\n  const zipped = [];\n\n  for (const entries of groupedByKey.values()) {\n    const baseItems = entries.filter(entry => entry.kind === 'base');\n    const compareItems = entries.filter(entry => entry.kind === 'compare');\n\n    if (baseItems.length > 1 || compareItems.length > 1) {\n      // The key is not actually unique, just treat all as added/removed.\n      for (const entry of entries) {\n        zipped.push({[entry.kind]: entry});\n      }\n\n      continue;\n    }\n\n    zipped.push({base: baseItems[0], compare: compareItems[0]});\n  }\n\n  return zipped;\n}\n\n/**\n * @param {Array<LHCI.AuditDiff>} diffs\n * @param {Array<{base?: DetailItemEntry, compare?: DetailItemEntry}>} zippedItems\n * @return {Array<{base?: DetailItemEntry, compare?: DetailItemEntry, diffs: Array<LHCI.AuditDiff>}>}\n */\nfunction sortZippedBaseAndCompareItems(diffs, zippedItems) {\n  /** @type {Array<RowLabel>} */\n  const rowLabelSortOrder = ['added', 'worse', 'ambiguous', 'removed', 'better', 'no change'];\n\n  return zippedItems\n    .map(item => {\n      return {\n        ...item,\n        diffs: getMatchingDiffsForIndex(\n          diffs,\n          item.compare && item.compare.index,\n          item.base && item.base.index\n        ),\n      };\n    })\n    .sort((a, b) => {\n      const compareIndexA = a.compare && a.compare.index;\n      const baseIndexA = a.base && a.base.index;\n      const compareIndexB = b.compare && b.compare.index;\n      const baseIndexB = b.base && b.base.index;\n\n      const rowStateIndexA = rowLabelSortOrder.indexOf(\n        getRowLabelForIndex(diffs, compareIndexA, baseIndexA)\n      );\n      const rowStateIndexB = rowLabelSortOrder.indexOf(\n        getRowLabelForIndex(diffs, compareIndexB, baseIndexB)\n      );\n\n      const labelValueA = getItemKey(\n        (a.compare && a.compare.item) || (a.base && a.base.item) || {}\n      );\n      const labelValueB = getItemKey(\n        (b.compare && b.compare.item) || (b.base && b.base.item) || {}\n      );\n\n      const numericValueA = getWorstNumericDeltaForIndex(diffs, compareIndexA, baseIndexA);\n      const numericValueB = getWorstNumericDeltaForIndex(diffs, compareIndexB, baseIndexB);\n\n      if (rowStateIndexA === rowStateIndexB) {\n        return typeof numericValueA === 'number' && typeof numericValueB === 'number'\n          ? numericValueB - numericValueA\n          : labelValueA.localeCompare(labelValueB);\n      }\n      return rowStateIndexA - rowStateIndexB;\n    });\n}\n\n/**\n * @param {string} auditId\n * @param {Array<Record<string, any>>} baseItems\n * @param {Array<Record<string, any>>} compareItems\n * @param {Array<{key: string | null}>} headings\n * @return {Array<LHCI.AuditDiff>}\n */\nfunction findAuditDetailItemsDiffs(auditId, baseItems, compareItems, headings) {\n  /** @type {Array<LHCI.AuditDiff>} */\n  const diffs = [];\n\n  for (const {base, compare} of zipBaseAndCompareItems(baseItems, compareItems)) {\n    if (base && compare) {\n      diffs.push(...findAuditDetailItemKeyDiffs(auditId, base, compare, headings));\n    } else if (compare) {\n      diffs.push({type: 'itemAddition', auditId, compareItemIndex: compare.index});\n    } else if (base) {\n      diffs.push({type: 'itemRemoval', auditId, baseItemIndex: base.index});\n    } else {\n      throw new Error('Impossible');\n    }\n  }\n\n  return diffs;\n}\n\n/**\n * @param {LH.AuditResult} audit\n */\nfunction normalizeScore(audit) {\n  if (audit.scoreDisplayMode === 'notApplicable') {\n    // notApplicable should be treated as passing.\n    return 1;\n  }\n\n  if (audit.scoreDisplayMode === 'informative') {\n    // informative should be treated as failing.\n    return 0;\n  }\n\n  return audit.score;\n}\n\n/**\n * @param {LH.AuditResult} audit\n */\nfunction getNumericValue(audit) {\n  if (\n    typeof audit.numericValue !== 'number' &&\n    audit.details &&\n    typeof audit.details.overallSavingsMs === 'number'\n  ) {\n    return audit.details.overallSavingsMs;\n  }\n\n  return audit.numericValue;\n}\n\n/**\n * @param {LH.AuditResult} audit\n */\nfunction normalizeNumericValue(audit) {\n  if (audit.scoreDisplayMode === 'notApplicable') {\n    return 0;\n  }\n\n  return getNumericValue(audit);\n}\n\n/**\n * @param {LH.AuditResult} audit\n * @return {Required<Pick<Required<LH.AuditResult>['details'],'items'|'headings'>>}\n */\nfunction normalizeDetails(audit) {\n  if (!audit.details) return {items: [], headings: []};\n  return {items: audit.details.items || [], headings: audit.details.headings || []};\n}\n\n/**\n * @param {LH.AuditResult} baseAudit\n * @param {LH.AuditResult} compareAudit\n * @param {{forceAllScoreDiffs?: boolean, skipDisplayValueDiffs?: boolean, synthesizeItemKeyDiffs?: boolean, percentAbsoluteDeltaThreshold?: number}} options\n * @return {Array<LHCI.AuditDiff>}\n */\nfunction findAuditDiffs(baseAudit, compareAudit, options = {}) {\n  const auditId = baseAudit.id || '';\n  const {percentAbsoluteDeltaThreshold = 0} = options;\n  /** @type {Array<LHCI.AuditDiff>} */\n  const diffs = [];\n\n  if (typeof baseAudit.score === 'number' || typeof compareAudit.score === 'number') {\n    diffs.push(\n      createAuditDiff({\n        auditId,\n        type: 'score',\n        baseValue: normalizeScore(baseAudit),\n        compareValue: normalizeScore(compareAudit),\n      })\n    );\n  }\n\n  if (\n    typeof getNumericValue(baseAudit) === 'number' ||\n    typeof getNumericValue(compareAudit) === 'number'\n  ) {\n    diffs.push(\n      createAuditDiff({\n        auditId,\n        type: 'numericValue',\n        baseValue: normalizeNumericValue(baseAudit),\n        compareValue: normalizeNumericValue(compareAudit),\n      })\n    );\n  }\n\n  if (typeof baseAudit.displayValue === 'string' || typeof compareAudit.displayValue === 'string') {\n    diffs.push({\n      auditId,\n      type: 'displayValue',\n      baseValue: baseAudit.displayValue || '',\n      compareValue: compareAudit.displayValue || '',\n    });\n  }\n\n  let hasItemDetails = false;\n  /** @type {Partial<LH.AuditResult['details']>} */\n  const baseAuditDetails = baseAudit.details || {};\n  /** @type {Partial<LH.AuditResult['details']>} */\n  const compareAuditDetails = compareAudit.details || {};\n  if (\n    (baseAuditDetails.type !== 'debugdata' && baseAuditDetails.items) ||\n    (compareAuditDetails.type !== 'debugdata' && compareAuditDetails.items)\n  ) {\n    hasItemDetails = true;\n    const {items: baseItems, headings: baseHeadings} = normalizeDetails(baseAudit);\n    const {items: compareItems, headings: compareHeadings} = normalizeDetails(compareAudit);\n    const headings = baseHeadings.concat(compareHeadings);\n\n    diffs.push(\n      createAuditDiff({\n        auditId,\n        type: 'itemCount',\n        baseValue: baseItems.length,\n        compareValue: compareItems.length,\n      })\n    );\n\n    diffs.push(...findAuditDetailItemsDiffs(auditId, baseItems, compareItems, headings));\n\n    if (options.synthesizeItemKeyDiffs) {\n      diffs.push(...synthesizeItemKeyDiffs(diffs, baseItems, compareItems));\n    }\n  }\n\n  const filteredDiffs = diffs.filter(diff => {\n    // Errors are always surfaced.\n    if (diff.type === 'error') return true;\n    // Additions and removals are always surfaced.\n    if (diff.type === 'itemAddition' || diff.type === 'itemRemoval') return true;\n    // If it's a score and we're not forcing all score diffs, only flag level changes.\n    if (diff.type === 'score' && !options.forceAllScoreDiffs) {\n      return getScoreLevel(diff.baseValue) !== getScoreLevel(diff.compareValue);\n    }\n    // If it's a display value change, ensure the values are different, and defer to the options.\n    if (diff.type === 'displayValue') {\n      return diff.baseValue !== diff.compareValue && !options.skipDisplayValueDiffs;\n    }\n\n    // Ensure the percent delta is above our threshold (0 by default).\n    return getDeltaStats(diff).percentAbsoluteDelta > percentAbsoluteDeltaThreshold;\n  });\n\n  // If the only diff found was a displayValue diff, skip it as the others were probably ignored by\n  // our percentAbsoluteDeltaThreshold.\n  if (filteredDiffs.length === 1 && filteredDiffs[0].type === 'displayValue') return [];\n\n  // If the only diff found was a numericValue/displayValue diff *AND* it seems like the result was flaky, skip it.\n  // The result is likely flaky if the audit passed *OR* it was supposed to have details but no details items changed.\n  const isAllPassing = compareAudit.score === 1 && baseAudit.score === 1;\n  if (\n    filteredDiffs.every(diff => diff.type === 'displayValue' || diff.type === 'numericValue') &&\n    (isAllPassing || hasItemDetails)\n  ) {\n    return [];\n  }\n\n  return filteredDiffs;\n}\n\nmodule.exports = {\n  findAuditDiffs,\n  getDiffSeverity,\n  getDeltaLabel,\n  getDeltaStats,\n  getDiffLabel,\n  getRowLabel,\n  getRowLabelForIndex,\n  getMostSevereDiffLabel,\n  getMetricScoreLevel,\n  zipBaseAndCompareItems,\n  synthesizeItemKeyDiffs,\n  sortZippedBaseAndCompareItems,\n  replaceNondeterministicStrings,\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/**\n * @see https://github.com/GoogleChrome/lighthouse/blob/2ff07d29a3e12a75cc844427c567330eb84d4249/lighthouse-core/report/html/renderer/util.js#L320-L347\n *\n * Split a string on markdown links (e.g. [some link](https://...)) into\n * segments of plain text that weren't part of a link (marked as\n * `isLink === false`), and segments with text content and a URL that did make\n * up a link (marked as `isLink === true`).\n * @param {string} text\n * @return {Array<{isLink: true, text: string, linkHref: string}|{isLink: false, text: string}>}\n */\nfunction splitMarkdownLink(text) {\n  /** @type {Array<{isLink: true, text: string, linkHref: string}|{isLink: false, text: string}>} */\n  const segments = [];\n\n  const parts = text.split(/\\[([^\\]]+?)\\]\\((https?:\\/\\/.*?)\\)/g);\n  while (parts.length) {\n    // Shift off the same number of elements as the pre-split and capture groups.\n    const [preambleText, linkText, linkHref] = parts.splice(0, 3);\n\n    if (preambleText) {\n      // Skip empty text as it's an artifact of splitting, not meaningful.\n      segments.push({\n        isLink: false,\n        text: preambleText,\n      });\n    }\n\n    // Append link if there are any.\n    if (linkText && linkHref) {\n      segments.push({\n        isLink: true,\n        text: linkText,\n        linkHref,\n      });\n    }\n  }\n\n  return segments;\n}\n\nmodule.exports = {splitMarkdownLink};\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\n", "/** @type {import('./internal').Options}  */\nconst options = {};\n\nexport default options;\n", "import options from './options';\nimport { assign } from './util';\n\n/**\n  * Create an virtual node (used for JSX)\n  * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n  * constructor for this virtual node\n  * @param {object | null | undefined} [props] The properties of the virtual node\n  * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n  * @returns {import('./internal').VNode}\n  */\nexport function createElement(type, props, children) {\n\tprops = assign({}, props);\n\n\tif (arguments.length>3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (let i=3; i<arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children!=null) {\n\t\tprops.children = children;\n\t}\n\n\t// \"type\" may be undefined during development. The check is needed so that\n\t// we can display a nice error message with our debug helpers\n\tif (type!=null && type.defaultProps!=null) {\n\t\tfor (let i in type.defaultProps) {\n\t\t\tif (props[i]===undefined) props[i] = type.defaultProps[i];\n\t\t}\n\t}\n\tlet ref = props.ref;\n\tlet key = props.key;\n\tif (ref!=null) delete props.ref;\n\tif (key!=null) delete props.key;\n\n\treturn createVNode(type, props, key, ref);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_lastDomChild: null,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode => vnode!=null && vnode.constructor === undefined;\n\n/**\n * Coerce an untrusted value into a VNode\n * Specifically, this should be used anywhere a user could provide a boolean, string, or number where\n * a VNode or Component is desired instead\n * @param {boolean | string | number | import('./internal').VNode} possibleVNode A possible VNode\n * @returns {import('./internal').VNode | null}\n */\nexport function coerceToVNode(possibleVNode) {\n\tif (possibleVNode == null || typeof possibleVNode === 'boolean') return null;\n\tif (typeof possibleVNode === 'string' || typeof possibleVNode === 'number') {\n\t\treturn createVNode(null, possibleVNode, null, null);\n\t}\n\n\t// Clone vnode if it has already been used. ceviche/#57\n\tif (possibleVNode._dom!=null || possibleVNode._component!=null) {\n\t\tlet vnode = createVNode(possibleVNode.type, possibleVNode.props, possibleVNode.key, null);\n\t\tvnode._dom = possibleVNode._dom;\n\t\treturn vnode;\n\t}\n\n\treturn possibleVNode;\n}\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s = (this._nextState!==this.state && this._nextState) || (this._nextState = assign({}, this.state));\n\n\t// if update() mutates state in-place, skip the copy:\n\tif (typeof update!=='function' || (update = update(s, this.props))) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update==null) return;\n\n\tif (this._vnode) {\n\t\tthis._force = false;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} c The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet mounts = [];\n\t\tlet newDom = diff(parentDom, vnode, assign({}, vnode), component._context, parentDom.ownerSVGElement!==undefined, null, mounts, oldDom == null ? getDomSibling(vnode) : oldDom);\n\t\tcommitRoot(mounts, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet q = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb) => void}\n */\nconst defer = typeof Promise=='function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce = options.debounceRendering;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif ((!c._dirty && (c._dirty = true) && q.push(c) === 1) ||\n\t    (prevDebounce !== options.debounceRendering)) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(options.debounceRendering || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet p;\n\tq.sort((a, b) => b._vnode._depth - a._vnode._depth);\n\twhile ((p=q.pop())) {\n\t\t// forceUpdate's callback argument is reused here to indicate a non-forced update.\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n", "import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\tlet oldVNode = isHydrating ? null : replaceNode && replaceNode._children || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\tlet mounts = [];\n\tdiff(\n\t\tparentDom,\n\t\tisHydrating ? parentDom._children = vnode : (replaceNode || parentDom)._children = vnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? null\n\t\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tmounts,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating,\n\t);\n\tcommitRoot(mounts, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\n/**\n *\n * @param {any} defaultValue\n */\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\t// Check if still mounted\n\t\t\t\t\t\t\tif (c._parentDom) {\n\t\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.sub = (c) => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { coerceToVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts The list of components\n * which have mounted\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(parentDom, newParentVNode, oldParentVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t}\n\t\telse if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t}\n\t\telse {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti=0;\n\tnewParentVNode._children = toChildArray(newParentVNode._children, childVNode => {\n\n\t\tif (childVNode!=null) {\n\t\t\tchildVNode._parent = newParentVNode;\n\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t// (holes).\n\t\t\toldVNode = oldChildren[i];\n\n\t\t\tif (oldVNode===null || (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type)) {\n\t\t\t\toldChildren[i] = undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\tfor (j=0; j<oldChildrenLength; j++) {\n\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\tif (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type) {\n\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\toldVNode = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\tnewDom = diff(parentDom, childVNode, oldVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating);\n\n\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t(refs || (refs=[])).push(j, childVNode._component || newDom, childVNode);\n\t\t\t}\n\n\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\tif (newDom!=null) {\n\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t}\n\n\t\t\t\tif (childVNode._lastDomChild != null) {\n\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t// have a non-null _lastDomChild. Continue the diff from the end of\n\t\t\t\t\t// this Fragment's DOM tree.\n\t\t\t\t\tnewDom = childVNode._lastDomChild;\n\n\t\t\t\t\t// Eagerly cleanup _lastDomChild. We don't need to persist the value because\n\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t// diffing Components and Fragments.\n\t\t\t\t\tchildVNode._lastDomChild = null;\n\t\t\t\t}\n\t\t\t\telse if (excessDomChildren==oldVNode || newDom!=oldDom || newDom.parentNode==null) {\n\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\touter: if (oldDom==null || oldDom.parentNode!==parentDom) {\n\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\tfor (sibDom=oldDom, j=0; (sibDom=sibDom.nextSibling) && j<oldChildrenLength; j+=2) {\n\t\t\t\t\t\t\tif (sibDom==newDom) {\n\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t// updated properly.\n\t\t\t\t\t//\n\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldDom = newDom.nextSibling;\n\n\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t// At this point, if childVNode._lastDomChild existed, then\n\t\t\t\t\t// newDom = childVNode._lastDomChild per line 101. Else it is\n\t\t\t\t\t// the same as childVNode._dom, meaning this component returned\n\t\t\t\t\t// only a single DOM node\n\t\t\t\t\tnewParentVNode._lastDomChild = newDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ti++;\n\t\treturn childVNode;\n\t});\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren!=null && typeof newParentVNode.type !== 'function') for (i=excessDomChildren.length; i--; ) if (excessDomChildren[i]!=null) removeNode(excessDomChildren[i]);\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i=oldChildrenLength; i--; ) if (oldChildren[i]!=null) unmount(oldChildren[i], oldChildren[i]);\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {import('../internal').VNode[]} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children==null || typeof children === 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t}\n\telse if (Array.isArray(children)) {\n\t\tfor (let i=0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t}\n\telse {\n\t\tflattened.push(callback ? callback(coerceToVNode(children)) : children);\n\t}\n\n\treturn flattened;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif ((!hydrate || typeof newProps[i]=='function') && i!=='value' && i!=='checked' && oldProps[i]!==newProps[i]) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t}\n\telse {\n\t\tstyle[key] = typeof value==='number' && IS_NON_DIMENSIONAL.test(key)===false ? value+'px' : value==null ? '' : value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tname = isSvg ? (name==='className' ? 'class' : name) : (name==='class' ? 'className' : name);\n\n\tif (name==='key' || name === 'children') {}\n\telse if (name==='style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value==='string') {\n\t\t\ts.cssText = value;\n\t\t}\n\t\telse {\n\t\t\tif (typeof oldValue==='string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) for (let i in oldValue) {\n\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) for (let i in value) {\n\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0]==='o' && name[1]==='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t}\n\t\telse {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t}\n\telse if (\n\t\tname!=='list'\n\t\t&& name!=='tagName'\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\t&& name!=='form'\n\t\t&& !isSvg\n\t\t&& (name in dom)\n\t) {\n\t\tdom[name] = value==null ? '' : value;\n\t}\n\telse if (typeof value!=='function' && name!=='dangerouslySetInnerHTML') {\n\t\tif (name!==(name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value==null || value===false) {\n\t\t\t\tdom.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdom.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\t}\n\t\t}\n\t\telse if (value==null || value===false) {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t\telse {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component, enqueueRender } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren, toChildArray } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts A list of newly\n * mounted components\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diff(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating) {\n\tlet tmp, newType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif (tmp = options._diff) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType==='function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && context[tmp._id];\n\t\t\tlet cctx = tmp ? (provider ? provider.props.value : tmp._defaultValue) : context;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, cctx); // eslint-disable-line new-cap\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, cctx);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = cctx;\n\t\t\t\tc._context = context;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState==null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps!=null) {\n\t\t\t\tassign(c._nextState==c.state ? (c._nextState = assign({}, c._nextState)) : c._nextState, newType.getDerivedStateFromProps(newProps, c._nextState));\n\t\t\t}\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && c.componentWillMount!=null) c.componentWillMount();\n\t\t\t\tif (c.componentDidMount!=null) mounts.push(c);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && c._force==null && c.componentWillReceiveProps!=null) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, cctx);\n\t\t\t\t}\n\n\t\t\t\tif (!c._force && c.shouldComponentUpdate!=null && c.shouldComponentUpdate(newProps, c._nextState, cctx)===false) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) newVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t}\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate!=null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, cctx);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\tc.context = cctx;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (tmp = options._render) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment = tmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = toChildArray(isTopLevelFragment ? tmp.props.children : tmp);\n\n\t\t\tif (c.getChildContext!=null) {\n\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate!=null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\ttmp = c._renderCallbacks;\n\t\t\tc._renderCallbacks=[];\n\t\t\ttmp.some(cb => { cb.call(c); });\n\n\t\t\t// Don't call componentDidUpdate on mount or when we bailed out via\n\t\t\t// `shouldComponentUpdate`\n\t\t\tif (!isNew && oldProps!=null && c.componentDidUpdate!=null) {\n\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = null;\n\t\t}\n\t\telse {\n\t\t\tnewVNode._dom = diffElementNodes(oldVNode._dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, isHydrating);\n\t\t}\n\n\t\tif (tmp = options.diffed) tmp(newVNode);\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\nexport function commitRoot(mounts, root) {\n\tlet c;\n\twhile ((c = mounts.pop())) {\n\t\ttry {\n\t\t\tc.componentDidMount();\n\t\t}\n\t\tcatch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n\n\tif (options._commit) options._commit(root);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts An array of newly\n * mounted components\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, isHydrating) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type==='svg' || isSvg;\n\n\tif (dom==null && excessDomChildren!=null) {\n\t\tfor (i=0; i<excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\tif (child!=null && (newVNode.type===null ? child.nodeType===3 : child.localName===newVNode.type)) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom==null) {\n\t\tif (newVNode.type===null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\t\tdom = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type) : document.createElement(newVNode.type);\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type===null) {\n\t\tif (excessDomChildren!=null) excessDomChildren[excessDomChildren.indexOf(dom)] = null;\n\t\tif (oldProps !== newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t}\n\telse if (newVNode!==oldVNode) {\n\t\tif (excessDomChildren!=null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i=0; i<dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html!=oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = newHtml && newHtml.__html || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(dom, newVNode, oldVNode, context, newVNode.type==='foreignObject' ? false : isSvg, excessDomChildren, mounts, EMPTY_OBJ, isHydrating);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (('value' in newProps) && newProps.value!==undefined && newProps.value !== dom.value) dom.value = newProps.value==null ? '' : newProps.value;\n\t\t\tif (('checked' in newProps) && newProps.checked!==undefined && newProps.checked !== dom.checked) dom.checked = newProps.checked;\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif (r = vnode.ref) {\n\t\tapplyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom)!=null;\n\t}\n\n\tvnode._dom = vnode._lastDomChild = null;\n\n\tif ((r = vnode._component)!=null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif (r = vnode._children) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom!=null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} oldVNode The oldVNode of the vnode\n * that threw, if this VNode threw while diffing\n */\n(options)._catchError = function (error, vnode, oldVNode) {\n\n\t/** @type {import('../internal').Component} */\n\tlet component;\n\n\tfor (; vnode = vnode._parent;) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (component.constructor && component.constructor.getDerivedStateFromError!=null) {\n\t\t\t\t\tcomponent.setState(component.constructor.getDerivedStateFromError(error));\n\t\t\t\t}\n\t\t\t\telse if (component.componentDidCatch!=null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\treturn enqueueRender(component._pendingError = component);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n};\n", "import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length>2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(vnode.type, props, props.key || vnode.key, props.ref || vnode.ref);\n}\n", "import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeRender = options._render;\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tif (currentComponent.__hooks) {\n\t\tcurrentComponent.__hooks._pendingEffects = handleEffects(currentComponent.__hooks._pendingEffects);\n\t}\n};\n\nlet oldAfterDiff = options.diffed;\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\thooks._handles = bindHandles(hooks._handles);\n\t\thooks._pendingLayoutEffects = handleEffects(hooks._pendingLayoutEffects);\n\t}\n};\n\n\nlet oldBeforeUnmount = options.unmount;\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\thooks._list.forEach(hook => hook._cleanup && hook._cleanup());\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index) {\n\tif (options._hook) options._hook(currentComponent);\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks = currentComponent.__hooks || (currentComponent.__hooks = { _list: [], _pendingEffects: [], _pendingLayoutEffects: [], _handles: [] });\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\nexport function useState(initialState) {\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\nexport function useReducer(reducer, initialState, init) {\n\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++);\n\tif (!hookState._component) {\n\t\thookState._component = currentComponent;\n\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0]!==nextValue) {\n\t\t\t\t\thookState._value[0] = nextValue;\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t\tafterPaint(currentComponent);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\t\tcurrentComponent.__hooks._pendingLayoutEffects.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\nexport function useImperativeHandle(ref, createHandle, args) {\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tcurrentComponent.__hooks._handles.push({ ref, createHandle });\n\t}\n}\n\nfunction bindHandles(handles) {\n\thandles.some(handle => {\n\t\tif (handle.ref) handle.ref.current = handle.createHandle();\n\t});\n\treturn [];\n}\n\n/**\n * @param {() => any} callback\n * @param {any[]} args\n */\nexport function useMemo(callback, args) {\n\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tstate._callback = callback;\n\t\treturn state._value = callback();\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\tif (!provider) return context._defaultValue;\n\tconst state = getHookState(currentIndex++);\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n// Note: if someone used Component.debounce = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Invoke a component's pending effects after the next frame renders\n * @type {(component: import('./internal').Component) => void}\n */\n/* istanbul ignore next */\nlet afterPaint = () => {};\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.some(component => {\n\t\tcomponent._afterPaintQueued = false;\n\t\tif (component._parentDom) {\n\t\t\tcomponent.__hooks._pendingEffects = handleEffects(component.__hooks._pendingEffects);\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nconst RAF_TIMEOUT = 100;\n\n/**\n * requestAnimationFrame with a timeout in case it doesn't fire (for example if the browser tab is not visible)\n */\nfunction safeRaf(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tcancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\tconst raf = requestAnimationFrame(done);\n}\n\n/* istanbul ignore else */\nif (typeof window !== 'undefined') {\n\tlet prevRaf = options.requestAnimationFrame;\n\tafterPaint = (component) => {\n\t\tif ((!component._afterPaintQueued && (component._afterPaintQueued = true) && afterPaintEffects.push(component) === 1) ||\n\t\t    prevRaf !== options.requestAnimationFrame) {\n\t\t\tprevRaf = options.requestAnimationFrame;\n\n\t\t\t/* istanbul ignore next */\n\t\t\t(options.requestAnimationFrame || safeRaf)(flushAfterPaintEffects);\n\t\t}\n\t};\n}\n\nfunction handleEffects(effects) {\n\teffects.forEach(invokeCleanup);\n\teffects.forEach(invokeEffect);\n\treturn [];\n}\n\nfunction invokeCleanup(hook) {\n\tif (hook._cleanup) hook._cleanup();\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\tconst result = hook._value();\n\tif (typeof result === 'function') hook._cleanup = result;\n}\n\nfunction argsChanged(oldArgs, newArgs) {\n\treturn !oldArgs || newArgs.some((arg, index) => arg !== oldArgs[index]);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f === 'function' ? f(arg) : f;\n}\n", "function toVal(mix) {\n\tvar k, y, str='';\n\tif (mix) {\n\t\tif (typeof mix === 'object') {\n\t\t\tif (!!mix.push) {\n\t\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\t\tif (mix[k] && (y = toVal(mix[k]))) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in mix) {\n\t\t\t\t\tif (mix[k] && (y = toVal(k))) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof mix !== 'boolean' && !mix.call) {\n\t\t\tstr && (str += ' ');\n\t\t\tstr += mix;\n\t\t}\n\t}\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (x = toVal(arguments[i++])) {\n\t\t\tstr && (str += ' ');\n\t\t\tstr += x\n\t\t}\n\t}\n\treturn str;\n}\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport clsx from 'clsx';\nimport './loading-spinner.css';\n\n// @ts-ignore - tsc doesn't understand bundlers :)\nconst SVG_PATH = require('./loading-spinner.svg');\n\nconst LoadingSpinner_ = () => {\n  return <img src={SVG_PATH} alt=\"Loading spinner\" />;\n};\n\n/** @param {{solo?: boolean}} props */\nexport const LoadingSpinner = props => {\n  return (\n    <div\n      className={clsx('loading-spinner', {\n        'loading-spinner--container': !props.solo,\n      })}\n    >\n      <LoadingSpinner_ />\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport clsx from 'clsx';\nimport './paper.css';\n\n/** @param {{children: string|JSX.Element|JSX.Element[], className?: string, key?: any}} props */\nexport const Paper = props => {\n  const {children} = props;\n  return <div className={clsx('paper', props.className)}>{children}</div>;\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport clsx from 'clsx';\nimport {useState} from 'preact/hooks';\nimport './lhr-viewer-link.css';\n\n/** @typedef {LH.Result|(() => Promise<LH.Result>)} LHResolver */\n\n/** @param {LH.Result} lhr */\nexport function openLhrInClassicViewer(lhr) {\n  // Allows for self-hosted viewer uri instead of linking externally\n  const VIEWER_ORIGIN = process.env.VIEWER_ORIGIN || 'https://googlechrome.github.io';\n  // Chrome doesn't allow us to immediately postMessage to a popup right\n  // after it's created. Normally, we could also listen for the popup window's\n  // load event, however it is cross-domain and won't fire. Instead, listen\n  // for a message from the target app saying \"I'm open\".\n  window.addEventListener('message', function msgHandler(messageEvent) {\n    if (messageEvent.origin !== VIEWER_ORIGIN) {\n      return;\n    }\n    // https://github.com/GoogleChrome/lighthouse/blob/35f1a6f90e9443bdf42179a4c9823e6d4848a9e6/lighthouse-viewer/app/src/lighthouse-report-viewer.js#L415-L418\n    if (popup && messageEvent.data.opened) {\n      popup.postMessage({lhresults: lhr}, VIEWER_ORIGIN);\n      window.removeEventListener('message', msgHandler);\n    }\n  });\n\n  // The popup's window.name is keyed by version+url+fetchTime, so we reuse/select tabs correctly\n  const fetchTime = lhr.fetchTime;\n  const windowName = `${lhr.lighthouseVersion}-${lhr.requestedUrl}-${fetchTime}`;\n  const popup = window.open(`${VIEWER_ORIGIN}/lighthouse/viewer`, windowName);\n}\n\n/** @param {{children: string|JSX.Element|JSX.Element[], lhr: LHResolver, className?: string}} props */\nexport const LhrViewerLink = props => {\n  const {children, lhr: lhrOrResolver} = props;\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <span\n      className={clsx('lhr-viewer-link', props.className, {\n        'lhr-viewer-link--loading': isLoading,\n      })}\n      onClick={async evt => {\n        evt.preventDefault();\n        evt.stopImmediatePropagation();\n        if (isLoading) return;\n\n        if (typeof lhrOrResolver === 'object') return openLhrInClassicViewer(lhrOrResolver);\n\n        setIsLoading(true);\n        const lhr = await lhrOrResolver();\n        setIsLoading(false);\n        openLhrInClassicViewer(lhr);\n      }}\n    >\n      {children}\n    </span>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport {LhrViewerLink} from './lhr-viewer-link';\nimport './lhr-viewer-button.css';\n\n// @ts-ignore - ts doesn't know how bundlers work :)\nconst LH_ICON_PATH = require('../favicon.svg');\n\n/** @param {{lhr: import('./lhr-viewer-link').LHResolver, label?: string}} props */\nexport const LhrViewerButton = props => {\n  const {lhr, label = 'Open Report'} = props;\n  return (\n    <LhrViewerLink lhr={lhr}>\n      <div className=\"lhr-viewer-button\" role=\"button\">\n        <img src={LH_ICON_PATH} /> <span>{label}</span>\n      </div>\n    </LhrViewerLink>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nexport {LoadingSpinner} from '../../../../server/src/ui/components/loading-spinner.jsx';\nexport {Paper} from '../../../../server/src/ui/components/paper.jsx';\nexport {LhrViewerButton} from '../../../../server/src/ui/components/lhr-viewer-button.jsx';\n\n/** @type {string} */\n// @ts-expect-error - tsc doesn't get parcel :)\nexport const CONFETTI_PATH = require('../../../../server/src/ui/routes/project-list/confetti.svg');\n\n/** @type {string} */\n// @ts-expect-error - tsc doesn't get parcel :)\nexport const LH_LOGO_PATH = require('../../../../server/src/ui/logo.svg');\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport './report-upload-box.css';\nimport {LhrViewerButton} from './lhci-components';\nimport {useState, useEffect, useRef} from 'preact/hooks';\nimport clsx from 'clsx';\n\n/** @typedef {import('../app.jsx').ToastMessage} ToastMessage */\n/** @typedef {import('../app.jsx').ReportData} ReportData */\n/** @typedef {'filename'|'hostname'|'pathname'|'path'|'timestamp-hostname'|'timestamp-pathname'} DisplayType */\n/** @typedef {{variant: 'base'|'compare', displayType: DisplayType, report: ReportData|undefined, setReport: (d: ReportData) => void, addToast: (t: ToastMessage) => void, showOpenLhrLink?: boolean, dragTarget?: 'self' | 'document'}} ReportUploadBoxProps */\n/** @typedef {HTMLElement|undefined} DragData */\n\n/** @param {string} s @return {LH.Result|Error} */\nexport function parseStringAsLhr(s) {\n  if (s.includes('<script>window.__LIGHTHOUSE_JSON__ = ')) {\n    const match = s.match(/window\\.__LIGHTHOUSE_JSON__ = (.*?});<\\/script>/);\n    if (match) s = match[1];\n  }\n\n  if (s.trim().charAt(0) === '{') {\n    try {\n      const lhr = JSON.parse(s);\n      if (lhr.lighthouseVersion) return lhr;\n      return new Error(`JSON did not contain a lighthouseVersion`);\n    } catch (err) {\n      return new Error(`File was not valid JSON (${err.message})`);\n    }\n  }\n\n  return new Error('File was not a valid report');\n}\n\n/** @param {LH.Result} lhrA  @param {LH.Result} lhrB @return {DisplayType} */\nexport function computeBestDisplayType(lhrA, lhrB) {\n  const urlA = new URL(lhrA.finalUrl);\n  const urlB = new URL(lhrB.finalUrl);\n  if (urlA.hostname !== urlB.hostname) return 'hostname';\n  if (urlA.pathname !== urlB.pathname) return 'pathname';\n  if (urlA.search !== urlB.search) return 'path';\n  if (urlA.pathname.length < 5) return 'timestamp-hostname';\n  return 'timestamp-pathname';\n}\n\n/** @param {{report: ReportData, displayType: DisplayType}} props */\nconst FilePill = props => {\n  const {filename, lhr} = props.report;\n  const url = new URL(lhr.finalUrl);\n  const timestamp = new Date(lhr.fetchTime).toLocaleString();\n  const options = {\n    filename,\n    hostname: url.hostname,\n    pathname: url.pathname,\n    path: `${url.pathname}${url.search}`,\n    'timestamp-hostname': `${timestamp} (${url.hostname})`,\n    'timestamp-pathname': `${timestamp} (${url.pathname})`,\n  };\n\n  const tooltip = `${url.href} at ${timestamp}`;\n  return <span title={tooltip}>{options[props.displayType]}</span>;\n};\n\n/** @param {Pick<ReportUploadBoxProps, 'addToast'|'setReport'>} props @param {FileList} fileList */\nfunction handleFileInput(props, fileList) {\n  const filename = fileList[0].name;\n  const reader = new FileReader();\n  reader.readAsText(fileList[0], 'utf-8');\n\n  reader.addEventListener('load', () => {\n    if (typeof reader.result !== 'string') {\n      props.addToast({message: 'File was not readable as text!', level: 'error'});\n      return;\n    }\n\n    const lhr = parseStringAsLhr(reader.result);\n    if (lhr instanceof Error) {\n      props.addToast({message: `Invalid file: ${lhr.message}`, level: 'error'});\n      return;\n    }\n\n    props.setReport({filename, data: reader.result, lhr});\n  });\n\n  reader.addEventListener('error', () => {\n    props.addToast({message: 'File was not readable!', level: 'error'});\n  });\n}\n\n/** @param {ReportUploadBoxProps} props @param {import('preact/hooks').Ref<DragData>} dragTargetRef @param {(b: boolean) => void} setIsDragging @param {Event} e */\nfunction handleDragEnter(props, dragTargetRef, setIsDragging, e) {\n  if (!(e.target instanceof HTMLElement)) return;\n  e.stopPropagation();\n  e.preventDefault();\n  setIsDragging(true);\n  dragTargetRef.current = e.target;\n}\n\n/** @param {ReportUploadBoxProps} props @param {import('preact/hooks').Ref<DragData>} dragTargetRef @param {(b: boolean) => void} setIsDragging @param {Event} e */\nfunction handleDragLeave(props, dragTargetRef, setIsDragging, e) {\n  if (e.target !== dragTargetRef.current) return;\n  e.stopPropagation();\n  e.preventDefault();\n  setIsDragging(false);\n  dragTargetRef.current = undefined;\n}\n\n/** @param {ReportUploadBoxProps} props @param {import('preact/hooks').Ref<DragData>} dragTargetRef @param {(b: boolean) => void} setIsDragging @param {Event} e */\nfunction handleDragOver(props, dragTargetRef, setIsDragging, e) {\n  if (!dragTargetRef.current) return;\n  e.stopPropagation();\n  e.preventDefault();\n}\n\n/** @param {Pick<ReportUploadBoxProps, 'addToast'|'setReport'>} props @param {import('preact/hooks').Ref<DragData>} dragTargetRef @param {(b: boolean) => void} setIsDragging @param {Event} e */\nfunction handleDrop(props, dragTargetRef, setIsDragging, e) {\n  if (!dragTargetRef.current) return;\n  if (!(e instanceof DragEvent)) return;\n  if (!e.dataTransfer) return;\n  e.stopPropagation();\n  e.preventDefault();\n  setIsDragging(false);\n  dragTargetRef.current = undefined;\n  handleFileInput(props, e.dataTransfer.files);\n}\n\n/** @param {ReportUploadBoxProps} props */\nexport const ReportUploadBox = props => {\n  const [isDragging, setIsDragging] = useState(false);\n  const dragTargetRef = useRef(/** @type {HTMLElement|undefined} */ (undefined));\n\n  /** @param {Event} e */\n  const onDragEnter = e => handleDragEnter(props, dragTargetRef, setIsDragging, e);\n  /** @param {Event} e */\n  const onDragLeave = e => handleDragLeave(props, dragTargetRef, setIsDragging, e);\n  /** @param {Event} e */\n  const onDragOver = e => handleDragOver(props, dragTargetRef, setIsDragging, e);\n  /** @param {Event} e */\n  const onDrop = e => handleDrop(props, dragTargetRef, setIsDragging, e);\n\n  useEffect(() => {\n    if (props.dragTarget !== 'document') return;\n\n    document.addEventListener('dragenter', onDragEnter);\n    document.addEventListener('dragleave', onDragLeave);\n    document.addEventListener('dragover', onDragOver);\n    document.addEventListener('drop', onDrop);\n\n    return () => {\n      document.removeEventListener('dragenter', onDragEnter);\n      document.removeEventListener('dragleave', onDragLeave);\n      document.removeEventListener('dragover', onDragOver);\n      document.removeEventListener('drop', onDrop);\n    };\n  }, [props.dragTarget, props.addToast, props.setReport, dragTargetRef.current]);\n\n  return (\n    <div\n      className={clsx(`report-upload-box report-upload-box--${props.variant}`, {\n        'report-upload-box--drop': isDragging,\n        'report-upload-box--document-target': props.dragTarget === 'document',\n      })}\n      onDragEnter={onDragEnter}\n      onDragLeave={onDragLeave}\n      onDragOver={onDragOver}\n      onDrop={onDrop}\n    >\n      <div className=\"report-upload-box__drop-outline\">Drop your report to upload</div>\n      <span className=\"report-upload-box__label\">\n        {props.variant === 'base' ? 'Base' : 'Compare'}\n      </span>\n      <div className=\"report-upload-box__file\">\n        {props.report ? (\n          <FilePill report={props.report} displayType={props.displayType} />\n        ) : (\n          <Fragment />\n        )}\n      </div>\n      <div className=\"report-upload-box__lhr-link\">\n        {props.report && props.showOpenLhrLink ? (\n          <LhrViewerButton lhr={props.report.lhr} label=\"View Report\" />\n        ) : null}\n      </div>\n      <div className=\"report-upload-box__spacer\" />\n      <label className=\"report-upload-box__upload\">\n        Upload\n        <input\n          type=\"file\"\n          style={{display: 'none'}}\n          onChange={e => {\n            const input = e.target;\n            if (!(input instanceof HTMLInputElement)) return;\n            const fileList = input.files;\n            if (!fileList || fileList.length !== 1) return;\n            handleFileInput(props, fileList);\n          }}\n        />\n      </label>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './landing.css';\nimport {CONFETTI_PATH, LH_LOGO_PATH, Paper} from '../../components/lhci-components.jsx';\nimport {ReportUploadBox} from '../../components/report-upload-box';\n\n/** @typedef {import('../../app.jsx').ToastMessage} ToastMessage */\n/** @typedef {import('../../app.jsx').ReportData} ReportData */\n\n/** @param {{baseReport?: ReportData, compareReport?: ReportData, setBaseReport: (d: ReportData) => void, setCompareReport: (d: ReportData) => void, addToast: (t: ToastMessage) => void}} props */\nexport const LandingRoute = props => {\n  return (\n    <div className=\"landing\">\n      <div className=\"landing__background\">\n        <img src={CONFETTI_PATH} alt=\"Lighthouse CI Background Image\" />\n      </div>\n      <Paper className=\"landing__paper\">\n        <a\n          className=\"landing__info-icon\"\n          href=\"https://github.com/GoogleChrome/lighthouse-ci\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <i className=\"material-icons\">info</i>\n        </a>\n        <img className=\"landing__logo\" src={LH_LOGO_PATH} alt=\"Lighthouse Logo\" />\n        <h1>Lighthouse CI Diff</h1>\n        <span>Drag or upload two Lighthouse reports to start comparing!</span>\n        <div className=\"landing__upload\">\n          <ReportUploadBox\n            variant=\"base\"\n            report={props.baseReport}\n            setReport={props.setBaseReport}\n            addToast={props.addToast}\n            displayType=\"filename\"\n            dragTarget={props.baseReport ? 'self' : 'document'}\n          />\n          <ReportUploadBox\n            variant=\"compare\"\n            report={props.compareReport}\n            setReport={props.setCompareReport}\n            addToast={props.addToast}\n            displayType=\"filename\"\n            dragTarget={props.baseReport ? 'document' : 'self'}\n          />\n        </div>\n      </Paper>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport {useState, useEffect} from 'preact/hooks';\nimport clsx from 'clsx';\nimport _ from '@lhci/utils/src/lodash';\nimport {findAuditDiffs, getDiffSeverity} from '@lhci/utils/src/audit-diff-finder';\n\nimport {Dropdown} from '../../components/dropdown';\nimport {AuditDetailPane} from './audit-detail/audit-detail-pane';\nimport {LhrComparisonScores} from './lhr-comparison-scores';\nimport {AuditGroup} from './audit-list/audit-group';\nimport {LhrComparisonLegend} from './lhr-comparison-legend';\nimport {Paper} from '../../components/paper';\nimport {LhrViewerLink} from '../../components/lhr-viewer-link';\n\nimport './lhr-comparison.css';\nimport {Modal} from '../../components/modal';\nimport {LhrRuntimeDiff, computeRuntimeDiffs} from './lhr-comparison-runtime-diff';\n\n/** @typedef {{id: string, pairs: Array<LHCI.AuditPair>, group: {id: string, title: string}, showAsUnchanged: boolean}} AuditGroupDef */\n\n/** @param {(s: string) => void} setAuditId */\nfunction useAuditPermalinkScrollOnLoad(setAuditId) {\n  /** @param {number} ms */\n  const wait = ms => new Promise(r => setTimeout(r, ms));\n\n  /** @param {string} selector */\n  const waitUntilSelector = async selector => {\n    let attempts = 0;\n    while (!document.querySelector(selector) && attempts < 10) {\n      await wait(500);\n      attempts++;\n    }\n  };\n\n  useEffect(() => {\n    if (window.location.hash.length <= 1) return;\n\n    Promise.resolve().then(async () => {\n      await waitUntilSelector('.lhr-comparison__audit-groups');\n      setAuditId(window.location.hash.slice(1));\n    });\n  }, []);\n}\n\n/**\n * @param {LH.Result} lhr\n * @param {LH.Result|undefined} baseLhr\n * @param {{percentAbsoluteDeltaThreshold: number}} options\n * @return {Array<AuditGroupDef>}\n */\nexport function computeAuditGroups(lhr, baseLhr, options) {\n  /** @type {Array<AuditGroupDef>} */\n  const auditGroups = [];\n\n  for (const [categoryId, category] of Object.entries(lhr.categories)) {\n    const categoryAsGroup = {title: category.title, description: category.description};\n    const auditRefsGroupedByGroup = _.groupBy(category.auditRefs, ref => ref.group);\n\n    const unchangedAuditsGroupId = `unchanged:${categoryId}`;\n    /** @type {AuditGroupDef} */\n    const unchangedAuditsGroup = {\n      id: unchangedAuditsGroupId,\n      group: {id: unchangedAuditsGroupId, title: `Unchanged Audits - ${category.title}`},\n      pairs: [],\n      showAsUnchanged: true,\n    };\n\n    for (const auditRefGroup of auditRefsGroupedByGroup) {\n      let groupId = auditRefGroup[0].group || '';\n      let groupWithoutId = lhr.categoryGroups && lhr.categoryGroups[groupId];\n      if (!groupWithoutId) {\n        // Only use the category as the group if the entire category is ungrouped.\n        // The lack of a category when the category otherwise uses groups means it's hidden.\n        if (auditRefsGroupedByGroup.length !== 1) continue;\n        groupId = `category:${categoryId}`;\n        groupWithoutId = categoryAsGroup;\n      }\n      const group = {...groupWithoutId, id: groupId};\n\n      const pairs = auditRefGroup\n        .map(ref => {\n          const audit = {...lhr.audits[ref.id], id: ref.id};\n          const baseAudit = baseLhr && baseLhr.audits[audit.id || ''];\n          const diffs = baseAudit\n            ? findAuditDiffs(baseAudit, audit, {...options, synthesizeItemKeyDiffs: true})\n            : [];\n          const maxSeverity = Math.max(...diffs.map(getDiffSeverity), 0);\n          return {audit, baseAudit, diffs, maxSeverity, group};\n        })\n        .sort((a, b) => (a.audit.score || 0) - (b.audit.score || 0));\n\n      const pairsWithDiffs = pairs.filter(pair => !pair.baseAudit || pair.diffs.length);\n      const pairsWithoutDiffs = pairs.filter(pair => pair.baseAudit && !pair.diffs.length);\n      if (pairsWithDiffs.length) {\n        auditGroups.push({id: groupId, group, pairs: pairsWithDiffs, showAsUnchanged: false});\n      }\n      if (pairsWithoutDiffs.length) {\n        unchangedAuditsGroup.pairs.push(...pairsWithoutDiffs);\n      }\n    }\n\n    if (unchangedAuditsGroup.pairs.length) {\n      auditGroups.push(unchangedAuditsGroup);\n    }\n  }\n\n  return auditGroups;\n}\n\n/** @param {{hookElements: LHCI.HookElements<'dropdowns'>, selectedAuditId?: string | null, lhr?: LH.Result, baseLhr?: LH.Result, percentAbsoluteDeltaThreshold: number, setPercentAbsoluteDeltaThreshold: (x: number) => void}} props */\nconst LhrComparisonScoresAndUrl = props => {\n  return (\n    <div className=\"lhr-comparison__scores-and-dropdowns\">\n      <div className=\"container\">\n        <div className=\"lhr-comparison__dropdowns\">\n          {props.hookElements.dropdowns}\n          <Dropdown\n            label=\"Threshold\"\n            value={props.percentAbsoluteDeltaThreshold.toString()}\n            setValue={value => {\n              props.setPercentAbsoluteDeltaThreshold(Number(value));\n            }}\n            options={[\n              {value: '0', label: '0%'},\n              {value: '0.05', label: '5%'},\n              {value: '0.1', label: '10%'},\n              {value: '0.15', label: '15%'},\n              {value: '0.25', label: '25%'},\n            ]}\n          />\n        </div>\n        {props.selectedAuditId ? <Fragment /> : <LhrComparisonScores {...props} />}\n      </div>\n    </div>\n  );\n};\n\n/** @param {{auditGroups: Array<AuditGroupDef|undefined>, baseLhr?: LH.Result, selectedAuditId: string|null, setSelectedAuditId: (id: string|null) => void, showAsNarrow: boolean}} props */\nconst AuditGroups = props => {\n  return (\n    <div className=\"lhr-comparison__audit-groups\">\n      {props.auditGroups.map(auditGroup => {\n        if (!auditGroup) return undefined;\n        return (\n          <AuditGroup\n            key={auditGroup.id}\n            showAsNarrow={props.showAsNarrow}\n            showAsUnchanged={auditGroup.showAsUnchanged}\n            pairs={auditGroup.pairs}\n            group={auditGroup.group}\n            baseLhr={props.baseLhr}\n            selectedAuditId={props.selectedAuditId}\n            setSelectedAuditId={props.setSelectedAuditId}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\n/** @param {{lhr: LH.Result, baseLhr: LH.Result|undefined, hookElements: LHCI.HookElements<'dropdowns'|'warnings'>, className?: string}} props */\nexport const LhrComparison = props => {\n  const {lhr, baseLhr} = props;\n  const defaultAck = /** @type {'none'|'acknowledged'|'closed'} */ ('none');\n  const [percentAbsoluteDeltaThreshold, setDiffThreshold] = useState(0.05);\n  const [selectedAuditId, setAuditId] = useState(/** @type {string|null} */ (null));\n  const [runtimeDiffAck, setRuntimeDiffAck] = useState(defaultAck);\n  useAuditPermalinkScrollOnLoad(setAuditId);\n\n  // Attach the LHRs to the window for easy debugging.\n  useEffect(() => {\n    // @ts-ignore\n    window.__LHR__ = lhr;\n    // @ts-ignore\n    window.__BASE_LHR__ = baseLhr;\n  }, [lhr, baseLhr]);\n\n  const runtimeDiffs = computeRuntimeDiffs(lhr, baseLhr);\n  const runtimeDiffsHaveError = runtimeDiffs.some(diff => diff.severity === 'error');\n  const auditGroups = computeAuditGroups(lhr, baseLhr, {percentAbsoluteDeltaThreshold});\n\n  return (\n    <Fragment>\n      {runtimeDiffAck === 'none' && runtimeDiffsHaveError ? (\n        <Modal onClose={() => setRuntimeDiffAck('acknowledged')}>\n          <LhrRuntimeDiff diffs={runtimeDiffs} variant=\"full\" />\n        </Modal>\n      ) : null}\n      {selectedAuditId ? (\n        <AuditDetailPane\n          selectedAuditId={selectedAuditId}\n          setSelectedAuditId={setAuditId}\n          pairs={auditGroups\n            .filter(group => !group.showAsUnchanged)\n            .map(group => group.pairs)\n            .reduce((a, b) => a.concat(b))}\n          baseLhr={baseLhr}\n        />\n      ) : (\n        <Fragment />\n      )}\n      <div\n        className={clsx('lhr-comparison', props.className, {\n          'lhr-comparison--with-audit-selection': !!selectedAuditId,\n        })}\n      >\n        <LhrComparisonScoresAndUrl\n          lhr={lhr}\n          baseLhr={baseLhr}\n          selectedAuditId={selectedAuditId}\n          hookElements={props.hookElements}\n          percentAbsoluteDeltaThreshold={percentAbsoluteDeltaThreshold}\n          setPercentAbsoluteDeltaThreshold={setDiffThreshold}\n        />\n        <div className=\"container\">\n          {props.hookElements.warnings}\n          {runtimeDiffAck !== 'closed' && runtimeDiffs.length ? (\n            <Paper className=\"position-relative\">\n              <LhrRuntimeDiff diffs={runtimeDiffs} variant=\"mini\" />\n              <div\n                className=\"lhr-comparison-runtime-diff__close\"\n                onClick={() => setRuntimeDiffAck('closed')}\n              >\n                <i className=\"material-icons\">close</i>\n              </div>\n            </Paper>\n          ) : null}\n          {auditGroups.length && baseLhr ? (\n            <Fragment>\n              {selectedAuditId ? null : (\n                <div className=\"lhr-comparison__legend-container\">\n                  <LhrComparisonLegend />\n                </div>\n              )}\n              <AuditGroups\n                showAsNarrow={!!selectedAuditId}\n                auditGroups={auditGroups}\n                baseLhr={baseLhr}\n                selectedAuditId={selectedAuditId}\n                setSelectedAuditId={setAuditId}\n              />\n            </Fragment>\n          ) : props.hookElements.warnings ? null : (\n            <Paper className=\"lhr-comparison__warning\">\n              <i className=\"material-icons\">sentiment_satisfied_alt</i>\n              <div>\n                Woah, no differences found! Switch base builds to explore other differences, or{' '}\n                <LhrViewerLink className=\"lhr-comparison__warning__lhr-link\" lhr={props.lhr}>\n                  jump straight to the Lighthouse report.\n                </LhrViewerLink>\n              </div>\n            </Paper>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport clsx from 'clsx';\nimport './dropdown.css';\n\n/** @param {{options: Array<{value: string, label: string}>, value: string, setValue(v: string): void, className?: string, title?: string, label?: string}} props */\nexport const Dropdown = props => {\n  const {options, value, setValue, className, title, label} = props;\n  const computedOptions = options.some(option => option.value === value)\n    ? options\n    : [...options, {value, label: value}];\n  return (\n    <div\n      className={clsx('dropdown', className)}\n      style={{position: 'relative'}}\n      data-tooltip={title}\n    >\n      <label>\n        {label ? <span className=\"dropdown__label\">{label}</span> : <Fragment />}\n        <select\n          onChange={evt => {\n            if (!(evt.target instanceof HTMLSelectElement)) return;\n            setValue(evt.target.value);\n          }}\n        >\n          {computedOptions.map(option => {\n            return (\n              <option key={option.value} value={option.value} selected={option.value === value}>\n                {option.label}\n              </option>\n            );\n          })}\n        </select>\n      </label>\n      <div className=\"dropdown__chevron\">\n        <i className=\"material-icons\">arrow_drop_down</i>\n      </div>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {useRef, useEffect} from 'preact/hooks';\n\n/**\n * @template T\n * @param {T} value\n * @return {T|null|undefined}\n */\nexport function usePreviousValue(value) {\n  /** @type {import('preact').Ref<T|undefined>} */\n  const ref = useRef(undefined);\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  // This is returned before our useEffect callback runs to update the value.\n  return ref.current;\n}\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\n\n/** @param {{score: number}} props */\nexport const ScoreIcon = props => {\n  const score = props.score;\n  if (score >= 0.9) return <i className=\"lh-score-pass\" />;\n  if (score >= 0.5) return <i className=\"lh-score-average\" />;\n  return (\n    <i className=\"lh-score-fail\">\n      <svg viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n        <polygon points=\"10,110 60,10 110,110\" />\n      </svg>\n    </i>\n  );\n};\n\n/** @param {{audit: LH.AuditResult}} props */\nexport const ScoreWord = props => {\n  const score = props.audit.score || 0;\n  if (score >= 0.9) return <span className=\"lh-score-word\">Pass</span>;\n  return <span className=\"lh-score-word\">Fail</span>;\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport {splitMarkdownLink} from '@lhci/utils/src/markdown.js';\n\n/** @param {{text: string}} props */\nexport const Markdown = props => {\n  const segments = splitMarkdownLink(props.text);\n\n  return (\n    <Fragment>\n      {segments.map((segment, i) => {\n        if (!segment.isLink) return <span key={i}>{segment.text}</span>;\n\n        const url = new URL(segment.linkHref);\n\n        const DOCS_ORIGINS = ['https://developers.google.com', 'https://web.dev'];\n        if (DOCS_ORIGINS.includes(url.origin)) {\n          url.searchParams.set('utm_source', 'lighthouse');\n          url.searchParams.set('utm_medium', 'ci');\n        }\n\n        return (\n          <a key={i} href={url.href} target=\"_blank\" rel=\"noopener noreferrer\">\n            {segment.text}\n          </a>\n        );\n      })}\n    </Fragment>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\n\nexport const Nbsp = () => {\n  return <span style={{display: 'inline-block', width: 4, height: 1}} />;\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {Fragment, h} from 'preact';\nimport {Nbsp} from '../../../components/nbsp';\nimport './simple-details.css';\nimport {getDiffLabel, getDeltaStats} from '@lhci/utils/src/audit-diff-finder.js';\n\n/** @param {{type: LH.DetailsType, baseValue: any, compareValue: any, diff?: LHCI.NumericItemAuditDiff}} props */\nexport const SimpleDetails = props => {\n  let type = props.type;\n  const {compareValue, baseValue, diff} = props;\n  const value = compareValue === undefined ? baseValue : compareValue;\n\n  if (typeof value === 'object' && value.type) {\n    type = value.type;\n  }\n\n  const label = diff ? getDiffLabel(diff) : 'neutral';\n\n  const numericBase = Number.isFinite(baseValue) ? baseValue : 0;\n  const numericCompare = Number.isFinite(compareValue) ? compareValue : 0;\n  const baseDisplay = `Base Value: ${Math.round(numericBase).toLocaleString()}`;\n  const compareDisplay = `Compare Value: ${Math.round(numericCompare).toLocaleString()}`;\n  const numericTitle = `${baseDisplay}, ${compareDisplay}`;\n  const deltaPercent =\n    diff && getDeltaStats(diff).percentAbsoluteDelta !== 1\n      ? ` (${(getDeltaStats(diff).percentAbsoluteDelta * 100).toLocaleString(undefined, {\n          maximumFractionDigits: 0,\n        })}%)`\n      : '';\n\n  switch (type) {\n    case 'bytes': {\n      const kb = Math.abs((numericCompare - numericBase) / 1024);\n      return (\n        <pre className={`simple-details--${label}`} data-tooltip={numericTitle}>\n          {numericCompare >= numericBase ? '+' : '-'}\n          {kb.toLocaleString(undefined, {maximumFractionDigits: Math.abs(kb) < 1 ? 1 : 0})}\n          <Nbsp />\n          KB\n          {deltaPercent}\n        </pre>\n      );\n    }\n    case 'ms':\n    case 'timespanMs': {\n      const ms = Math.abs(Math.round(numericCompare - numericBase));\n      return (\n        <pre className={`simple-details--${label}`} data-tooltip={numericTitle}>\n          {numericCompare >= numericBase ? '+' : '-'}\n          {ms.toLocaleString()}\n          <Nbsp />\n          ms\n          {deltaPercent}\n        </pre>\n      );\n    }\n    case 'thumbnail':\n      return (\n        <img\n          style={{width: 48, height: 48, objectFit: 'cover'}}\n          src={value}\n          onError={evt => {\n            const img = evt.srcElement;\n            if (!(img instanceof HTMLImageElement)) return;\n\n            // On failure just replace the image with a 1x1 transparent gif.\n            img.onerror = null;\n            img.src =\n              'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n          }}\n        />\n      );\n    case 'url': {\n      let display = value;\n      let hostname = '';\n      try {\n        const url = new URL(value);\n        display = url.pathname;\n        hostname = url.hostname;\n      } catch (_) {}\n\n      // FIXME: use title instead of data-tooltip because of the `overflow: hidden` constraints on the table cell.\n      return (\n        <span title={value}>\n          {display}\n          {hostname ? <span className=\"simple-details__url-hostname\">({hostname})</span> : ''}\n        </span>\n      );\n    }\n    case 'link': {\n      if (!value.url) return <span>{value.text}</span>;\n      return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={value.url}>\n          {value.text}\n        </a>\n      );\n    }\n    case 'code':\n      return <pre>{value}</pre>;\n    case 'numeric': {\n      return (\n        <pre className={`simple-details--${label}`}>\n          {numericCompare >= numericBase ? '+' : '-'}\n          {Math.abs(numericCompare - numericBase).toLocaleString()}\n          {deltaPercent}\n        </pre>\n      );\n    }\n    case 'text':\n      return <span>{value}</span>;\n    case 'node':\n      return <pre>{value.snippet}</pre>;\n    case 'source-location': {\n      if (!value.url) return <pre>{JSON.stringify(value)}</pre>;\n      const {url, line, column} = value;\n      return (\n        <pre>\n          {url}:{line}:{column}\n        </pre>\n      );\n    }\n    case 'debugdata': {\n      return <Fragment />;\n    }\n    default: {\n      const debugdata = JSON.stringify(props);\n      return <pre data-tooltip={debugdata}>{debugdata.slice(0, 20)}</pre>;\n    }\n  }\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport './table-details.css';\nimport {SimpleDetails} from './simple-details';\nimport {\n  zipBaseAndCompareItems,\n  sortZippedBaseAndCompareItems,\n  getRowLabelForIndex,\n} from '@lhci/utils/src/audit-diff-finder';\n\n/** @param {LH.DetailsType} itemType @return {boolean} */\nfunction isNumericValueType(itemType) {\n  switch (itemType) {\n    case 'bytes':\n    case 'ms':\n    case 'timespanMs':\n    case 'numeric':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/** @param {{pair: LHCI.AuditPair}} props */\nexport const TableDetails = props => {\n  const {audit, baseAudit, diffs: allDiffs} = props.pair;\n  if (!audit.details) return <Fragment />;\n  const {headings: compareHeadings, items: compareItems} = audit.details;\n  if (!compareHeadings || !compareItems) return <Fragment />;\n\n  const baseHeadings = (baseAudit && baseAudit.details && baseAudit.details.headings) || [];\n  const baseItems = (baseAudit && baseAudit.details && baseAudit.details.items) || [];\n\n  const zippedItems = zipBaseAndCompareItems(baseItems, compareItems);\n  const sortedItems = sortZippedBaseAndCompareItems(allDiffs, zippedItems);\n  const headings = compareHeadings.length ? compareHeadings : baseHeadings;\n  // We'll insert the row label before the first numeric heading, or last if none is found.\n  let insertRowLabelAfterIndex =\n    headings.findIndex(heading =>\n      isNumericValueType(heading.valueType || heading.itemType || 'unknown')\n    ) - 1;\n  if (insertRowLabelAfterIndex < 0) insertRowLabelAfterIndex = headings.length - 1;\n\n  return (\n    <div className=\"table-details\">\n      <table>\n        <thead>\n          <tr>\n            {headings.map((heading, i) => {\n              const itemType = heading.valueType || heading.itemType || 'unknown';\n              return (\n                <Fragment key={i}>\n                  <th className={`table-column--${itemType}`}>{heading.label || heading.text}</th>\n                  {insertRowLabelAfterIndex === i ? <th /> : null}\n                </Fragment>\n              );\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          {sortedItems.map(({base, compare, diffs}) => {\n            const definedItem = compare || base;\n            // This should never be true, but make tsc happy\n            if (!definedItem) return null;\n\n            const key = `${base && base.index}-${compare && compare.index}`;\n            const state = getRowLabelForIndex(\n              allDiffs,\n              compare && compare.index,\n              base && base.index\n            );\n\n            return (\n              <tr key={key}>\n                {headings.map((heading, j) => {\n                  const itemType = heading.valueType || heading.itemType || 'unknown';\n                  const diff = diffs.find(\n                    /** @return {diff is LHCI.NumericItemAuditDiff} */\n                    diff => diff.type === 'itemDelta' && diff.itemKey === heading.key\n                  );\n\n                  // With the introduction of subitems, not every item will have a value for every heading.\n                  const compareItem = heading.key && compare && compare.item[heading.key];\n                  const baseItem = heading.key && base && base.item[heading.key];\n\n                  return (\n                    <Fragment key={j}>\n                      <td className={`table-column--${itemType}`}>\n                        {compareItem || baseItem ? (\n                          <SimpleDetails\n                            type={itemType}\n                            compareValue={compareItem}\n                            baseValue={baseItem}\n                            diff={diff}\n                          />\n                        ) : (\n                          <Fragment />\n                        )}\n                      </td>\n                      {insertRowLabelAfterIndex === j ? (\n                        <td className=\"table-column--row-label\">\n                          {state === 'added' || state === 'removed' ? state : ''}\n                        </td>\n                      ) : null}\n                    </Fragment>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport {getDeltaLabel} from '@lhci/utils/src/audit-diff-finder';\nimport clsx from 'clsx';\nimport {Nbsp} from '../../../components/nbsp';\nimport './numeric-diff.css';\n\nconst BIG_PICTURE_LIMITS = {\n  'first-contentful-paint': [0, 10000],\n  'first-meaningful-paint': [0, 10000],\n  'largest-contentful-paint': [0, 15000],\n  'speed-index': [0, 15000],\n  'first-cpu-idle': [0, 15000],\n  interactive: [0, 20000],\n  'estimated-input-latency': [0, 1500],\n  'max-potential-fid': [0, 1500],\n  'total-blocking-time': [0, 1500],\n  'cumulative-layout-shift': [0, 1],\n  __default__: [0, 30 * 1000],\n};\n\n/** @param {LH.AuditResult|undefined} audit @param {'lower'|'upper'} limitType */\nconst getBigPictureLimit = (audit, limitType) => {\n  const auditId = /** @type {keyof typeof BIG_PICTURE_LIMITS} */ (audit && audit.id) || '';\n  const limits = BIG_PICTURE_LIMITS[auditId] || BIG_PICTURE_LIMITS.__default__;\n  return limits[limitType === 'lower' ? 0 : 1];\n};\n\n/** @param {number} x @param {'up'|'down'} direction */\nconst toNearestRoundNumber = (x, direction) => {\n  const fn = direction === 'up' ? Math.ceil : Math.floor;\n  if (x < 10) return fn(x);\n  if (x < 100) return fn(x / 10) * 10;\n  if (x < 1000) return fn(x / 100) * 100;\n  if (x < 10000) return fn(x / 1000) * 1000;\n  return fn(x / 2500) * 2500;\n};\n\n/**\n * @param {LH.AuditResult|undefined} audit\n * @param {string|undefined} groupId\n * @return {'ms'|'bytes'|'none'}\n */\nconst getUnitFromAudit = (audit, groupId) => {\n  if (audit && audit.id === 'cumulative-layout-shift') return 'none';\n  if (groupId === 'metrics') return 'ms';\n  if (groupId === 'load-opportunities') return 'ms';\n  if (!audit) return 'none';\n\n  if (audit.details) {\n    const details = audit.details;\n    if (details.overallSavingsMs) return 'ms';\n  }\n\n  const displayValue = audit.displayValue || '';\n  if (/[0-9,.]+\\s(ms|s)$/.test(displayValue)) return 'ms';\n  if (/[0-9,.]+\\s(KB|MB)$/.test(displayValue)) return 'bytes';\n\n  return 'none';\n};\n\n/** @param {number} x @param {{asDelta?: boolean, unit: 'ms'|'bytes'|'none', withSuffix?: boolean, preventSecondsConversion?: boolean}} options */\nconst toDisplay = (x, options) => {\n  const {asDelta = false, withSuffix = false, unit = 'none'} = options;\n  let value = Math.round(x);\n  let fractionDigits = 0;\n  let suffixUnit = '';\n\n  if (unit === 'ms') {\n    suffixUnit = 'ms';\n\n    if (Math.abs(value) >= 1000 && !options.preventSecondsConversion) {\n      value /= 1000;\n      fractionDigits = 1;\n      suffixUnit = 's';\n    }\n  }\n\n  if (unit === 'bytes') {\n    suffixUnit = 'KB';\n    value /= 1024;\n\n    if (Math.abs(value) >= 500) {\n      value /= 1024;\n      fractionDigits = 1;\n      suffixUnit = 'MB';\n    }\n  }\n\n  if (unit === 'none') {\n    if (Math.abs(value) < 10) {\n      value = x;\n      fractionDigits = 1;\n    }\n\n    if (Math.abs(value) >= 50) {\n      value /= 1000;\n      fractionDigits = 1;\n      suffixUnit = 'K';\n    }\n  }\n\n  const string = value.toLocaleString(undefined, {\n    minimumFractionDigits: fractionDigits,\n    maximumFractionDigits: fractionDigits,\n  });\n\n  const numericSign = asDelta && value >= 0 ? '+' : '';\n  const resultStr = numericSign + string + (withSuffix ? suffixUnit : '');\n  return {\n    element: (\n      <span>\n        {numericSign}\n        {string}\n        {withSuffix ? (\n          <Fragment>\n            <Nbsp />\n            {suffixUnit}\n          </Fragment>\n        ) : (\n          ''\n        )}\n      </span>\n    ),\n    string: resultStr,\n    length: resultStr.length,\n  };\n};\n\n/** @param {{diff: LHCI.NumericAuditDiff, audit?: LH.AuditResult, groupId?: string, showAsBigPicture?: boolean, showAsNarrow?: boolean}} props */\nexport const NumericDiff = props => {\n  const {diff, audit, groupId} = props;\n  const unit = getUnitFromAudit(audit, groupId);\n  const currentNumericValue = diff.compareValue;\n  const baseNumericValue = diff.baseValue;\n\n  if (typeof baseNumericValue !== 'number' || typeof currentNumericValue !== 'number') {\n    return <span>No diff available</span>;\n  }\n\n  const delta = currentNumericValue - baseNumericValue;\n  const minValue = Math.min(currentNumericValue, baseNumericValue);\n  const maxValue = Math.max(currentNumericValue, baseNumericValue);\n  const lowerLimit = props.showAsBigPicture\n    ? getBigPictureLimit(audit, 'lower')\n    : toNearestRoundNumber(minValue * 0.8, 'down');\n  const upperLimit = props.showAsBigPicture\n    ? getBigPictureLimit(audit, 'upper')\n    : toNearestRoundNumber(maxValue * 1.2, 'up');\n  const range = upperLimit - lowerLimit;\n\n  const minValueConstrainted = Math.min(Math.max(minValue, lowerLimit), upperLimit);\n  const maxValueConstrainted = Math.min(Math.max(maxValue, lowerLimit), upperLimit);\n  const boxLeft = (100 * (minValueConstrainted - lowerLimit)) / range;\n  const boxRight = 100 - (100 * (maxValueConstrainted - lowerLimit)) / range;\n  const deltaType = getDeltaLabel(delta, 'audit');\n  const minValueIsCurrentValue = minValue === currentNumericValue;\n  const hoverDisplay = `${toDisplay(baseNumericValue, {unit, withSuffix: true}).string} to ${\n    toDisplay(currentNumericValue, {\n      withSuffix: true,\n      unit,\n    }).string\n  }`;\n\n  if (props.showAsNarrow) {\n    return (\n      <div className={clsx('audit-numeric-diff', `text--${deltaType}`)} data-tooltip={hoverDisplay}>\n        {\n          toDisplay(delta, {asDelta: true, withSuffix: true, preventSecondsConversion: true, unit})\n            .element\n        }\n      </div>\n    );\n  }\n\n  // We want to ensure there's ~10px per character of space for the delta label.\n  // The min-width of the bar is ~300px, so if the deltaLabel is going to take up more than\n  // the narrowCutoffThresholdInPercent we want to flip it over to the other side.\n  const {element: deltaLabel, length: deltaLabelLength} = toDisplay(delta, {\n    asDelta: true,\n    withSuffix: true,\n    preventSecondsConversion: true,\n    unit,\n  });\n  const narrowCutoffThresholdInPercent = (deltaLabelLength * 10 * 100) / 300;\n\n  return (\n    <Fragment>\n      <div className=\"audit-numeric-diff\">\n        <div className=\"audit-numeric-diff__left-label\">\n          {toDisplay(lowerLimit, {unit}).element}\n        </div>\n        <div className=\"audit-numeric-diff__bar\">\n          <div\n            className={clsx('audit-numeric-diff__box', {\n              'audit-numeric-diff__box--improvement': deltaType === 'improvement',\n              'audit-numeric-diff__box--regression': deltaType === 'regression',\n            })}\n            style={{left: `${boxLeft}%`, right: `${boxRight}%`}}\n            data-tooltip={hoverDisplay}\n          >\n            <div\n              className=\"audit-numeric-diff__now\"\n              style={{left: minValueIsCurrentValue ? '0%' : '100%'}}\n            />\n            <div\n              className={clsx('audit-numeric-diff__delta-label', {\n                'audit-numeric-diff__delta-label--narrow-left':\n                  deltaType === 'improvement' && boxLeft < narrowCutoffThresholdInPercent,\n                'audit-numeric-diff__delta-label--narrow-right':\n                  deltaType === 'regression' && boxRight < narrowCutoffThresholdInPercent,\n              })}\n              style={{[minValueIsCurrentValue ? 'right' : 'left']: '100%'}}\n            >\n              {deltaLabel}\n            </div>\n          </div>\n        </div>\n        <div className=\"audit-numeric-diff__right-label\">\n          {toDisplay(upperLimit, {unit}).element}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport * as _ from '@lhci/utils/src/lodash';\nimport {h, Fragment} from 'preact';\nimport {ScoreWord} from '../../../components/score-icon';\nimport {NumericDiff} from './numeric-diff';\nimport {getDiffLabel, getRowLabelForIndex} from '@lhci/utils/src/audit-diff-finder';\nimport clsx from 'clsx';\n\n/** @type {Record<string, string>} */\nconst ICONS_BY_AUDIT_ID = {\n  'font-display': 'font_download',\n  'uses-rel-preconnect': 'language',\n\n  'user-timings': 'timer',\n  'bootup-time': 'speed',\n  'mainthread-work-breakdown': 'speed',\n\n  'third-party-summary': 'language',\n\n  deprecations: 'error',\n  'errors-in-console': 'error',\n  'font-sizes': 'format_size',\n};\n\n/** @param {{audit: LH.AuditResult, groupId: string}} props */\nconst IconForAuditItems = props => {\n  const auditId = props.audit.id || '';\n  const groupId = props.groupId || '';\n\n  let icon = '';\n  if (groupId.includes('opportunities')) icon = 'web_asset';\n  if (groupId.includes('a11y')) icon = 'code';\n  if (auditId.includes('image')) icon = 'photo';\n  icon = ICONS_BY_AUDIT_ID[auditId] || icon || 'list_alt';\n\n  return <i className=\"material-icons\">{icon}</i>;\n};\n\n/** @param {{diff: LHCI.AuditDiff, audit: LH.AuditResult, baseAudit: LH.AuditResult}} props */\nconst ScoreDiff = props => {\n  return (\n    <Fragment>\n      <ScoreWord audit={props.baseAudit} />\n      <i\n        className={`material-icons audit-group__diff-arrow audit-group__diff-arrow--${getDiffLabel(\n          props.diff\n        )}`}\n      >\n        arrow_forward\n      </i>\n      <ScoreWord audit={props.audit} />\n    </Fragment>\n  );\n};\n\n/** @param {{diff: LHCI.DisplayValueAuditDiff, audit: LH.AuditResult, baseAudit: LH.AuditResult}} props */\nconst DisplayValueDiff = props => {\n  return (\n    <Fragment>\n      <span>{props.diff.baseValue}</span>\n      <i\n        className={`material-icons audit-group__diff-arrow audit-group__diff-arrow--${getDiffLabel(\n          props.diff\n        )}`}\n      >\n        arrow_forward\n      </i>\n      <span>{props.diff.compareValue}</span>\n    </Fragment>\n  );\n};\n\n/** @param {import('@lhci/utils/src/audit-diff-finder').RowLabel} rowLabel @return {'regression'|'improvement'|'neutral'} */\nfunction getDiffLabelForRowLabel(rowLabel) {\n  switch (rowLabel) {\n    case 'added':\n    case 'worse':\n    case 'ambiguous':\n      return 'regression';\n    case 'removed':\n    case 'better':\n      return 'improvement';\n    case 'no change':\n      return 'neutral';\n  }\n}\n\n/** @param {Array<LHCI.AuditDiff>} diffs */\nfunction getUniqueBaseCompareIndexPairs(diffs) {\n  return _.uniqBy(\n    diffs\n      .map(diff => ({\n        base: 'baseItemIndex' in diff ? diff.baseItemIndex : undefined,\n        compare: 'compareItemIndex' in diff ? diff.compareItemIndex : undefined,\n      }))\n      .filter(indexes => typeof indexes.base === 'number' || typeof indexes.compare === 'number'),\n    idx => `${idx.base}-${idx.compare}`\n  );\n}\n\n/** @param {{diffs: Array<LHCI.AuditDiff>, audit: LH.AuditResult, baseAudit: LH.AuditResult, groupId: string, showAsNarrow?: boolean}} props */\nexport const ItemDiff = props => {\n  const {diffs, baseAudit, groupId} = props;\n  const baseAuditItems = (baseAudit.details && baseAudit.details.items) || [];\n\n  const rowIndexes = getUniqueBaseCompareIndexPairs(diffs);\n  const rowLabels = rowIndexes\n    .map(pair => getRowLabelForIndex(diffs, pair.compare, pair.base))\n    .map(getDiffLabelForRowLabel);\n\n  const regressionCount = rowLabels.filter(label => label === 'regression').length;\n  const improvementCount = rowLabels.filter(label => label === 'improvement').length;\n\n  const baseElements = (\n    <Fragment>\n      <div className=\"audit-group__diff-badge-group\">\n        <IconForAuditItems audit={props.audit} groupId={groupId} />\n        <div className=\"audit-group__diff-badges\">\n          <span className=\"audit-group__diff-badge\">{baseAuditItems.length}</span>\n        </div>\n      </div>\n      <i\n        className={`material-icons audit-group__diff-arrow audit-group__diff-arrow--${\n          improvementCount > regressionCount ? 'improvement' : 'regression'\n        }`}\n      >\n        arrow_forward\n      </i>\n    </Fragment>\n  );\n\n  return (\n    <Fragment>\n      {props.showAsNarrow ? <Fragment /> : baseElements}\n      <div className={clsx(`audit-group__diff-badge-group`)}>\n        <IconForAuditItems audit={props.audit} groupId={groupId} />\n        <div\n          className={clsx('audit-group__diff-badges', {\n            'audit-group__diff-badge-group--multiple': Boolean(regressionCount && improvementCount),\n          })}\n        >\n          {regressionCount ? (\n            <span className=\"audit-group__diff-badge audit-group__diff-badge--regression\">\n              {regressionCount}\n            </span>\n          ) : null}\n          {improvementCount ? (\n            <span className=\"audit-group__diff-badge audit-group__diff-badge--improvement\">\n              {improvementCount}\n            </span>\n          ) : null}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst NoBaseAudit = () => (\n  <div className=\"audit-group__error-message\" data-tooltip=\"Audit did not run in the base report\">\n    <i className=\"material-icons\">error_outline</i> Audit Missing\n  </div>\n);\n\n/** @param {{audit: LH.AuditResult, baseAudit: LH.AuditResult}} props */\nconst ErrorDiff = props => {\n  let message = 'An unknown error occurred while trying to compare the audit results.';\n  if (props.audit.scoreDisplayMode === 'error') {\n    message = `Audit in compare report errored: ${props.audit.errorMessage}`;\n  } else if (props.baseAudit.scoreDisplayMode === 'error') {\n    message = `Audit in base report errored: ${props.baseAudit.errorMessage}`;\n  }\n\n  return (\n    <div className=\"audit-group__error-message\" data-tooltip={message}>\n      <i className=\"material-icons\">error_outline</i> Audit Error\n    </div>\n  );\n};\n\n/** @param {{pair: LHCI.AuditPair, showAsBigPicture: boolean, showAsNarrow: boolean}} props */\nexport const AuditDiff = props => {\n  const {audit, baseAudit, diffs, group} = props.pair;\n  const noDiffAvailable = <span>No diff available</span>;\n\n  if (!baseAudit) return <NoBaseAudit />;\n\n  const errorDiff = diffs.find(diff => diff.type === 'error');\n  if (errorDiff) return <ErrorDiff audit={audit} baseAudit={baseAudit} />;\n\n  const numericDiff = diffs.find(diff => diff.type === 'numericValue');\n  if (numericDiff && numericDiff.type === 'numericValue') {\n    return (\n      <NumericDiff\n        diff={numericDiff}\n        audit={audit}\n        groupId={group.id}\n        showAsBigPicture={props.showAsBigPicture}\n        showAsNarrow={props.showAsNarrow}\n      />\n    );\n  }\n\n  const hasItemDiff = diffs.some(\n    diff => diff.type === 'itemAddition' || diff.type === 'itemRemoval' || diff.type === 'itemDelta'\n  );\n  if (hasItemDiff) {\n    return (\n      <ItemDiff\n        diffs={diffs}\n        audit={audit}\n        baseAudit={baseAudit}\n        groupId={group.id}\n        showAsNarrow={props.showAsNarrow}\n      />\n    );\n  }\n\n  const scoreDiff = diffs.find(diff => diff.type === 'score');\n  if (scoreDiff) return <ScoreDiff diff={scoreDiff} audit={audit} baseAudit={baseAudit} />;\n\n  const displayValueDiff = diffs.find(diff => diff.type === 'displayValue');\n  if (!displayValueDiff || displayValueDiff.type !== 'displayValue') return noDiffAvailable;\n  return <DisplayValueDiff diff={displayValueDiff} audit={audit} baseAudit={baseAudit} />;\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport clsx from 'clsx';\nimport {ScoreWord, ScoreIcon} from '../../../components/score-icon';\nimport {Markdown} from '../../../components/markdown';\nimport {TableDetails} from './table-details';\nimport {NumericDiff} from '../audit-list/numeric-diff';\nimport {ItemDiff} from '../audit-list/audit-diff';\nimport {getDiffLabel} from '@lhci/utils/src/audit-diff-finder';\n\n/** @param {{pair: LHCI.AuditPair, diff: LHCI.AuditDiff}} props */\nconst ScoreOnlyDetails = props => {\n  const {audit, baseAudit} = props.pair;\n  if (!baseAudit) return null;\n\n  return (\n    <div className=\"audit-detail-pane__audit-details--binary\">\n      <ScoreWord audit={baseAudit} />\n      <i\n        className={`material-icons audit-group__diff-arrow audit-group__diff-arrow--${getDiffLabel(\n          props.diff\n        )}`}\n      >\n        arrow_forward\n      </i>\n      <ScoreWord audit={audit} />\n    </div>\n  );\n};\n\n/** @param {{pair: LHCI.AuditPair}} props */\nconst ErrorDetails = props => {\n  const erroredAudit =\n    props.pair.audit.scoreDisplayMode === 'error' ? props.pair.audit : props.pair.baseAudit;\n  if (!erroredAudit) return null;\n  return (\n    <Fragment>\n      <div className=\"audit-detail-pane__audit-details-summary\">\n        Error occurred in the{' '}\n        {erroredAudit === props.pair.baseAudit ? 'base report:' : 'compare report:'}\n      </div>\n      <pre>{erroredAudit.errorMessage || 'Unknown error'}</pre>\n    </Fragment>\n  );\n};\n\n/** @param {{pair: LHCI.AuditPair, key?: string}} props */\nconst Details = props => {\n  const {pair} = props;\n  const details = pair.audit.details || {type: 'unknown'};\n  const baseDetails = (pair.baseAudit && pair.baseAudit.details) || {type: 'unknown'};\n  const hasItems = Boolean((details.items || []).length || (baseDetails.items || []).length);\n\n  let itemDiff = undefined;\n  let tableDetails = undefined;\n  let numericDetails = undefined;\n\n  if (pair.audit.errorMessage || (pair.baseAudit && pair.baseAudit.errorMessage)) {\n    return <ErrorDetails pair={pair} />;\n  }\n\n  if ((details.type === 'table' || details.type === 'opportunity') && hasItems) {\n    tableDetails = <TableDetails pair={pair} />;\n    if (pair.baseAudit) {\n      itemDiff = <ItemDiff {...pair} baseAudit={pair.baseAudit} groupId={pair.group.id} />;\n    }\n  }\n\n  const numericDiff = pair.diffs.find(diff => diff.type === 'numericValue');\n  if (numericDiff && numericDiff.type === 'numericValue') {\n    numericDetails = <NumericDiff diff={numericDiff} audit={pair.audit} />;\n  }\n\n  if (tableDetails || numericDiff) {\n    return (\n      <Fragment>\n        <div className=\"audit-detail-pane__audit-details-summary\">{numericDetails || itemDiff}</div>\n        {tableDetails}\n      </Fragment>\n    );\n  }\n\n  const scoreDiff = pair.diffs.find(diff => diff.type === 'score');\n  if (scoreDiff && scoreDiff.type === 'score')\n    return <ScoreOnlyDetails diff={scoreDiff} pair={props.pair} />;\n\n  return <pre>{JSON.stringify(props.pair, null, 2)}</pre>;\n};\n\n/** @param {{pair: LHCI.AuditPair, key?: string}} props */\nexport const AuditDetail = props => {\n  const {audit} = props.pair;\n\n  return (\n    <div id={`audit-detail-pane-audit--${audit.id}`} className={clsx('audit-detail-pane__audit')}>\n      <div className=\"audit-detail-pane__score\">\n        <ScoreIcon score={audit.score || 0} />\n      </div>\n      <div className=\"audit-detail-pane__audit-title\">{audit.title}</div>\n      <div className=\"audit-detail-pane__audit-description\">\n        <Markdown text={audit.description || ''} />\n      </div>\n      <div className=\"audit-detail-pane__audit-details\">\n        <Details pair={props.pair} />\n      </div>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './audit-detail-pane.css';\nimport {usePreviousValue} from '../../../hooks/use-previous-value.jsx';\nimport {useEffect, useRef} from 'preact/hooks';\nimport {AuditDetail} from './audit-detail';\n\n/**\n * @param {{selectedAuditId: string, setSelectedAuditId: (id: string|null) => void, pairs: Array<LHCI.AuditPair>, baseLhr?: LH.Result}} props\n */\nexport const AuditDetailPane = props => {\n  /** @type {import('preact').Ref<HTMLElement|undefined>} */\n  const paneElementRef = useRef(undefined);\n  const previouslySelectedAuditId = usePreviousValue(props.selectedAuditId);\n\n  // Scroll to the selected audit *when it changes*\n  useEffect(() => {\n    const auditId = props.selectedAuditId;\n    const paneElement = paneElementRef.current;\n    if (!paneElement || !auditId || auditId === previouslySelectedAuditId) return;\n\n    const childElement = paneElement.querySelector(`#audit-detail-pane-audit--${auditId}`);\n    if (!childElement || !(childElement instanceof HTMLElement)) return;\n\n    paneElement.scrollTo(0, childElement.offsetTop);\n  }, [props.selectedAuditId, previouslySelectedAuditId]);\n\n  return (\n    <div className=\"audit-detail-pane\" ref={el => (paneElementRef.current = el)}>\n      <div className=\"audit-detail-pane__close\" onClick={() => props.setSelectedAuditId(null)}>\n        <i className=\"material-icons\">close</i>\n      </div>\n      {props.pairs.map(pair => {\n        const {audit} = pair;\n        if (!audit.id) return undefined;\n        return <AuditDetail key={audit.id} pair={pair} />;\n      })}\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport clsx from 'clsx';\nimport './gauge.css';\nimport {getDiffLabel} from '@lhci/utils/src/audit-diff-finder';\n\n/** @param {{className?: string, score: number, diff?: LHCI.NumericAuditDiff}} props */\nexport const Gauge = props => {\n  const score = Math.round(props.score * 100);\n  const rawBaseScore = props.diff ? props.diff.baseValue : props.score;\n  const baseScore = Math.round(rawBaseScore * 100);\n  const label = props.diff ? getDiffLabel(props.diff) : 'neutral';\n\n  // 352 is ~= 2 * Math.PI * gauge radius (56)\n  // https://codepen.io/xgad/post/svg-radial-progress-meters\n  // score of 50: `stroke-dasharray: 176 352`;\n  // The roundcap on the arc makes it extend slightly past where it should, so we need to adjust it by a few pts.\n  const baseDasharrayScore = Math.max(0, props.score * 352 - 2);\n  const baseStrokeDasharray = `${baseDasharrayScore} 352`;\n  const delta = Math.abs(baseScore - score);\n  const deltaDasharrayScore = Math.max(0, (delta / 100) * 352 - 2);\n  const deltaStrokeDasharray = `${deltaDasharrayScore} 352`;\n  const deltaTransform = `rotate(${(Math.min(score, baseScore) / 100) * 360}deg)`;\n  const indicatorTransform = `rotate(${props.score * 360}deg)`;\n\n  return (\n    <div className={clsx('gauge', `gauge--${label}`)}>\n      <div className=\"gauge-arc\">\n        <svg viewBox=\"0 0 120 120\">\n          <circle\n            className=\"gauge-arc__arc\"\n            transform=\"rotate(-90 60 60)\"\n            r=\"56\"\n            cx=\"60\"\n            cy=\"60\"\n            style={{strokeDasharray: baseStrokeDasharray}}\n          />\n        </svg>\n        <div\n          className=\"gauge-arc__delta-wrapper\"\n          style={{transform: deltaTransform, display: deltaDasharrayScore < 1 ? 'none' : 'block'}}\n        >\n          <svg viewBox=\"0 0 120 120\">\n            <circle\n              className=\"gauge-arc__arc\"\n              transform=\"rotate(-90 60 60)\"\n              r=\"56\"\n              cx=\"60\"\n              cy=\"60\"\n              style={{strokeDasharray: deltaStrokeDasharray}}\n            />\n          </svg>\n        </div>\n        <div className=\"gauge-arc__indicator-wrapper\" style={{transform: indicatorTransform}}>\n          <div className=\"gauge-arc__indicator\" />\n        </div>\n      </div>\n      <span>{score}</span>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport clsx from 'clsx';\n\nimport * as _ from '@lhci/utils/src/lodash.js';\nimport './pwa-gauge.css';\n\n// For SVG to function properly, we need to use the real attribtues that preact doesn't set.\n/* eslint-disable react/no-unknown-property */\n\n/** @typedef {{optimized: boolean, installable: boolean, fastAndReliable: boolean}} PWABadgeStatus */\n\n/** @param {{deltaType: import('@lhci/utils/src/audit-diff-finder').DiffLabel}} props */\nexport const FastReliableIcon = props => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      class={`pwa-icon pwa-icon--${props.deltaType}`}\n    >\n      <g fill-rule=\"nonzero\" fill=\"none\">\n        <circle class={`pwa-icon__background`} cx=\"12\" cy=\"12\" r=\"12\" />\n        <path\n          d=\"M12 4.3l6.3 2.8v4.2c0 3.88-2.69 7.52-6.3 8.4-3.61-.88-6.3-4.51-6.3-8.4V7.1L12 4.3zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.3 12.82c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z\"\n          fill=\"#FFF\"\n        />\n      </g>\n    </svg>\n  );\n};\n\n/** @param {{deltaType: import('@lhci/utils/src/audit-diff-finder').DiffLabel}} props */\nexport const InstallableIcon = props => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      class={`pwa-icon pwa-icon--${props.deltaType}`}\n    >\n      <g fill-rule=\"nonzero\" fill=\"none\">\n        <circle class={`pwa-icon__background`} cx=\"12\" cy=\"12\" r=\"12\" />\n        <path\n          d=\"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z\"\n          fill=\"#FFF\"\n        />\n      </g>\n    </svg>\n  );\n};\n\n/** @param {{deltaType: import('@lhci/utils/src/audit-diff-finder').DiffLabel}} props */\nexport const OptimizedIcon = props => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      class={`pwa-icon pwa-icon--${props.deltaType}`}\n    >\n      <g fill=\"none\" fill-rule=\"evenodd\">\n        <rect class={`pwa-icon__background`} width=\"24\" height=\"24\" rx=\"12\" />\n        <path d=\"M5 5h14v14H5z\" />\n        <path\n          fill=\"#FFF\"\n          d=\"M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z\"\n        />\n      </g>\n    </svg>\n  );\n};\n\n/**\n *\n * @param {PWABadgeStatus} base\n * @param {PWABadgeStatus} compare\n * @param {keyof PWABadgeStatus} key\n * @return {import('@lhci/utils/src/audit-diff-finder').DiffLabel}\n */\nexport function getBadgeDiffType(base, compare, key) {\n  if (base[key] === compare[key]) return 'neutral';\n  if (compare[key]) return 'improvement';\n  return 'regression';\n}\n\n/** @param {LH.Result} lhr @return {PWABadgeStatus} */\nexport function getBadgeStatus(lhr) {\n  const pwaCategory = lhr.categories.pwa;\n  const auditsByCategory = _.groupIntoMap(pwaCategory.auditRefs, ref => ref.group);\n  /** @param {LH.CategoryResult['auditRefs']} [refs] */\n  const hasEveryPass = (refs = []) =>\n    refs.map(ref => lhr.audits[ref.id]).every(audit => audit && audit.score === 1);\n  return {\n    optimized: hasEveryPass(auditsByCategory.get('pwa-optimized') || []),\n    installable: hasEveryPass(auditsByCategory.get('pwa-installable') || []),\n    fastAndReliable: hasEveryPass(auditsByCategory.get('pwa-fast-reliable') || []),\n  };\n}\n\n/** @param {{status: PWABadgeStatus}} props */\nexport const PWAGauge = props => {\n  const {status} = props;\n  const all = status.optimized && status.installable && status.fastAndReliable;\n\n  return (\n    <div\n      className={clsx('pwa-gauge', {\n        'pwa-gauge--all': all,\n        'pwa-gauge--pwa-optimized': !all && status.optimized,\n        'pwa-gauge--pwa-installable': !all && status.installable,\n        'pwa-gauge--pwa-fast-reliable': !all && status.fastAndReliable,\n      })}\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 60 60\">\n        <defs>\n          <linearGradient\n            id=\"pwa-gauge__check-circle__gradient\"\n            x1=\"50%\"\n            y1=\"0%\"\n            x2=\"50%\"\n            y2=\"100%\"\n          >\n            <stop stop-color=\"#00C852\" offset=\"0%\" />\n            <stop stop-color=\"#009688\" offset=\"100%\" />\n          </linearGradient>\n          <linearGradient\n            id=\"pwa-gauge__installable__shadow-gradient\"\n            x1=\"76.056%\"\n            x2=\"24.111%\"\n            y1=\"82.995%\"\n            y2=\"24.735%\"\n          >\n            <stop stop-color=\"#A5D6A7\" offset=\"0%\" />\n            <stop stop-color=\"#80CBC4\" offset=\"100%\" />\n          </linearGradient>\n          <linearGradient\n            id=\"pwa-gauge__fast-reliable__shadow-gradient\"\n            x1=\"76.056%\"\n            y1=\"82.995%\"\n            x2=\"25.678%\"\n            y2=\"26.493%\"\n          >\n            <stop stop-color=\"#64B5F6\" offset=\"0%\" />\n            <stop stop-color=\"#2979FF\" offset=\"100%\" />\n          </linearGradient>\n\n          <g id=\"pwa-gauge__fast-reliable-badge\">\n            <circle fill=\"#FFFFFF\" cx=\"10\" cy=\"10\" r=\"10\" />\n            <path\n              fill=\"#304FFE\"\n              d=\"M10 3.58l5.25 2.34v3.5c0 3.23-2.24 6.26-5.25 7-3.01-.74-5.25-3.77-5.25-7v-3.5L10 3.58zm-.47 10.74l2.76-4.83.03-.07c.04-.08 0-.24-.22-.24h-1.64l.47-3.26h-.47l-2.7 4.77c-.02.01.05-.1-.04.05-.09.16-.1.31.18.31h1.63l-.47 3.27h.47z\"\n            />\n          </g>\n          <g id=\"pwa-gauge__installable-badge\">\n            <circle fill=\"#FFFFFF\" cx=\"10\" cy=\"10\" r=\"10\" />\n            <path\n              fill=\"#009688\"\n              d=\"M10 4.167A5.835 5.835 0 0 0 4.167 10 5.835 5.835 0 0 0 10 15.833 5.835 5.835 0 0 0 15.833 10 5.835 5.835 0 0 0 10 4.167zm2.917 6.416h-2.334v2.334H9.417v-2.334H7.083V9.417h2.334V7.083h1.166v2.334h2.334v1.166z\"\n            />\n          </g>\n        </defs>\n\n        <g stroke=\"none\" fill-rule=\"nonzero\">\n          {/* Background and PWA logo (color by default) */}\n          <circle class=\"pwa-gauge__disc\" cx=\"30\" cy=\"30\" r=\"30\" />\n          <g class=\"pwa-gauge__logo\">\n            <path\n              class=\"pwa-gauge__logo--secondary-color\"\n              d=\"M35.66 19.39l.7-1.75h2L37.4 15 38.6 12l3.4 9h-2.51l-.58-1.61z\"\n            />\n            <path\n              class=\"pwa-gauge__logo--primary-color\"\n              d=\"M33.52 21l3.65-9h-2.42l-2.5 5.82L30.5 12h-1.86l-1.9 5.82-1.35-2.65-1.21 3.72L25.4 21h2.38l1.72-5.2 1.64 5.2z\"\n            />\n            <path\n              class=\"pwa-gauge__logo--secondary-color\"\n              fill-rule=\"nonzero\"\n              d=\"M20.3 17.91h1.48c.45 0 .85-.05 1.2-.15l.39-1.18 1.07-3.3a2.64 2.64 0 0 0-.28-.37c-.55-.6-1.36-.91-2.42-.91H18v9h2.3V17.9zm1.96-3.84c.22.22.33.5.33.87 0 .36-.1.65-.29.87-.2.23-.59.35-1.15.35h-.86v-2.41h.87c.52 0 .89.1 1.1.32z\"\n            />\n          </g>\n\n          {/* No badges. */}\n          <rect\n            class=\"pwa-gauge__component pwa-gauge__na-line\"\n            fill=\"#FFFFFF\"\n            x=\"20\"\n            y=\"32\"\n            width=\"20\"\n            height=\"4\"\n            rx=\"2\"\n          />\n\n          {/* Just fast and reliable. */}\n          <g\n            class=\"pwa-gauge__component pwa-gauge__fast-reliable-badge\"\n            transform=\"translate(20, 29)\"\n          >\n            <path\n              fill=\"url(#pwa-gauge__fast-reliable__shadow-gradient)\"\n              d=\"M33.63 19.49A30 30 0 0 1 16.2 30.36L3 17.14 17.14 3l16.49 16.49z\"\n            />\n            <use href=\"#pwa-gauge__fast-reliable-badge\" />\n          </g>\n\n          {/* Just installable. */}\n          <g\n            class=\"pwa-gauge__component pwa-gauge__installable-badge\"\n            transform=\"translate(20, 29)\"\n          >\n            <path\n              fill=\"url(#pwa-gauge__installable__shadow-gradient)\"\n              d=\"M33.629 19.487c-4.272 5.453-10.391 9.39-17.415 10.869L3 17.142 17.142 3 33.63 19.487z\"\n            />\n            <use href=\"#pwa-gauge__installable-badge\" />\n          </g>\n\n          {/* Fast and reliable and installable. */}\n          <g class=\"pwa-gauge__component pwa-gauge__fast-reliable-installable-badges\">\n            <g transform=\"translate(8, 29)\">\n              {/* fast and reliable */}\n              <path\n                fill=\"url(#pwa-gauge__fast-reliable__shadow-gradient)\"\n                d=\"M16.321 30.463L3 17.143 17.142 3l22.365 22.365A29.864 29.864 0 0 1 22 31c-1.942 0-3.84-.184-5.679-.537z\"\n              />\n              <use href=\"#pwa-gauge__fast-reliable-badge\" />\n            </g>\n            <g transform=\"translate(32, 29)\">\n              {/* installable */}\n              <path\n                fill=\"url(#pwa-gauge__installable__shadow-gradient)\"\n                d=\"M25.982 11.84a30.107 30.107 0 0 1-13.08 15.203L3 17.143 17.142 3l8.84 8.84z\"\n              />\n              <use href=\"#pwa-gauge__installable-badge\" />\n            </g>\n          </g>\n\n          {/* Full PWA. */}\n          <g class=\"pwa-gauge__component pwa-gauge__check-circle\" transform=\"translate(18, 28)\">\n            <circle fill=\"#FFFFFF\" cx=\"12\" cy=\"12\" r=\"12\" />\n            <path\n              fill=\"url(#pwa-gauge__check-circle__gradient)\"\n              d=\"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n            />\n          </g>\n        </g>\n      </svg>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './score-delta-badge.css';\nimport {getDiffLabel} from '@lhci/utils/src/audit-diff-finder';\nimport clsx from 'clsx';\n\n/** @param {{diff: LHCI.NumericAuditDiff, className?: string}} props */\nexport const ScoreDeltaBadge = props => {\n  const delta = Math.round((props.diff.compareValue - props.diff.baseValue) * 100);\n  return (\n    <div\n      className={clsx(\n        'score-delta-badge',\n        `score-delta-badge--${getDiffLabel(props.diff)}`,\n        props.className\n      )}\n    >\n      {delta < 0 ? delta : `+${delta}`}\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport './lhr-comparison-scores.css';\nimport clsx from 'clsx';\n\nimport {Gauge} from '../../components/gauge';\nimport {\n  PWAGauge,\n  getBadgeStatus,\n  FastReliableIcon,\n  InstallableIcon,\n  OptimizedIcon,\n  getBadgeDiffType,\n} from '../../components/pwa-gauge';\nimport {ScoreDeltaBadge} from '../../components/score-delta-badge';\n\n/** @param {{lhr: LH.Result, baseLhr?: LH.Result, categoryId: string}} props */\nconst StandardScoreItem = props => {\n  const {lhr, baseLhr, categoryId} = props;\n  const category = lhr.categories[categoryId];\n  const baseCategory = baseLhr && baseLhr.categories[categoryId];\n  /** @type {LHCI.NumericAuditDiff|undefined} */\n  const diff = baseCategory && {\n    auditId: '',\n    type: 'score',\n    baseValue: baseCategory.score,\n    compareValue: category.score,\n  };\n\n  return (\n    <div key={categoryId} className={clsx('lhr-comparison-scores-item')}>\n      <Gauge score={category.score} diff={diff} />\n      <div className=\"lhr-comparison-scores-item__label\">{category.title}</div>\n      {diff ? <ScoreDeltaBadge diff={diff} className=\"lhr-comparison-scores-item__delta\" /> : null}\n    </div>\n  );\n};\n\n/** @param {{lhr: LH.Result, baseLhr?: LH.Result, categoryId: string}} props */\nconst PwaScoreItem = props => {\n  const {lhr, baseLhr, categoryId} = props;\n  const compareStatus = getBadgeStatus(lhr);\n  let deltaEl;\n  const overallStatus = 'neutral';\n\n  if (baseLhr) {\n    const baseStatus = getBadgeStatus(baseLhr);\n    const diffTypes = {\n      fastAndReliable: getBadgeDiffType(baseStatus, compareStatus, 'fastAndReliable'),\n      installable: getBadgeDiffType(baseStatus, compareStatus, 'installable'),\n      optimized: getBadgeDiffType(baseStatus, compareStatus, 'optimized'),\n    };\n    const allEqual = Object.values(diffTypes).every(type => type === 'neutral');\n\n    const individualBadges = (\n      <Fragment>\n        {diffTypes.fastAndReliable === 'neutral' ? (\n          <Fragment />\n        ) : (\n          <FastReliableIcon deltaType={diffTypes.fastAndReliable} />\n        )}\n        {diffTypes.installable === 'neutral' ? (\n          <Fragment />\n        ) : (\n          <InstallableIcon deltaType={diffTypes.installable} />\n        )}\n        {diffTypes.optimized === 'neutral' ? (\n          <Fragment />\n        ) : (\n          <OptimizedIcon deltaType={diffTypes.optimized} />\n        )}\n      </Fragment>\n    );\n\n    deltaEl = (\n      <div className={clsx('lhr-comparison-scores-item__delta')}>\n        {allEqual ? '-' : individualBadges}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      key={categoryId}\n      className={clsx(\n        'lhr-comparison-scores-item',\n        `lhr-comparison-scores-item--pwa`,\n        `lhr-comparison-scores-item--${overallStatus}`\n      )}\n    >\n      <PWAGauge status={compareStatus} />\n      <div className=\"lhr-comparison-scores-item__label\">PWA</div>\n      {deltaEl}\n    </div>\n  );\n};\n\n/**\n * @param {{lhr?: LH.Result, baseLhr?: LH.Result}} props\n */\nexport const LhrComparisonScores = props => {\n  const {lhr, baseLhr} = props;\n  if (!lhr) return null;\n\n  const compareCategoryIds = Object.keys(lhr.categories);\n  const baseCategoryIds = baseLhr ? Object.keys(baseLhr.categories) : compareCategoryIds;\n  const categoryIds = compareCategoryIds.filter(id => baseCategoryIds.includes(id));\n\n  return (\n    <div className=\"lhr-comparison-scores\">\n      {categoryIds\n        .sort((idA, idB) => {\n          const sortKeyA = idA === 'pwa' ? Infinity : categoryIds.indexOf(idA);\n          const sortKeyB = idB === 'pwa' ? Infinity : categoryIds.indexOf(idB);\n          return sortKeyA - sortKeyB;\n        })\n        .map(id => {\n          return id === 'pwa' ? (\n            <PwaScoreItem lhr={lhr} baseLhr={baseLhr} categoryId={id} />\n          ) : (\n            <StandardScoreItem lhr={lhr} baseLhr={baseLhr} categoryId={id} />\n          );\n        })}\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport './audit-group.css';\nimport {Paper} from '../../../components/paper';\nimport {ScoreIcon} from '../../../components/score-icon';\nimport clsx from 'clsx';\nimport {AuditDiff} from './audit-diff';\nimport {useState} from 'preact/hooks';\nimport {openLhrInClassicViewer} from '../../../components/lhr-viewer-link';\n\n/** @typedef {{key?: string, group: {id: string, title: string}, selectedAuditId: string|null, setSelectedAuditId: (id: string|null) => void, pairs: Array<LHCI.AuditPair>, baseLhr?: LH.Result, showAsNarrow: boolean, showAsUnchanged: boolean}} Props */\n\n/** @param {Props & {showAsBigPicture: boolean, setShowAsBigPicture: (b: boolean) => void}} props */\nconst MetricsTabHeader = props => {\n  return (\n    <div className=\"audit-group__big-picture-tabs\">\n      <span\n        className={clsx('big-picture-tabs__tab', {\n          'big-picture-tabs__tab--selected': props.showAsBigPicture,\n        })}\n        onClick={() => props.setShowAsBigPicture(true)}\n      >\n        Overview\n      </span>\n      <span\n        className={clsx('big-picture-tabs__tab', {\n          'big-picture-tabs__tab--selected': !props.showAsBigPicture,\n        })}\n        onClick={() => props.setShowAsBigPicture(false)}\n      >\n        Magnified\n      </span>\n    </div>\n  );\n};\n\n/** @param {Props & {showAsBigPicture: boolean}} props */\nconst ChangedAuditList = props => {\n  return (\n    <Fragment>\n      {props.pairs.map(pair => {\n        const {audit} = pair;\n\n        // Only metrics are allowed to display the numericValue diff in this view.\n        if (props.group.id !== 'metrics') {\n          pair = {...pair, diffs: pair.diffs.filter(diff => diff.type !== 'numericValue')};\n        }\n\n        return (\n          <div\n            key={audit.id}\n            className={clsx('audit-group__audit')}\n            onClick={() => props.setSelectedAuditId(audit.id || null)}\n          >\n            <div className=\"audit-group__audit-score\">\n              <ScoreIcon score={audit.score || 0} />\n            </div>\n            <div className=\"audit-group__audit-title\">{audit.title}</div>\n            <div className=\"audit-group__audit-diff\">\n              <AuditDiff\n                pair={pair}\n                showAsBigPicture={props.showAsBigPicture}\n                showAsNarrow={props.showAsNarrow}\n              />\n            </div>\n          </div>\n        );\n      })}\n    </Fragment>\n  );\n};\n\n/** @param {Props & {expanded: boolean}} props */\nconst UnchangedAuditList = props => {\n  const baseLhr = props.baseLhr;\n  if (!baseLhr || !props.expanded) return <Fragment />;\n\n  return (\n    <Fragment>\n      {props.pairs.map(pair => {\n        const {audit} = pair;\n\n        return (\n          <div\n            key={audit.id}\n            className={clsx('audit-group__audit', 'audit-group__audit--unchanged')}\n            onClick={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              openLhrInClassicViewer(baseLhr);\n            }}\n          >\n            <div className=\"audit-group__audit-score\">\n              <ScoreIcon score={audit.score || 0} />\n            </div>\n            <div className=\"audit-group__audit-title\">{audit.title}</div>\n            <div className=\"audit-group__audit-diff\">Open Report</div>\n          </div>\n        );\n      })}\n    </Fragment>\n  );\n};\n\n/** @param {Props} props */\nexport const AuditGroup = props => {\n  const {group} = props;\n  const [showAsBigPicture, setShowAsBigPicture] = useState(group.id === 'metrics');\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <Paper\n      className={clsx('audit-group', {\n        'audit-group--expanded': expanded,\n        'audit-group--unchanged': props.showAsUnchanged,\n      })}\n    >\n      <div className=\"audit-group__header\" onClick={() => setExpanded(!expanded)}>\n        <div className=\"audit-group__title\">\n          {group.title} {props.showAsUnchanged ? `(${props.pairs.length})` : ''}\n        </div>\n        <div className=\"audit-group__expand-toggle\">\n          <i className=\"material-icons\">chevron_right</i>\n        </div>\n        {group.id === 'metrics' && !props.showAsNarrow ? (\n          <MetricsTabHeader\n            {...props}\n            showAsBigPicture={showAsBigPicture}\n            setShowAsBigPicture={setShowAsBigPicture}\n          />\n        ) : (\n          <Fragment />\n        )}\n      </div>\n      <div className=\"audit-group__audits\">\n        {props.showAsUnchanged ? (\n          <UnchangedAuditList {...props} expanded={expanded} />\n        ) : (\n          <ChangedAuditList {...props} showAsBigPicture={showAsBigPicture} />\n        )}\n      </div>\n    </Paper>\n  );\n};\n", "/**\n * @license Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './lhr-comparison-legend.css';\nimport {ScoreIcon} from '../../components/score-icon';\n\nexport const LhrComparisonLegend = () => {\n  return (\n    <div className=\"lhr-comparison-legend\">\n      <ScoreIcon score={0} />\n      <span className=\"lhr-comparison-legend__label\">0-49</span>\n      <ScoreIcon score={0.5} />\n      <span className=\"lhr-comparison-legend__label\">50-89</span>\n      <ScoreIcon score={1} />\n      <span className=\"lhr-comparison-legend__label\">90-100</span>\n      <i className=\"lhr-comparison-legend__chip lhr-comparison-legend__chip--regression\" />\n      <span className=\"lhr-comparison-legend__label\">Regression</span>\n      <i className=\"lhr-comparison-legend__chip lhr-comparison-legend__chip--improvement\" />\n      <span className=\"lhr-comparison-legend__label\">Improvement</span>\n    </div>\n  );\n};\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n", "import { Component, createElement, _unmount as unmount, options } from 'preact';\nimport { removeNode } from '../../src/util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode) {\n\tif (error.then && oldVNode) {\n\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; vnode = vnode._parent;) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (oldVNode) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\n\t\t\t\tcomponent._childDidSuspend(error);\n\t\t\t\treturn; // Don't call oldCatchError if we found a Suspense\n\t\t\t}\n\t\t}\n\t}\n\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nfunction detachDom(children) {\n\tfor (let i = 0; i < children.length; i++) {\n\t\tlet child = children[i];\n\t\tif (child != null) {\n\t\t\tif (typeof child.type !== 'function' && child._dom) {\n\t\t\t\tremoveNode(child._dom);\n\t\t\t}\n\t\t\telse if (child._children) {\n\t\t\t\tdetachDom(child._children);\n\t\t\t}\n\t\t}\n\t}\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._suspensions = [];\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @param {Promise} promise The thrown promise\n */\nSuspense.prototype._childDidSuspend = function(promise) {\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\tc._suspensions.push(promise);\n\n\tconst onSuspensionComplete = () => {\n\t\t// From https://twitter.com/Rich_Harris/status/1125850391155965952\n\t\tc._suspensions[c._suspensions.indexOf(promise)] = c._suspensions[c._suspensions.length - 1];\n\t\tc._suspensions.pop();\n\n\t\tif (c._suspensions.length == 0) {\n\t\t\tunmount(c.props.fallback);\n\t\t\tc._vnode._dom = null;\n\n\t\t\tc._vnode._children = c.state._parkedChildren;\n\t\t\tc.setState({ _parkedChildren: null });\n\t\t}\n\t};\n\n\tif (c.state._parkedChildren == null) {\n\t\tc.setState({ _parkedChildren: c._vnode._children });\n\t\tdetachDom(c._vnode._children);\n\t\tc._vnode._children = [];\n\t}\n\n\tpromise.then(onSuspensionComplete, onSuspensionComplete);\n};\n\nSuspense.prototype.render = function(props, state) {\n\treturn state._parkedChildren ? props.fallback : props.children;\n};\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\t(exports) => { component = exports.default; },\n\t\t\t\t(e) => { error = e; },\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n", "import { hydrate, render as preactRender, cloneElement as preactCloneElement, createRef, h, Component, options, toChildArray, createContext, Fragment, _unmount } from 'preact';\nimport { useState, useReducer, useEffect, useLayoutEffect, useRef, useImperativeHandle, useMemo, useCallback, useContext, useDebugValue } from 'preact/hooks';\nimport { Suspense, lazy } from './suspense';\nimport { assign, removeNode } from '../../src/util';\n\nconst version = '16.8.0'; // trick libraries to think we are react\n\n/* istanbul ignore next */\nconst REACT_ELEMENT_TYPE = (typeof Symbol!=='undefined' && Symbol.for && Symbol.for('react.element')) || 0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\t/* istanbul ignore next */\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = () => {};\n\treturn e.nativeEvent = e;\n};\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Normalize DOM vnode properties.\n * @param {import('./internal').VNode} vnode The vnode to normalize props of\n * @param {object | null | undefined} props props to normalize\n */\nfunction handleElementVNode(vnode, props) {\n\tlet shouldSanitize, attrs, i;\n\tfor (i in props) if ((shouldSanitize = CAMEL_PROPS.test(i))) break;\n\tif (shouldSanitize) {\n\t\tattrs = vnode.props = {};\n\t\tfor (i in props) {\n\t\t\tattrs[CAMEL_PROPS.test(i) ? i.replace(/([A-Z0-9])/, '-$1').toLowerCase() : i] = props[i];\n\t\t}\n\t}\n}\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nfunction render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children==null) {\n\t\twhile (parent.firstChild) {\n\t\t\tremoveNode(parent.firstChild);\n\t\t}\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback==='function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nclass ContextProvider {\n\tgetChildContext() {\n\t\treturn this.props.context;\n\t}\n\trender(props) {\n\t\treturn props.children;\n\t}\n}\n\n/**\n * Portal component\n * @param {object | null | undefined} props\n */\nfunction Portal(props) {\n\tlet _this = this;\n\tlet container = props.container;\n\tlet wrap = h(ContextProvider, { context: _this.context }, props.vnode);\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t\t_this._hasMounted = false;\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props.vnode) {\n\t\tif (!_this._hasMounted) {\n\t\t\t// Create a placeholder that we can use to insert into.\n\t\t\t_this._temp = document.createTextNode('');\n\t\t\t// Hydrate existing nodes to keep the dom intact, when rendering\n\t\t\t// wrap into the container.\n\t\t\thydrate('', container);\n\t\t\t// Append to the container (this matches React's behavior)\n\t\t\tcontainer.appendChild(_this._temp);\n\t\t\t// At this point we have mounted and should set our container.\n\t\t\t_this._hasMounted = true;\n\t\t\t_this._container = container;\n\t\t\t// Render our wrapping element into temp.\n\t\t\tpreactRender(wrap, container, _this._temp);\n\t\t\t_this._children = this._temp._children;\n\t\t}\n\t\telse {\n\t\t\t// When we have mounted and the vnode is present it means the\n\t\t\t// props have changed or a parent is triggering a rerender.\n\t\t\t// This implies we only need to call render. But we need to keep\n\t\t\t// the old tree around, otherwise will treat the vnodes as new and\n\t\t\t// will wrongly call `componentDidMount` on them\n\t\t\tcontainer._children = _this._children;\n\t\t\tpreactRender(wrap, container);\n\t\t\t_this._children = container._children;\n\t\t}\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._hasMounted) {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t}\n\t// Set the wrapping element for future unmounting.\n\t_this._wrap = wrap;\n\n\t_this.componentWillUnmount = () => {\n\t\tif (_this._temp.parentNode) _this._container.removeChild(_this._temp);\n\t\t_unmount(_this._wrap);\n\t};\n\n\treturn null;\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nfunction createPortal(vnode, container) {\n\treturn h(Portal, { vnode, container });\n}\n\nconst mapFn = (children, fn) => {\n\tif (!children) return null;\n\treturn toChildArray(children).map(fn);\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nlet Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tchildren = toChildArray(children);\n\t\tif (children.length!==1) throw new Error('Children.only() expects only one child.');\n\t\treturn children[0];\n\t},\n\ttoArray: toChildArray\n};\n\n/**\n * Wrap `createElement` to apply various vnode normalizations.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n * @param {object | null | undefined} [props] The vnode's properties\n * @param {Array<import('./internal').ComponentChildren>} [children] The vnode's children\n * @returns {import('./internal').VNode}\n */\nfunction createElement(...args) {\n\tlet vnode = h(...args);\n\n\tlet type = vnode.type, props = vnode.props;\n\tif (typeof type!='function') {\n\t\tif (props.defaultValue) {\n\t\t\tif (!props.value && props.value!==0) {\n\t\t\t\tprops.value = props.defaultValue;\n\t\t\t}\n\t\t\tdelete props.defaultValue;\n\t\t}\n\n\t\tif (Array.isArray(props.value) && props.multiple && type==='select') {\n\t\t\ttoChildArray(props.children).forEach((child) => {\n\t\t\t\tif (props.value.indexOf(child.props.value)!=-1) {\n\t\t\t\t\tchild.props.selected = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tdelete props.value;\n\t\t}\n\t\thandleElementVNode(vnode, props);\n\t}\n\n\tvnode.preactCompatNormalized = false;\n\treturn normalizeVNode(vnode);\n}\n\n/**\n * Normalize a vnode\n * @param {import('./internal').VNode} vnode\n */\nfunction normalizeVNode(vnode) {\n\tvnode.preactCompatNormalized = true;\n\tapplyClassName(vnode);\n\treturn vnode;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\tlet vnode = normalizeVNode(preactCloneElement.apply(null, arguments));\n\treturn vnode;\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof===REACT_ELEMENT_TYPE;\n}\n\n/**\n * Normalize event handlers like react does. Most famously it uses `onChange` for any input element.\n * @param {import('./internal').VNode} vnode The vnode to normalize events on\n */\nfunction applyEventNormalization({ type, props }) {\n\tif (!props || typeof type!='string') return;\n\tlet newProps = {};\n\n\tfor (let i in props) {\n\t\tif (/^on(Ani|Tra)/.test(i)) {\n\t\t\tprops[i.toLowerCase()] = props[i];\n\t\t\tdelete props[i];\n\t\t}\n\t\tnewProps[i.toLowerCase()] = i;\n\n\t}\n\tif (newProps.ondoubleclick) {\n\t\tprops.ondblclick = props[newProps.ondoubleclick];\n\t\tdelete props[newProps.ondoubleclick];\n\t}\n\tif (newProps.onbeforeinput) {\n\t\tprops.onbeforeinput = props[newProps.onbeforeinput];\n\t\tdelete props[newProps.onbeforeinput];\n\t}\n\t// for *textual inputs* (incl textarea), normalize `onChange` -> `onInput`:\n\tif (newProps.onchange && (type==='textarea' || (type.toLowerCase()==='input' && !/^fil|che|ra/i.test(props.type)))) {\n\t\tlet normalized = newProps.oninput || 'oninput';\n\t\tif (!props[normalized]) {\n\t\t\tprops[normalized] = props[newProps.onchange];\n\t\t\tdelete props[newProps.onchange];\n\t\t}\n\t}\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Alias `class` prop to `className` if available\n * @param {import('./internal').VNode} vnode\n */\nfunction applyClassName(vnode) {\n\tlet a = vnode.props;\n\tif (a.class || a.className) {\n\t\tclassNameDescriptor.enumerable = 'className' in a;\n\t\tif (a.className) a.class = a.className;\n\t\tObject.defineProperty(a, 'className', classNameDescriptor);\n\t}\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() { return this.class; }\n};\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nfunction shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i]!==b[i]) return true;\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn component && (component.base || component.nodeType === 1 && component) || null;\n}\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nclass PureComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t// Some third-party libraries check if this property is present\n\t\tthis.isPureReactComponent = true;\n\t}\n\n\tshouldComponentUpdate(props, state) {\n\t\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n\t}\n}\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionalComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionalComponent}\n */\nfunction memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref==nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\t\treturn (!comparer\n\t\t\t? shallowDiffers(this.props, nextProps)\n\t\t\t: !comparer(this.props, nextProps)) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn h(c, assign({}, props));\n\t}\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./internal').ForwardFn} fn\n * @returns {import('./internal').FunctionalComponent}\n */\nfunction forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet ref = props.ref;\n\t\tdelete props.ref;\n\t\treturn fn(props, ref);\n\t}\n\tForwarded.prototype.isReactComponent = true;\n\tForwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n\n// Patch in `UNSAFE_*` lifecycle hooks\nfunction setSafeDescriptor(proto, key) {\n\tif (proto['UNSAFE_'+key] && !proto[key]) {\n\t\tObject.defineProperty(proto, key, {\n\t\t\tconfigurable: false,\n\t\t\tget() { return this['UNSAFE_' + key]; },\n\t\t\tset(v) { this['UNSAFE_' + key] = v; }\n\t\t});\n\t}\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tapplyEventNormalization(vnode);\n\tlet type = vnode.type;\n\tif (type && type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\n\t// We can't just patch the base component class, because components that use\n\t// inheritance and are transpiled down to ES5 will overwrite our patched\n\t// getters and setters. See #1941\n\tif (typeof type === 'function' && !type._patchedLifecycles && type.prototype) {\n\t\tsetSafeDescriptor(type.prototype, 'componentWillMount');\n\t\tsetSafeDescriptor(type.prototype, 'componentWillReceiveProps');\n\t\tsetSafeDescriptor(type.prototype, 'componentWillUpdate');\n\t\ttype._patchedLifecycles = true;\n\t}\n\t/* istanbul ignore next */\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\trender as hydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tSuspense,\n\tlazy\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate: render,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tunstable_batchedUpdates,\n\tSuspense,\n\tlazy\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport {createPortal, useRef, useEffect} from 'preact/compat';\nimport clsx from 'clsx';\nimport './modal.css';\n\n/** @param {{className?: string, children: LHCI.PreactNode, onClose: () => void}} props */\nexport const Modal = props => {\n  const modalRootRef = useRef(\n    document.getElementById('preact-modal-root') || document.createElement('div')\n  );\n\n  useEffect(() => {\n    modalRootRef.current.id = 'preact-modal-root';\n    document.body.appendChild(modalRootRef.current);\n    return () => document.body.removeChild(modalRootRef.current);\n  }, []);\n\n  return createPortal(\n    <div className=\"modal-backdrop\">\n      <div className={clsx('modal', props.className)} style={{position: 'relative'}}>\n        {props.children}\n        <div className=\"modal__close\" onClick={props.onClose}>\n          <i className=\"material-icons\">close</i>\n        </div>\n      </div>\n    </div>,\n    modalRootRef.current\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './lhr-comparison-runtime-diff.css';\nimport clsx from 'clsx';\n\n/** @typedef {{label: string, base: string, compare: string, severity: 'warn'|'error'}} RuntimeDiff */\n\n/** @param {any} value */\nfunction getStringValueFromRawConfigSetting(value) {\n  if (typeof value === 'string') return value;\n  if (typeof value === 'number') return value.toString();\n  if (typeof value === 'undefined') return 'Unset';\n  if (typeof value === 'boolean') return value ? 'Enabled' : 'Disabled';\n  if (Array.isArray(value)) return value.join(', ');\n  return 'Unknown';\n}\n\n/**\n * @param {LH.Result} lhr\n * @param {LH.Result|undefined} baseLhr\n * @return {Array<RuntimeDiff>}\n */\nexport function computeRuntimeDiffs(lhr, baseLhr) {\n  if (!baseLhr) return [];\n\n  /** @type {Array<RuntimeDiff>} */\n  const diffs = [];\n\n  const {benchmarkIndex} = lhr.environment;\n  const {benchmarkIndex: baseBenchmarkIndex} = baseLhr.environment;\n  const benchmarkMultiplicativeDelta =\n    Math.abs(benchmarkIndex - baseBenchmarkIndex) / Math.min(benchmarkIndex, baseBenchmarkIndex);\n  if (benchmarkMultiplicativeDelta > 1.5) {\n    diffs.push({\n      label: 'CPU/Memory Power',\n      base: baseLhr.environment.benchmarkIndex.toString(),\n      compare: lhr.environment.benchmarkIndex.toString(),\n      severity: benchmarkMultiplicativeDelta > 2 ? 'error' : 'warn',\n    });\n  }\n\n  const settings = lhr.configSettings;\n  const baseSettings = baseLhr.configSettings;\n  const throttling = settings.throttling || {};\n  const baseThrottling = settings.throttling || {};\n  const potentialDiffs = [\n    ['Lighthouse Version', baseLhr.lighthouseVersion, lhr.lighthouseVersion],\n    ['Storage Reset', baseSettings.disableStorageReset, settings.disableStorageReset],\n    ['Emulated Form Factor', baseSettings.emulatedFormFactor, settings.emulatedFormFactor],\n    ['Throttling Method', baseSettings.throttlingMethod, settings.throttlingMethod],\n    ['CPU Throttling', baseThrottling.cpuSlowdownMultiplier, throttling.cpuSlowdownMultiplier],\n    ['Network RTT', baseThrottling.rttMs, throttling.rttMs],\n    ['Network Throughput', baseThrottling.throughputKbps, throttling.throughputKbps],\n    ['Network RTT', baseThrottling.requestLatencyMs, throttling.requestLatencyMs],\n    [\n      'Network Throughput (Up)',\n      baseThrottling.uploadThroughputKbps,\n      throttling.uploadThroughputKbps,\n    ],\n    [\n      'Network Throughput (Down)',\n      baseThrottling.downloadThroughputKbps,\n      throttling.downloadThroughputKbps,\n    ],\n  ];\n\n  for (const [label, rawBase, rawCompare] of potentialDiffs) {\n    const base = getStringValueFromRawConfigSetting(rawBase);\n    const compare = getStringValueFromRawConfigSetting(rawCompare);\n    if (base === compare) continue;\n    diffs.push({label, base, compare, severity: 'error'});\n  }\n\n  return diffs;\n}\n\n/**\n * @param {{diffs: Array<RuntimeDiff>, variant: 'mini'|'full'}} props\n */\nexport const LhrRuntimeDiff = props => {\n  const {diffs} = props;\n\n  return (\n    <div\n      className={clsx(\n        'lhr-comparison-runtime-diff',\n        `lhr-comparison-runtime-diff--${props.variant}`\n      )}\n    >\n      <div className=\"lhr-comparison__warning\">\n        <i className=\"material-icons\">info</i>\n        <div>\n          Changes of runtime settings or the environment can substantially affect your Lighthouse\n          scores and might be the reason for the differences here.\n        </div>\n      </div>\n      <div className=\"lhr-comparison-runtime-diff__diffs\">\n        The following runtime differences were detected:\n        <table>\n          <thead>\n            <tr>\n              <th />\n              <th>Base</th>\n              <th>Compare</th>\n            </tr>\n          </thead>\n          <tbody>\n            {diffs.map(diff => (\n              <tr key={diff.label}>\n                <td>{diff.label}</td>\n                <td>{diff.base}</td>\n                <td>{diff.compare}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './comparison.css';\nimport {LH_LOGO_PATH} from '../../components/lhci-components.jsx';\nimport {ReportUploadBox, computeBestDisplayType} from '../../components/report-upload-box';\nimport {LhrComparison} from '../../../../../server/src/ui/routes/build-view/lhr-comparison';\n\n/** @typedef {import('../../app.jsx').ToastMessage} ToastMessage */\n/** @typedef {import('../../app.jsx').ReportData} ReportData */\n\n/** @param {{baseReport: ReportData, compareReport: ReportData, setBaseReport: (d: ReportData|undefined) => void, setCompareReport: (d: ReportData|undefined) => void, addToast: (t: ToastMessage) => void}} props */\nexport const ComparisonRoute = props => {\n  const displayType = computeBestDisplayType(props.baseReport.lhr, props.compareReport.lhr);\n  return (\n    <div className=\"comparison\">\n      <div className=\"comparison-header\">\n        <div\n          className=\"comparison-header__switcher\"\n          onClick={() => {\n            props.setBaseReport(props.compareReport);\n            props.setCompareReport(props.baseReport);\n          }}\n        >\n          <i className=\"material-icons\">swap_horiz</i>\n        </div>\n        <div className=\"comparison-header__logo\">\n          <img\n            src={LH_LOGO_PATH}\n            alt=\"Lighthouse Logo\"\n            onClick={() => {\n              props.setBaseReport(undefined);\n              props.setCompareReport(undefined);\n            }}\n          />\n        </div>\n        <div className=\"comparison-header__upload\">\n          <ReportUploadBox\n            variant=\"base\"\n            dragTarget=\"self\"\n            report={props.baseReport}\n            setReport={props.setBaseReport}\n            addToast={props.addToast}\n            displayType={displayType}\n            showOpenLhrLink\n          />\n          <ReportUploadBox\n            variant=\"compare\"\n            dragTarget=\"self\"\n            report={props.compareReport}\n            setReport={props.setCompareReport}\n            addToast={props.addToast}\n            displayType={displayType}\n            showOpenLhrLink\n          />\n        </div>\n        <a className=\"comparison-header__info\" href=\"https://github.com/GoogleChrome/lighthouse-ci\">\n          <i className=\"material-icons\">info</i>\n        </a>\n      </div>\n      <div className=\"comparison-body\">\n        <LhrComparison\n          lhr={props.compareReport.lhr}\n          baseLhr={props.baseReport.lhr}\n          hookElements={{}}\n        />\n      </div>\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h} from 'preact';\nimport './toast.css';\nimport {useEffect} from 'preact/hooks';\n\n/** @typedef {import('../app.jsx').ToastMessage} ToastMessage */\n\n/** @param {{toast: ToastMessage, setToasts: import('preact/hooks/src').StateUpdater<Array<ToastMessage>>}} props */\nexport const Toast = props => {\n  const setToasts = props.setToasts;\n  const {message, level = 'info'} = props.toast;\n\n  useEffect(() => {\n    const interval = setTimeout(\n      () => setToasts(toasts => toasts.filter(t => t !== props.toast)),\n      5000\n    );\n    return () => clearInterval(interval);\n  }, []);\n\n  return <div className={`toast toast--${level}`}>{message}</div>;\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, Fragment} from 'preact';\nimport {useState, useEffect, useCallback} from 'preact/hooks';\nimport '../../../server/src/ui/app.css';\nimport './app.css';\nimport {LandingRoute} from './routes/landing/landing.jsx';\nimport {ComparisonRoute} from './routes/comparison/comparison.jsx';\nimport {LoadingSpinner} from './components/lhci-components.jsx';\nimport {parseStringAsLhr} from './components/report-upload-box.jsx';\nimport {Toast} from './components/toast.jsx';\n\nconst SEARCH_PARAMS = new URLSearchParams(location.search);\nconst INITIAL_BASE_URL = SEARCH_PARAMS.get('baseReport');\nconst INITIAL_COMPARE_URL = SEARCH_PARAMS.get('compareReport');\n\n/**\n * @typedef {{filename: string, data: string, lhr: LH.Result}} ReportData\n */\n/**\n * @typedef {{message: string, level?: 'error' | 'info'}} ToastMessage\n */\n\n/**\n * @param {string} url\n * @param {(r: ReportData) => void} setReport\n */\nasync function loadReportFromURL(url, setReport) {\n  const filename = new URL(url).pathname.split('/').slice(-1)[0] || 'Unknown';\n  const response = await fetch(url);\n  const data = await response.text();\n  const lhr = parseStringAsLhr(data);\n  if (lhr instanceof Error) throw lhr;\n  setReport({filename, data, lhr});\n}\n\n/**\n * @param {(r: ReportData) => void} setBaseReport\n * @param {(r: ReportData) => void} setCompareReport\n * @param {(b: boolean) => void} setIsLoading\n * @param {(t: ToastMessage) => void} addToast\n */\nasync function loadInitialReports(setBaseReport, setCompareReport, setIsLoading, addToast) {\n  if (window.location.hostname === 'localhost') {\n    const lastBaseReport = localStorage.getItem('lastBaseReport');\n    const lastCompareReport = localStorage.getItem('lastCompareReport');\n    if (lastBaseReport) setBaseReport(JSON.parse(lastBaseReport));\n    if (lastCompareReport) setCompareReport(JSON.parse(lastCompareReport));\n  }\n\n  const promises = [\n    INITIAL_BASE_URL && loadReportFromURL(INITIAL_BASE_URL, setBaseReport),\n    INITIAL_COMPARE_URL && loadReportFromURL(INITIAL_COMPARE_URL, setCompareReport),\n  ].filter(/** @return {p is Promise<void>} */ p => !!p);\n  if (!promises.length) return;\n\n  setIsLoading(true);\n  await Promise.all(\n    promises.map(p =>\n      p.catch(err => {\n        console.error(err); // eslint-disable-line no-console\n        addToast({message: `Failed loading report from URL: ${err.message}`, level: 'error'});\n      })\n    )\n  );\n  setIsLoading(false);\n}\n\nexport const App = () => {\n  const initialReport = /** @type {ReportData|undefined} */ (undefined);\n  const [isLoading, setIsLoading] = useState(false);\n  const [baseReport, setBaseReport] = useState(initialReport);\n  const [compareReport, setCompareReport] = useState(initialReport);\n  const [toasts, setToasts] = useState(/** @type {Array<ToastMessage>} */ ([]));\n  /** @param {ToastMessage} toast */\n  const addToastUnmemoized = toast => setToasts(toasts => [...toasts, toast]);\n  const addToast = useCallback(addToastUnmemoized, [setToasts]);\n\n  useEffect(() => {\n    loadInitialReports(setBaseReport, setCompareReport, setIsLoading, addToast);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('lastBaseReport', JSON.stringify(baseReport));\n    localStorage.setItem('lastCompareReport', JSON.stringify(compareReport));\n  }, [baseReport, compareReport]);\n\n  return (\n    <div className=\"lhci-viewer\">\n      {isLoading ? (\n        <div className=\"loading-container\">\n          <LoadingSpinner />\n        </div>\n      ) : (\n        <Fragment />\n      )}\n      <div className=\"toast-container\">\n        {toasts.map(toast => (\n          <Toast key={toast.message} toast={toast} setToasts={setToasts} />\n        ))}\n      </div>\n      {baseReport && compareReport ? (\n        <ComparisonRoute\n          baseReport={baseReport}\n          setBaseReport={setBaseReport}\n          compareReport={compareReport}\n          setCompareReport={setCompareReport}\n          addToast={addToast}\n        />\n      ) : (\n        <LandingRoute\n          baseReport={baseReport}\n          setBaseReport={setBaseReport}\n          compareReport={compareReport}\n          setCompareReport={setCompareReport}\n          addToast={addToast}\n        />\n      )}\n    </div>\n  );\n};\n", "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {h, render} from 'preact';\nimport {App} from './app.jsx';\n\n// Fontsource for fonts/icons instead of google cdn\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto-mono/400.css';\nimport '@fontsource/roboto-mono/500.css';\nimport '@fontsource/material-icons';\n\nconst preactRoot = document.getElementById('preact-root');\nif (!preactRoot) throw new Error('Missing #preact-root');\nrender(<App />, preactRoot);\n"],
  "mappings": "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",
  "names": []
}
